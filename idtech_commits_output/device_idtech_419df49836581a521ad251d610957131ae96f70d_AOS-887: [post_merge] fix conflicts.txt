419df498 George.Huang 2022-03-04

AOS-887: [post_merge] fix conflicts

- remove unused projects
  aiy_8mq
  evk_a100
  evk_a200
  evk_a300
  vp6820_8mp

Change-Id: Ib8ea00e62dd03d5a13f65ee92b494ade701154e6

diff --git a/imx8m/AndroidProducts.mk b/imx8m/AndroidProducts.mk
index dd2668bc..6556a84f 100644
--- a/imx8m/AndroidProducts.mk
+++ b/imx8m/AndroidProducts.mk
@@ -27,10 +27,6 @@
 # Copied from build/target/product/AndroidProducts.mk
 
 PRODUCT_MAKEFILES := \
-  $(LOCAL_DIR)/evk_a300/evk_a300.mk \
-  $(LOCAL_DIR)/evk_a300/evk_a300_drm.mk \
-  $(LOCAL_DIR)/evk_a200/evk_a200.mk \
-  $(LOCAL_DIR)/evk_a100/evk_a100.mk \
   $(LOCAL_DIR)/bigcypress_8mq/bigcypress_8mq.mk \
   $(LOCAL_DIR)/bigcypress_8mp/bigcypress_8mp.mk \
   $(LOCAL_DIR)/kingscanyon_8mq/kingscanyon_8mq.mk \
@@ -39,13 +35,9 @@ PRODUCT_MAKEFILES := \
   $(LOCAL_DIR)/vp6820_8mq/vp6820_8mq_pci.mk \
   $(LOCAL_DIR)/vp6820_8mq/vp6820_8mq_pcidev.mk \
   $(LOCAL_DIR)/vp6820_8mq/vp6820_8mq_go.mk \
-  $(LOCAL_DIR)/vp6820_8mp/vp6820_8mp.mk \
-  $(LOCAL_DIR)/vp6820_8mp/vp6820_8mp_pci.mk \
-  $(LOCAL_DIR)/vp6820_8mp/vp6820_8mp_pcidev.mk \
   $(LOCAL_DIR)/vp6820_8mn/vp6820_8mn.mk \
   $(LOCAL_DIR)/vp6820_8mn/vp6820_8mn_pci.mk \
   $(LOCAL_DIR)/vp6820_8mn/vp6820_8mn_pcidev.mk \
-  $(LOCAL_DIR)/aiy_8mq/aiy_8mq.mk \
   $(LOCAL_DIR)/redwood_8mq/redwood_8mq.mk \
   $(LOCAL_DIR)/redwood_8mq/redwood_8mq_drm.mk \
   $(LOCAL_DIR)/redwood_8mq/redwood_8mq_pci.mk \
@@ -53,14 +45,6 @@ PRODUCT_MAKEFILES := \
   $(LOCAL_DIR)/redwood_8mq/redwood_8mq_go.mk
 
 COMMON_LUNCH_CHOICES := \
-  evk_a300-user \
-  evk_a300-userdebug \
-  evk_a300_drm-user \
-  evk_a300_drm-userdebug \
-  evk_a200-user \
-  evk_a200-userdebug \
-  evk_a100-user \
-  evk_a100-userdebug \
   bigcypress_8mq-user \
   bigcypress_8mq-userdebug \
   bigcypress_8mp-user \
@@ -83,13 +67,7 @@ COMMON_LUNCH_CHOICES := \
   vp6820_8mq_drm-userdebug \
   vp6820_8mq_go-user \
   vp6820_8mq_go-userdebug \
-  vp6820_8mp-user \
-  vp6820_8mp-userdebug \
-  vp6820_8mp_pci-user \
-  vp6820_8mp_pcidev-user \
   vp6820_8mn-user \
   vp6820_8mn-userdebug \
   vp6820_8mn_pci-user \
   vp6820_8mn_pcidev-user \
-  aiy_8mq-userdebug \
-  aiy_8mq-user
diff --git a/imx8m/aiy_8mq/AndroidBoard.mk b/imx8m/aiy_8mq/AndroidBoard.mk
deleted file mode 100644
index 75defabe..00000000
--- a/imx8m/aiy_8mq/AndroidBoard.mk
+++ /dev/null
@@ -1,8 +0,0 @@
-LOCAL_PATH := $(call my-dir)
-
-include $(CONFIG_REPO_PATH)/common/build/dtbo.mk
-include $(CONFIG_REPO_PATH)/common/build/imx-recovery.mk
-include $(CONFIG_REPO_PATH)/common/build/gpt.mk
-include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/media-profile/media-profile.mk
-include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/sensor/fsl-sensor.mk
--include $(IMX_MEDIA_CODEC_XML_PATH)/mediacodec-profile/mediacodec-profile.mk
diff --git a/imx8m/aiy_8mq/AndroidUboot.mk b/imx8m/aiy_8mq/AndroidUboot.mk
deleted file mode 100644
index ef3016e2..00000000
--- a/imx8m/aiy_8mq/AndroidUboot.mk
+++ /dev/null
@@ -1,51 +0,0 @@
-# uboot.imx in android combine scfw.bin and uboot.bin
-MAKE += SHELL=/bin/bash
-
-ifneq ($(AARCH64_GCC_CROSS_COMPILE),)
-  ATF_CROSS_COMPILE := $(strip $(AARCH64_GCC_CROSS_COMPILE))
-else
-  $(error shell env AARCH64_GCC_CROSS_COMPILE is not set)
-endif
-
-define build_imx_uboot
-	$(hide) echo Building i.MX U-Boot with firmware; \
-	cp $(UBOOT_OUT)/u-boot-nodtb.$(strip $(1)) $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(UBOOT_OUT)/spl/u-boot-spl.bin  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(UBOOT_OUT)/tools/mkimage  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/mkimage_uboot; \
-	cp $(UBOOT_OUT)/arch/arm/dts/imx8mq-phanbell.dtb  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/imx8mq-evk.dtb; \
-	cp $(FSL_PROPRIETARY_PATH)/linux-firmware-imx/firmware/hdmi/cadence/signed_hdmi_imx8m.bin  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(FSL_PROPRIETARY_PATH)/linux-firmware-imx/firmware/ddr/synopsys/lpddr4_pmu_train* $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ PLAT=`echo $(2) | cut -d '-' -f1` clean; \
-	if [ `echo $(2) | cut -d '-' -f3` = "trusty" ] && [ `echo $(2) | rev | cut -d '-' -f1` != "uuu" ]; then \
-		cp $(FSL_PROPRIETARY_PATH)/fsl-proprietary/uboot-firmware/imx8m/tee-imx8mq.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B SPD=trusty 1>/dev/null || exit 1; \
-	else \
-		if [ -f $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin ] ; then \
-			rm -rf $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-		fi; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B 1>/dev/null || exit 1; \
-	fi; \
-	cp $(IMX_PATH)/arm-trusted-firmware/build/`echo $(2) | cut -d '-' -f1`/release/bl31.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/bl31.bin; \
-	$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ clean; \
-	if [ `echo $(2) | rev | cut -d '-' -f1 | rev` != "dual" ]; then \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8M flash_hdmi_spl_uboot || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8M print_fit_hab || exit 1; \
-	else \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8M flash_evk_dual_bootloader || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8M PRINT_FIT_HAB_OFFSET=0x0 print_fit_hab || exit 1; \
-	fi; \
-	if [ `echo $(2) | rev | cut -d '-' -f1 | rev` != "dual" ]; then \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/flash.bin $(UBOOT_COLLECTION)/u-boot-$(strip $(2)).imx; \
-		if [ -f device/idtech/common/prebuilts/spl_tab_auxiliary.img ]; then \
-			dd if=device/idtech/common/prebuilts/spl_tab_auxiliary.img of=$(UBOOT_COLLECTION)/u-boot-$(strip $(2)).imx bs=1 seek=105984 conv=notrunc; \
-		fi; \
-	else \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/flash.bin $(UBOOT_COLLECTION)/spl-$(strip $(2)).bin; \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/u-boot-ivt.itb $(UBOOT_COLLECTION)/bootloader-$(strip $(2)).img; \
-		if [ -f device/idtech/common/prebuilts/spl_tab_auxiliary.img ]; then \
-			dd if=device/idtech/common/prebuilts/spl_tab_auxiliary.img of=$(UBOOT_COLLECTION)/spl-$(strip $(2)).bin bs=1 seek=105984 conv=notrunc; \
-		fi; \
-	fi;
-endef
-
-
diff --git a/imx8m/aiy_8mq/BoardConfig.mk b/imx8m/aiy_8mq/BoardConfig.mk
deleted file mode 100644
index 7bfec62f..00000000
--- a/imx8m/aiy_8mq/BoardConfig.mk
+++ /dev/null
@@ -1,177 +0,0 @@
-# -------@block_infrastructure-------
-#
-# Product-specific compile-time definitions.
-#
-
-include $(CONFIG_REPO_PATH)/imx8m/BoardConfigCommon.mk
-
-# -------@block_common_config-------
-#
-# SoC-specific compile-time definitions.
-#
-
-BOARD_SOC_TYPE := IMX8MQ
-BOARD_SOM_TYPE := coral
-BOARD_TYPE := phanbell
-BOARD_MAIN_DISPLAY_ROTATION := 90
-BOARD_HAVE_VPU := true
-BOARD_VPU_TYPE := hantro
-HAVE_FSL_IMX_GPU2D := false
-HAVE_FSL_IMX_GPU3D := true
-HAVE_FSL_IMX_PXP := false
-TARGET_USES_HWC2 := true
-TARGET_HAVE_VULKAN := true
-
-SOONG_CONFIG_IMXPLUGIN += \
-                          BOARD_VPU_TYPE
-
-SOONG_CONFIG_IMXPLUGIN_BOARD_SOC_TYPE = IMX8MQ
-SOONG_CONFIG_IMXPLUGIN_BOARD_HAVE_VPU = true
-SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_TYPE = hantro
-SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_ONLY = false
-
-# -------@block_memory-------
-USE_ION_ALLOCATOR := true
-USE_GPU_ALLOCATOR := false
-
-# -------@block_storage-------
-TARGET_USERIMAGES_USE_EXT4 := true
-
-# use sparse image.
-TARGET_USERIMAGES_SPARSE_EXT_DISABLED := false
-
-# Support gpt
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  BOARD_BPT_INPUT_FILES += $(CONFIG_REPO_PATH)/common/partition/device-partitions-14.4GB-ab_super.bpt
-  ADDITION_BPT_PARTITION = partition-table-28GB:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab_super.bpt \
-                           partition-table-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-14.4GB-ab-dual-bootloader_super.bpt \
-                           partition-table-28GB-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab-dual-bootloader_super.bpt
-else
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    BOARD_BPT_INPUT_FILES += $(CONFIG_REPO_PATH)/common/partition/device-partitions-13GB-ab-no-product.bpt
-    ADDITION_BPT_PARTITION = partition-table-28GB:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab-no-product.bpt \
-                             partition-table-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-13GB-ab-dual-bootloader-no-product.bpt \
-                             partition-table-28GB-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab-dual-bootloader-no-product.bpt
-  else
-    BOARD_BPT_INPUT_FILES += $(CONFIG_REPO_PATH)/common/partition/device-partitions-14.4GB-ab.bpt
-    ADDITION_BPT_PARTITION = partition-table-28GB:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab.bpt \
-                             partition-table-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-14.4GB-ab-dual-bootloader.bpt \
-                             partition-table-28GB-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab-dual-bootloader.bpt
-  endif
-endif
-
-AB_OTA_PARTITIONS += spl_bak
-LOWER_BOARD_TYPE  = $(shell echo $(BOARD_TYPE) | tr A-Z a-z)
-LOWER_BOARD_SOC_TYPE  = $(shell echo $(BOARD_SOC_TYPE) | tr A-Z a-z)
-BOARD_PREBUILT_DTBOIMAGE := $(OUT_DIR)/target/product/$(PRODUCT_DEVICE)/dtbo-$(BOARD_SOM_TYPE)-$(LOWER_BOARD_TYPE).img
-
-BOARD_USES_METADATA_PARTITION := true
-BOARD_ROOT_EXTRA_FOLDERS += metadata
-
-# -------@block_security-------
-ENABLE_CFI=false
-
-BOARD_AVB_ENABLE := true
-BOARD_AVB_ALGORITHM := SHA256_RSA2048
-# The testkey_rsa4096.pem is copied from external/avb/test/data/testkey_rsa4096.pem
-BOARD_AVB_KEY_PATH := $(CONFIG_REPO_PATH)/common/security/idt_testkey_rsa2048.pem
-
-#BOARD_AVB_BOOT_KEY_PATH := external/avb/test/data/testkey_rsa2048.pem
-#BOARD_AVB_BOOT_ALGORITHM := SHA256_RSA2048
-#BOARD_AVB_BOOT_ROLLBACK_INDEX_LOCATION := 2
-
-# -------@block_treble-------
-# Vendor Interface manifest and compatibility
-DEVICE_MANIFEST_FILE := $(IMX_DEVICE_PATH)/manifest.xml
-ifneq (,$(filter userdebug,$(TARGET_BUILD_VARIANT)))
-DEVICE_MANIFEST_FILE += $(IMX_DEVICE_PATH)/manifest_userdebug.xml
-endif
-DEVICE_MATRIX_FILE := $(IMX_DEVICE_PATH)/compatibility_matrix.xml
-DEVICE_FRAMEWORK_COMPATIBILITY_MATRIX_FILE := $(IMX_DEVICE_PATH)/device_framework_matrix.xml
-
-# -------@block_wifi-------
-BOARD_WLAN_DEVICE            := qcwcn
-WPA_SUPPLICANT_VERSION       := VER_0_8_X
-BOARD_WPA_SUPPLICANT_DRIVER  := NL80211
-BOARD_HOSTAPD_DRIVER         := NL80211
-BOARD_HOSTAPD_PRIVATE_LIB           := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
-BOARD_WPA_SUPPLICANT_PRIVATE_LIB    := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
-
-WIFI_HIDL_FEATURE_DUAL_INTERFACE := true
-
-# -------@block_bluetooth-------
-# Qcom 1CQ(QCA6174) BT
-BOARD_HAVE_BLUETOOTH_QCOM := true
-BOARD_BLUETOOTH_BDROID_BUILDCFG_INCLUDE_DIR := $(IMX_DEVICE_PATH)/bluetooth
-BOARD_HAS_QCA_BT_ROME := true
-BOARD_HAVE_BLUETOOTH_BLUEZ := false
-QCOM_BT_USE_SIBS := true
-ifeq ($(QCOM_BT_USE_SIBS), true)
-    WCNSS_FILTER_USES_SIBS := true
-endif
-
-# -------@block_sensor-------
-BOARD_USE_SENSOR_FUSION := true
-
-# -------@block_kernel_bootimg-------
-BOARD_KERNEL_BASE := 0x40400000
-
-ifeq ($(PRODUCT_IMX_DRM),true)
-CMASIZE=736M
-else
-CMASIZE=1280M
-endif
-
-# NXP default config
-BOARD_KERNEL_CMDLINE := init=/init androidboot.console=ttymxc0 androidboot.hardware=nxp firmware_class.path=/vendor/firmware loop.max_part=7
-
-# framebuffer config
-BOARD_KERNEL_CMDLINE += androidboot.fbTileSupport=enable
-
-# memory config
-BOARD_KERNEL_CMDLINE += transparent_hugepage=never cma=$(CMASIZE)
-
-# display config
-BOARD_KERNEL_CMDLINE += androidboot.lcd_density=246 androidboot.primary_display=imx-dcss androidboot.gui_resolution=1080p
-
-# wifi config
-BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN moal.mod_para=wifi_mod_para.conf
-
-ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-BOARD_KERNEL_CMDLINE += androidboot.vendor.sysrq=1
-endif
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-no-product.dtb
-  else
-    # imx8mq with HDMI display
-    TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2.dtb
-    # imx8mq with MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb
-    # imx8mq with HDMI and MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display.dtb
-    # imx8mq with MIPI panel display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191.dtb
-  endif
-else # no dynamic parition feature
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-no-product-no-dynamic_partition.dtb
-  else
-	TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-no-dynamic_partition.dtb
-  endif
-endif
-
-ALL_DEFAULT_INSTALLED_MODULES += $(BOARD_VENDOR_KERNEL_MODULES)
-
-# -------@block_sepolicy-------
-BOARD_SEPOLICY_DIRS := \
-       $(CONFIG_REPO_PATH)/imx8m/sepolicy \
-       $(IMX_DEVICE_PATH)/sepolicy
-
-ifeq ($(PRODUCT_IMX_DRM),true)
-BOARD_SEPOLICY_DIRS += \
-       $(IMX_DEVICE_PATH)/sepolicy_drm
-endif
-
-BOARD_PLAT_PRIVATE_SEPOLICY_DIR := $(CONFIG_REPO_PATH)/imx8m/sepolicy_system/private
diff --git a/imx8m/aiy_8mq/SharedBoardConfig.mk b/imx8m/aiy_8mq/SharedBoardConfig.mk
deleted file mode 100644
index 1eebb870..00000000
--- a/imx8m/aiy_8mq/SharedBoardConfig.mk
+++ /dev/null
@@ -1,13 +0,0 @@
-# -------@block_kernel_bootimg-------
-
-KERNEL_NAME := Image
-TARGET_KERNEL_ARCH := arm64
-
-# QCA qcacld wifi driver module
-BOARD_VENDOR_KERNEL_MODULES += \
-    $(KERNEL_OUT)/drivers/net/wireless/qcacld-2.0/wlan.ko
-
-# -------@block_security-------
-#Enable this to include trusty support
-PRODUCT_IMX_TRUSTY := true
-
diff --git a/imx8m/aiy_8mq/UbootKernelBoardConfig.mk b/imx8m/aiy_8mq/UbootKernelBoardConfig.mk
deleted file mode 100644
index c55455c5..00000000
--- a/imx8m/aiy_8mq/UbootKernelBoardConfig.mk
+++ /dev/null
@@ -1,22 +0,0 @@
-TARGET_BOOTLOADER_POSTFIX := bin
-UBOOT_POST_PROCESS := true
-
-# u-boot target for imx8mq_evk
-TARGET_BOOTLOADER_CONFIG := imx8mq-lpddr4:imx8mq_phanbell_android_defconfig:signed
-TARGET_BOOTLOADER_CONFIG += imx8mq-lpddr4-dual:imx8mq_phanbell_android_dual_defconfig:signed
-#ifeq ($(PRODUCT_IMX_TRUSTY),true)
-#  TARGET_BOOTLOADER_CONFIG += imx8mq-trusty:imx8mq_phanbell_android_trusty_defconfig
-
-# u-boot target used by uuu for imx8mq_evk
-TARGET_BOOTLOADER_CONFIG += imx8mq-lpddr4-evk-uuu-ktc4g:imx8mq_phanbell_android_uuu_defconfig:signed
-
-TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
-TARGET_KERNEL_ADDITION_DEFCONF ?= android_addition_defconfig
-
-
-# absolute path is used, not the same as relative path used in AOSP make
-TARGET_DEVICE_DIR := $(patsubst %/, %, $(dir $(realpath $(lastword $(MAKEFILE_LIST)))))
-
-# define bootloader rollback index
-BOOTLOADER_RBINDEX ?= 0
-
diff --git a/imx8m/aiy_8mq/aiy_8mq.mk b/imx8m/aiy_8mq/aiy_8mq.mk
deleted file mode 100644
index c234abd9..00000000
--- a/imx8m/aiy_8mq/aiy_8mq.mk
+++ /dev/null
@@ -1,471 +0,0 @@
-# -------@block_infrastructure-------
-
-CONFIG_REPO_PATH := device/idtech
-CURRENT_FILE_PATH :=  $(lastword $(MAKEFILE_LIST))
-IMX_DEVICE_PATH := $(strip $(patsubst %/, %, $(dir $(CURRENT_FILE_PATH))))
-
-# configs shared between uboot, kernel and Android rootfs
-include $(IMX_DEVICE_PATH)/SharedBoardConfig.mk
-
--include $(CONFIG_REPO_PATH)/common/imx_path/ImxPathConfig.mk
-include $(CONFIG_REPO_PATH)/imx8m/ProductConfigCommon.mk
-
-# -------@block_common_config-------
-
-# Overrides
-PRODUCT_NAME := aiy_8mq
-PRODUCT_DEVICE := aiy_8mq
-PRODUCT_MODEL := aiy_8mq
-
-TARGET_BOOTLOADER_BOARD_NAME := EVK
-
-PRODUCT_CHARACTERISTICS := tablet
-
-DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
-
-PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
-
-# -------@block_treble-------
-PRODUCT_FULL_TREBLE_OVERRIDE := true
-
-# -------@block_power-------
-PRODUCT_SOONG_NAMESPACES += vendor/nxp-opensource/imx/power
-PRODUCT_SOONG_NAMESPACES += hardware/google/pixel
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/powerhint_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/powerhint_imx8mq.json
-
-# Charger Mode
-PRODUCT_PRODUCT_PROPERTIES += \
-    ro.charger.no_ui=false
-
-# Do not skip charger_not_need trigger by default
-PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
-    vendor.skip.charger_not_need=0
-
-PRODUCT_PACKAGES += \
-    android.hardware.power-service.imx
-
-# Thermal HAL
-PRODUCT_PACKAGES += \
-    android.hardware.thermal@2.0-service.imx
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/thermal_info_config_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mq.json
-
-# -------@block_app-------
-#Enable this to choose 32 bit user space build
-IMX8_BUILD_32BIT_ROOTFS := false
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/app_whitelist.xml:system/etc/sysconfig/app_whitelist.xml \
-    $(CONFIG_REPO_PATH)/common/permissions/runtime_allowed.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/runtime_allowed.xml \
-    $(CONFIG_REPO_PATH)/common/security/signature_of_signature.public.key:$(TARGET_COPY_OUT_PRODUCT)/etc/security/signature_of_signature.public.key \
-    $(CONFIG_REPO_PATH)/imx8m/device_policy.sh:$(TARGET_COPY_OUT_PRODUCT)/etc/init/hw/device_policy.sh
-
-# -------@block_kernel_bootimg-------
-# Enable this to support vendor boot and boot header v3, this would be a MUST for GKI
-TARGET_USE_VENDOR_BOOT ?= true
-
-# We load the fstab from device tree so this is not needed, but since no kernel modules are installed to vendor
-# boot ramdisk so far, we need this step to generate the vendor-ramdisk folder or build process would fail. This
-# can be deleted once we figure out what kernel modules should be put into the vendor boot ramdisk.
-ifeq ($(TARGET_USE_VENDOR_BOOT),true)
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/fstab.nxp:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/first_stage_ramdisk/fstab.nxp
-endif
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/early.init.cfg:$(TARGET_COPY_OUT_VENDOR)/etc/early.init.cfg \
-    $(IMX_DEVICE_PATH)/ueventd.nxp.rc:$(TARGET_COPY_OUT_VENDOR)/ueventd.rc \
-    $(LINUX_FIRMWARE_IMX_PATH)/linux-firmware-imx/firmware/sdma/sdma-imx7d.bin:$(TARGET_COPY_OUT_VENDOR)/firmware/imx/sdma/sdma-imx7d.bin \
-    $(CONFIG_REPO_PATH)/common/init/init.insmod.sh:$(TARGET_COPY_OUT_VENDOR)/bin/init.insmod.sh
-
-# -------@block_storage-------
-#Enable this to use dynamic partitions for the readonly partitions not touched by bootloader
-TARGET_USE_DYNAMIC_PARTITIONS ?= true
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
-  PRODUCT_USE_DYNAMIC_PARTITIONS := true
-  BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
-  BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
-endif
-
-#Enable this to disable product partition build.
-IMX_NO_PRODUCT_PARTITION := false
-
-$(call inherit-product, $(SRC_TARGET_DIR)/product/emulated_storage.mk)
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/fstab.nxp:$(TARGET_COPY_OUT_VENDOR)/etc/fstab.nxp
-
-TARGET_RECOVERY_FSTAB = $(IMX_DEVICE_PATH)/fstab.nxp
-
-ifneq ($(filter TRUE true 1,$(IMX_OTA_POSTINSTALL)),)
-  PRODUCT_PACKAGES += imx_ota_postinstall
-
-  AB_OTA_POSTINSTALL_CONFIG += \
-    RUN_POSTINSTALL_vendor=true \
-    POSTINSTALL_PATH_vendor=bin/imx_ota_postinstall \
-    FILESYSTEM_TYPE_vendor=ext4 \
-    POSTINSTALL_OPTIONAL_vendor=false
-
-  PRODUCT_COPY_FILES += \
-    $(OUT_DIR)/target/product/$(firstword $(PRODUCT_DEVICE))/obj/UBOOT_COLLECTION/u-boot-imx8mq-trusty.imx:$(TARGET_COPY_OUT_VENDOR)/etc/bootloader0.img
-endif
-
-# fastboot_imx_flashall scripts, fsl-sdcard-partition script and uuu_imx_android_flash scripts
-PRODUCT_COPY_FILES += \
-    $(CONFIG_REPO_PATH)/common/tools/fastboot_imx_flashall.bat:fastboot_imx_flashall.bat \
-    $(CONFIG_REPO_PATH)/common/tools/fastboot_imx_flashall.sh:fastboot_imx_flashall.sh \
-    $(CONFIG_REPO_PATH)/common/tools/imx-sdcard-partition.sh:imx-sdcard-partition.sh \
-    $(CONFIG_REPO_PATH)/common/tools/uuu_imx_android_flash.bat:uuu_imx_android_flash.bat \
-    $(CONFIG_REPO_PATH)/common/tools/uuu_imx_android_flash.sh:uuu_imx_android_flash.sh
-
-PRODUCT_COPY_FILES += \
-    $(CONFIG_REPO_PATH)/common/prebuilts/spl_tab.img:$(PRODUCT_OUT)/spl_tab.img \
-    $(CONFIG_REPO_PATH)/common/prebuilts/mem_info.img:$(PRODUCT_OUT)/mem_info.img \
-    $(CONFIG_REPO_PATH)/common/prebuilts/mem_info.txt:$(PRODUCT_OUT)/mem_info.txt
-
-# -------@block_security-------
-
-# Include keystore attestation keys and certificates.
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
--include $(IMX_SECURITY_PATH)/attestation/imx_attestation.mk
-endif
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_COPY_FILES += \
-    $(CONFIG_REPO_PATH)/common/security/rpmb_key_test.bin:rpmb_key_test.bin \
-    $(CONFIG_REPO_PATH)/common/security/testkey_public_rsa4096.bin:testkey_public_rsa4096.bin
-endif
-
-# hardware backed keymaster service
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service.trusty
-endif
-
-# Keymaster HAL
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service-imx
-
-# new gatekeeper HAL
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-service.software-imx
-
-# Add Trusty OS backed gatekeeper and secure storage proxy
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-service.trusty \
-    storageproxyd
-endif
-
-# Add oem unlocking option in settings.
-PRODUCT_PROPERTY_OVERRIDES += ro.frp.pst=/dev/block/by-name/presistdata
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-#Oemlock HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.oemlock@1.0-service.imx
-endif
-
-# Specify rollback index for boot and vbmeta partitions
-ifneq ($(AVB_RBINDEX),)
-BOARD_AVB_ROLLBACK_INDEX := $(AVB_RBINDEX)
-else
-BOARD_AVB_ROLLBACK_INDEX := 0
-endif
-
-ifneq ($(AVB_BOOT_RBINDEX),)
-BOARD_AVB_BOOT_ROLLBACK_INDEX := $(AVB_BOOT_RBINDEX)
-else
-BOARD_AVB_BOOT_ROLLBACK_INDEX := 0
-endif
-
-$(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
-
-#DRM Widevine 1.2 L3 support
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.3-service.widevine \
-    android.hardware.drm@1.3-service.clearkey \
-    libwvdrmcryptoplugin \
-    libwvhidl \
-    libwvdrmengine \
-
-# -------@block_audio-------
-# Audio card json
-PRODUCT_COPY_FILES += \
-    $(CONFIG_REPO_PATH)/common/audio-json/wm8524_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/wm8524_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/spdif_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/spdif_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/cdnhdmi_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/cdnhdmi_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/ak4458_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/ak4458_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/ak5558_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/ak5558_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/btsco_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/btsco_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/rt5640_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/rt5640_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/tlv320aic3110_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/tlv320aic3110_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
-
-PRODUCT_PACKAGES += \
-    android.hardware.audio@6.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@6.0-impl:32
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_engine_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_engine_configuration.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_engine_default_stream_volumes.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_engine_default_stream_volumes.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_engine_product_strategies.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_engine_product_strategies.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_engine_stream_volumes.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_engine_stream_volumes.xml
-
-# -------@block_camera-------
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/camera_config_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/camera_config_imx8mq.json \
-    $(IMX_DEVICE_PATH)/external_camera_config.xml:$(TARGET_COPY_OUT_VENDOR)/etc/external_camera_config.xml
-
-PRODUCT_SOONG_NAMESPACES += hardware/google/camera
-PRODUCT_SOONG_NAMESPACES += vendor/nxp-opensource/imx/camera
-
-# -------@block_display-------
-PRODUCT_AAPT_CONFIG += xlarge large tvdpi hdpi xhdpi xxhdpi
-
-# HWC2 HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.composer@2.4-service
-
-# define frame buffer count
-PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
-    ro.surface_flinger.max_frame_buffer_acquired_buffers=3
-
-# Gralloc HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.mapper@4.0-impl.imx \
-    android.hardware.graphics.allocator@4.0-service.imx
-
-# RenderScript HAL
-PRODUCT_PACKAGES += \
-    android.hardware.renderscript@1.0-impl
-
-PRODUCT_PACKAGES += \
-        libg2d-opencl
-
-# Multi-Display launcher
-PRODUCT_PACKAGES += \
-    MultiClientInputMethod
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/input-port-associations.xml:$(TARGET_COPY_OUT_VENDOR)/etc/input-port-associations.xml
-
-# -------@block_gpu-------
-PRODUCT_PACKAGES += \
-        libEGL_VIVANTE \
-        libGLESv1_CM_VIVANTE \
-        libGLESv2_VIVANTE \
-        gralloc_viv.$(TARGET_BOARD_PLATFORM) \
-        libGAL \
-        libGLSLC \
-        libVSC \
-        libgpuhelper \
-        libSPIRV_viv \
-        libvulkan_VIVANTE \
-        vulkan.$(TARGET_BOARD_PLATFORM) \
-        libCLC \
-        libLLVM_viv \
-        libOpenCL \
-        libg2d-viv \
-        libOpenVX \
-        libOpenVXU \
-        libNNVXCBinary-evis \
-        libNNVXCBinary-evis2 \
-        libNNVXCBinary-lite \
-        libOvx12VXCBinary-evis \
-        libOvx12VXCBinary-evis2 \
-        libOvx12VXCBinary-lite \
-        libNNGPUBinary-evis \
-        libNNGPUBinary-evis2 \
-        libNNGPUBinary-lite \
-        libNNGPUBinary-ulite \
-        libNNGPUBinary-nano \
-        libNNArchPerf \
-        libarchmodelSw
-
-# GPU openCL g2d
-PRODUCT_COPY_FILES += \
-    $(IMX_PATH)/imx/opencl-2d/cl_g2d.cl:$(TARGET_COPY_OUT_VENDOR)/etc/cl_g2d.cl
-
-# GPU openCL SDK header file
--include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/include/CL/cl_sdk.mk
-
-# GPU openVX SDK header file
--include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/include/nnxc_kernels/nnxc_kernels.mk
-
-# GPU openCL icdloader config file
--include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/gpu-viv/icdloader/icdloader.mk
-
-
-# -------@block_wifi-------
-PRODUCT_COPY_FILES += \
-    $(CONFIG_REPO_PATH)/common/wifi/p2p_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/p2p_supplicant_overlay.conf \
-    $(CONFIG_REPO_PATH)/common/wifi/qca_wpa_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/wpa_supplicant_overlay.conf
-
-# WiFi HAL
-PRODUCT_PACKAGES += \
-    android.hardware.wifi@1.0-service \
-    wificond
-
-# WiFi RRO
-#PRODUCT_PACKAGES += \
-    WifiOverlay
-
-# Qcom WiFi Firmware
-PRODUCT_COPY_FILES += \
-    vendor/nxp/qca-wifi-bt/1CQ_QCA6174A_LEA_2.0/lib/firmware/qca6174/bdwlan30.bin:vendor/firmware/bdwlan30.bin \
-    vendor/nxp/qca-wifi-bt/1CQ_QCA6174A_LEA_2.0/lib/firmware/qca6174/otp30.bin:vendor/firmware/otp30.bin \
-    vendor/nxp/qca-wifi-bt/1CQ_QCA6174A_LEA_2.0/lib/firmware/qca6174/qwlan30.bin:vendor/firmware/qwlan30.bin \
-    vendor/nxp/qca-wifi-bt/1CQ_QCA6174A_LEA_2.0/lib/firmware/qca6174/utf30.bin:vendor/firmware/utf30.bin \
-    vendor/nxp/qca-wifi-bt/1CQ_QCA6174A_LEA_2.0/lib/firmware/wlan/qca6174/qcom_cfg.ini:vendor/firmware/wlan/qcom_cfg.ini
-
-# Wifi regulatory
-PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
-
-# -------@block_bluetooth-------
-# Bluetooth HAL
-PRODUCT_PACKAGES += \
-    android.hardware.bluetooth@1.0-impl \
-    android.hardware.bluetooth@1.0-service
-
-# Qcom Bluetooth Firmware
-PRODUCT_COPY_FILES += \
-    vendor/nxp/qca-wifi-bt/1CQ_QCA6174A_LEA_2.0/lib/firmware/nvm_tlv_3.2.bin:vendor/firmware/nvm_tlv_3.2.bin \
-    vendor/nxp/qca-wifi-bt/1CQ_QCA6174A_LEA_2.0/lib/firmware/rampatch_tlv_3.2.tlv:vendor/firmware/rampatch_tlv_3.2.tlv \
-    vendor/nxp/qca-wifi-bt/qca_proprietary/Android_HAL/wcnss_filter_aiy_8mq:vendor/bin/wcnss_filter \
-    vendor/nxp/qca-wifi-bt/qca/rampatch_00130302.bin:vendor/firmware/qca/rampatch_00130302.bin \
-    vendor/nxp/qca-wifi-bt/qca/rampatch_usb_00000302.bin:vendor/firmware/qca/rampatch_usb_00000302.bin \
-    vendor/nxp/qca-wifi-bt/qca/nvm_usb_00000302.bin:vendor/firmware/qca/nvm_usb_00000302.bin
-
-# -------@block_usb-------
-# Usb HAL
-PRODUCT_PACKAGES += \
-    android.hardware.usb@1.1-service.imx
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.usb.rc
-
-# -------@block_multimedia_codec-------
-# Vendor seccomp policy files for media components:
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/seccomp/mediacodec-seccomp.policy:vendor/etc/seccomp_policy/mediacodec.policy \
-    $(IMX_DEVICE_PATH)/seccomp/mediaextractor-seccomp.policy:vendor/etc/seccomp_policy/mediaextractor.policy \
-    $(CONFIG_REPO_PATH)/common/seccomp_policy/codec2.vendor.base.policy:vendor/etc/seccomp_policy/codec2.vendor.base.policy \
-    $(CONFIG_REPO_PATH)/common/seccomp_policy/codec2.vendor.ext.policy:vendor/etc/seccomp_policy/codec2.vendor.ext.policy
-
-PRODUCT_PACKAGES += \
-    libg1 \
-    libhantro \
-    libcodec
-
-# imx c2 codec binary
-PRODUCT_PACKAGES += \
-    lib_vpu_wrapper \
-    lib_imx_c2_videodec_common \
-    lib_imx_c2_videodec \
-    lib_imx_c2_vpuwrapper_dec \
-    lib_imx_c2_process \
-    lib_imx_c2_process_dummy_post \
-    c2_component_register \
-    c2_component_register_ms \
-    c2_component_register_wmv9 \
-    c2_component_register_ra \
-    c2_component_register_rv
-
-ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
-ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
-INSTALL_64BIT_LIBRARY := true
-endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
-endif
-
-# -------@block_neural_network-------
-# Neural Network HAL and lib
-PRODUCT_PACKAGES += \
-    libovxlib \
-    libnnrt \
-    android.hardware.neuralnetworks@1.3-service-vsi-npu-server
-
-# Tensorflow lite camera demo
-PRODUCT_PACKAGES += \
-    tflitecamerademo
-
-# -------@block_miscellaneous-------
-
-# Copy device related config and binary to board
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/init.imx8mq.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.imx8mq.rc \
-    $(IMX_DEVICE_PATH)/init.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.rc \
-    $(IMX_DEVICE_PATH)/required_hardware.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/required_hardware.xml
-
-ifeq ($(TARGET_USE_VENDOR_BOOT),true)
-  PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/init.recovery.nxp.rc:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/init.recovery.nxp.rc
-else
-  PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/init.recovery.nxp.rc:root/init.recovery.nxp.rc
-endif
-
-# ONLY devices that meet the CDD's requirements may declare these features
-PRODUCT_COPY_FILES += \
-    frameworks/native/data/etc/android.hardware.audio.output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.audio.output.xml \
-    frameworks/native/data/etc/android.hardware.bluetooth_le.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.bluetooth_le.xml \
-    frameworks/native/data/etc/android.hardware.camera.external.xml:vendor/etc/permissions/android.hardware.camera.external.xml \
-    frameworks/native/data/etc/android.hardware.camera.front.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.front.xml \
-    frameworks/native/data/etc/android.hardware.camera.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.xml \
-    frameworks/native/data/etc/android.hardware.ethernet.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.ethernet.xml \
-    frameworks/native/data/etc/android.hardware.screen.landscape.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.landscape.xml \
-    frameworks/native/data/etc/android.hardware.screen.portrait.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.portrait.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.distinct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.distinct.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.xml \
-    frameworks/native/data/etc/android.hardware.usb.accessory.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.accessory.xml \
-    frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.software.vulkan.deqp.level-2020-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level-2020-03-01.xml \
-    frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
-    frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
-    frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
-    frameworks/native/data/etc/android.software.app_widgets.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.app_widgets.xml \
-    frameworks/native/data/etc/android.software.backup.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.backup.xml \
-    frameworks/native/data/etc/android.software.device_admin.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.device_admin.xml \
-    frameworks/native/data/etc/android.software.managed_users.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.managed_users.xml \
-    frameworks/native/data/etc/android.software.midi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.midi.xml \
-    frameworks/native/data/etc/android.software.print.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.print.xml \
-    frameworks/native/data/etc/android.software.sip.voip.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.sip.voip.xml \
-    frameworks/native/data/etc/android.software.verified_boot.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.verified_boot.xml \
-    frameworks/native/data/etc/android.software.voice_recognizers.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.voice_recognizers.xml \
-    frameworks/native/data/etc/android.software.activities_on_secondary_displays.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.activities_on_secondary_displays.xml \
-    frameworks/native/data/etc/android.software.picture_in_picture.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.picture_in_picture.xml
-
-#AMS
-#PRODUCT_PACKAGES += \
-    deviceadmin \
-    appmanager \
-    conciergerdmservice \
-    conciergerdmclouddrive \
-    conciergerdmbootmediasync \
-    welcomeapp \
-    diagnosis \
-    otaupdater \
-    peripheralmanager \
-    watchdog
-
-# Enable kernel log for diagnosis
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.logd.kernel=true
-
-PRODUCT_PACKAGES += \
-    android.hardware.kioskled-service \
-    android.hardware.kioskled
diff --git a/imx8m/aiy_8mq/android_addition_defconfig b/imx8m/aiy_8mq/android_addition_defconfig
deleted file mode 100644
index 1e5dc442..00000000
--- a/imx8m/aiy_8mq/android_addition_defconfig
+++ /dev/null
@@ -1,289 +0,0 @@
-CONFIG_SND_SOC_RT5645=y
-# CONFIG_USB_NET_QMI_WWAN is not set
-CONFIG_MXC_CAMERA_OV5645_MIPI_V2=y
-CONFIG_TYPEC_TCPM=n
-CONFIG_TYPEC_TCPCI=n
-CONFIG_SND_GOOGLE_EDGETPU_CARD=y
-CONFIG_STAGING_GASKET_FRAMEWORK=y
-CONFIG_STAGING_APEX_DRIVER=y
-
-CONFIG_SINGLE_LOGO=y
-CONFIG_SPLASH_SCREEN_CENTERED=y
-CONFIG_USB_SERIAL=y
-CONFIG_USB_SERIAL_OPTION=y
-# CONFIG_INPUT_VL53L1X_ULD is not set
-CONFIG_SND_SOC_IMX_RT5640=y
-CONFIG_SND_SOC_RT5640=y
-# CONFIG_SND_SOC_IMX_TLV320AIC31XX is not set
-# CONFIG_SND_SOC_TLV320AIC31XX is not set
-CONFIG_KEYBOARD_MATRIX=y
-# CONFIG_TYPEC_HD3SS3220 is not set
-CONFIG_MXC_DUAL_MIPI_CAMERA=y
-CONFIG_MXC_CAMERA_OV2685_MIPI_V2=y
-# CONFIG_INPUT_ST is not set
-# CONFIG_INPUT_ECOMPASS is not set
-# CONFIG_INPUT_LSM303AGR is not set
-# CONFIG_INPUT_LSM303AGR_I2C is not set
-# CONFIG_TOUCHSCREEN_ILI9881_I2C is not set
-# CONFIG_DRM_PANEL_TIANMA_TM050JDHC02 is not set
-# CONFIG_TOUCHSCREEN_GOODIX is not set
-# CONFIG_DRM_PANEL_DATAIMAGE_5INCHLCM is not set
-CONFIG_DEBUG_FS=y
-CONFIG_PPP=y
-CONFIG_PPP_ASYNC=y
-CONFIG_PPP_SYNC_TTY=y
-CONFIG_LEDS_TRIGGERS=y
-CONFIG_LEDS_TRIGGER_TIMER=y
-CONFIG_BT_HCIUART_QCA=y
-CONFIG_BT_HCIBTUSB=y
-CONFIG_BRCMUTIL=m
-# CONFIG_BRCMSMAC is not set
-CONFIG_BRCMFMAC=m
-CONFIG_BRCMFMAC_PCIE=y
-CONFIG_MACH_IMX_BLUETOOTH_RFKILL=y
-CONFIG_RFKILL=y
-CONFIG_RFKILL_INPUT=y
-CONFIG_RFKILL_GPIO=y
-CONFIG_TASKSTATS=y
-# CONFIG_CLD_HL_SDIO_CORE is not set
-CONFIG_QCA_CLD_WLAN=m
-CONFIG_QCACLD_WLAN_LFR3=y
-CONFIG_PRIMA_WLAN_OKC=y
-CONFIG_PRIMA_WLAN_11AC_HIGH_TP=y
-CONFIG_WLAN_FEATURE_11W=y
-CONFIG_WLAN_FEATURE_LPSS=y
-CONFIG_QCOM_VOWIFI_11R=y
-CONFIG_WLAN_FEATURE_NAN=y
-CONFIG_WLAN_FEATURE_NAN_DATAPATH=y
-CONFIG_QCOM_TDLS=y
-CONFIG_QCOM_LTE_COEX=y
-CONFIG_WLAN_SYNC_TSF=y
-CONFIG_WLAN_OFFLOAD_PACKETS=y
-
-CONFIG_PARAVIRT=y
-CONFIG_NETFILTER_XT_TARGET_CT=y
-CONFIG_MVMDIO=y
-CONFIG_MDIO_BITBANG=y
-CONFIG_I2C_SLAVE=y
-CONFIG_GPIOLIB=y
-CONFIG_GPIO_GENERIC_PLATFORM=y
-CONFIG_POWER_RESET_BRCMSTB=y
-CONFIG_REGULATOR=y
-CONFIG_DRM_I2C_CH7006=m
-CONFIG_DRM_I2C_SIL164=m
-CONFIG_TMPFS=y
-CONFIG_BCM_FLEXRM_MBOX=y
-CONFIG_PHY_SAMSUNG_USB2=y
-CONFIG_ARM_TIMER_SP804=y
-CONFIG_COMMON_CLK_VERSATILE=y
-CONFIG_CLK_SP810=y
-CONFIG_USB_SNP_UDC_PLAT=y
-CONFIG_USB_BDC_UDC=y
-CONFIG_BCM_SBA_RAID=m
-CONFIG_USB_PRINTER=y
-CONFIG_MLX90614=y
-CONFIG_HID_CP2112=y
-
-# CONFIG_KVM is not set
-# CONFIG_MTD_UBI is not set
-# CONFIG_VGA_ARB is not set
-# CONFIG_ARCH_SUNXI is not set
-# CONFIG_ARCH_ALPINE is not set
-# CONFIG_ARCH_BCM2835 is not set
-# CONFIG_ARCH_BCM_IPROC is not set
-# CONFIG_ARCH_BERLIN is not set
-# CONFIG_ARCH_BRCMSTB is not set
-# CONFIG_ARCH_EXYNOS is not set
-# CONFIG_ARCH_LAYERSCAPE is not set
-# CONFIG_ARCH_LG1K is not set
-# CONFIG_ARCH_HISI is not set
-# CONFIG_ARCH_MEDIATEK is not set
-# CONFIG_ARCH_MESON is not set
-# CONFIG_ARCH_MVEBU is not set
-# CONFIG_ARCH_QCOM is not set
-# CONFIG_ARCH_ROCKCHIP is not set
-# CONFIG_ARCH_SEATTLE is not set
-# CONFIG_ARCH_RENESAS is not set
-# CONFIG_ARCH_R8A7795 is not set
-# CONFIG_ARCH_R8A7796 is not set
-# CONFIG_ARCH_STRATIX10 is not set
-# CONFIG_ARCH_TEGRA is not set
-# CONFIG_ARCH_SPRD is not set
-# CONFIG_ARCH_THUNDER is not set
-# CONFIG_ARCH_THUNDER2 is not set
-# CONFIG_ARCH_UNIPHIER is not set
-# CONFIG_ARCH_VEXPRESS is not set
-# CONFIG_ARCH_XGENE is not set
-# CONFIG_ARCH_ZX is not set
-# CONFIG_ARCH_ZYNQMP is not set
-# CONFIG_ARCH_TEGRA_132_SOC is not set
-# CONFIG_ARCH_TEGRA_210_SOC is not set
-# CONFIG_ARCH_TEGRA_186_SOC is not set
-# CONFIG_PCI_HISI is not set
-# CONFIG_PCIE_KIRIN is not set
-# CONFIG_PCI_AARDVARK is not set
-# CONFIG_PCIE_RCAR is not set
-# CONFIG_PCIE_ROCKCHIP is not set
-# CONFIG_XEN is not set
-# CONFIG_SPI_FSL_QUADSPI is not set
-# CONFIG_XEN_BLKDEV_BACKEND is not set
-# CONFIG_AHCI_MVEBU is not set
-# CONFIG_SATA_RCAR is not set
-# CONFIG_NET_XGENE is not set
-# CONFIG_MVNETA is not set
-# CONFIG_MVPP2 is not set
-# CONFIG_RAVB is not set
-# CONFIG_MESON_GXL_PHY is not set
-# CONFIG_XEN_NETDEV_BACKEND is not set
-# CONFIG_INPUT_PM8941_PWRKEY is not set
-# CONFIG_INPUT_HISI_POWERKEY is not set
-# CONFIG_SERIAL_8250_BCM2835AUX is not set
-# CONFIG_SERIAL_8250_MT6577 is not set
-# CONFIG_SERIAL_8250_UNIPHIER is not set
-# CONFIG_SERIAL_MESON is not set
-# CONFIG_SERIAL_MESON_CONSOLE is not set
-# CONFIG_SERIAL_SAMSUNG is not set
-# CONFIG_SERIAL_SAMSUNG_CONSOLE is not set
-# CONFIG_SERIAL_TEGRA is not set
-# CONFIG_SERIAL_SH_SCI is not set
-# CONFIG_SERIAL_SH_SCI_NR_UARTS is not set
-# CONFIG_SERIAL_SH_SCI_CONSOLE is not set
-# CONFIG_SERIAL_MSM is not set
-# CONFIG_SERIAL_MSM_CONSOLE is not set
-# CONFIG_SERIAL_XILINX_PS_UART is not set
-# CONFIG_SERIAL_XILINX_PS_UART_CONSOLE is not set
-# CONFIG_SERIAL_MVEBU_UART is not set
-# CONFIG_I2C_BCM2835 is not set
-# CONFIG_I2C_MESON is not set
-# CONFIG_I2C_MV64XXX is not set
-# CONFIG_I2C_PXA is not set
-# CONFIG_I2C_QUP is not set
-# CONFIG_I2C_SH_MOBILE is not set
-# CONFIG_I2C_TEGRA is not set
-# CONFIG_I2C_UNIPHIER_F is not set
-# CONFIG_I2C_RCAR is not set
-# CONFIG_SPI_BCM2835 is not set
-# CONFIG_SPI_BCM2835AUX is not set
-# CONFIG_SPI_MESON_SPICC is not set
-# CONFIG_SPI_ORION is not set
-# CONFIG_SPI_ROCKCHIP is not set
-# CONFIG_SPI_QUP is not set
-# CONFIG_SPI_S3C64XX is not set
-# CONFIG_PINCTRL_MAX77620 is not set
-# CONFIG_PINCTRL_IPQ8074 is not set
-# CONFIG_PINCTRL_MSM8916 is not set
-# CONFIG_PINCTRL_MSM8994 is not set
-# CONFIG_PINCTRL_MSM8996 is not set
-# CONFIG_PINCTRL_QDF2XXX is not set
-# CONFIG_PINCTRL_QCOM_SPMI_PMIC is not set
-# CONFIG_GPIO_RCAR is not set
-# CONFIG_GPIO_XGENE_SB is not set
-# CONFIG_POWER_RESET_MSM is not set
-# CONFIG_ROCKCHIP_THERMAL is not set
-# CONFIG_EXYNOS_THERMAL is not set
-# CONFIG_S3C2410_WATCHDOG is not set
-# CONFIG_MESON_GXBB_WATCHDOG is not set
-# CONFIG_MESON_WATCHDOG is not set
-# CONFIG_RENESAS_WDT is not set
-# CONFIG_UNIPHIER_WATCHDOG is not set
-# CONFIG_BCM2835_WDT is not set
-# CONFIG_MFD_AXP20X_RSB is not set
-# CONFIG_MFD_EXYNOS_LPASS is not set
-# CONFIG_MFD_HI655X_PMIC is not set
-# CONFIG_MFD_SPMI_PMIC is not set
-# CONFIG_REGULATOR_AXP20X is not set
-# CONFIG_REGULATOR_HI655X is not set
-# CONFIG_REGULATOR_QCOM_SMD_RPM is not set
-# CONFIG_RPMSG is not set
-# CONFIG_IR_MESON is not set
-# CONFIG_VIDEO_SAMSUNG_S5P_JPEG is not set
-# CONFIG_VIDEO_SAMSUNG_S5P_MFC is not set
-# CONFIG_VIDEO_SAMSUNG_EXYNOS_GSC is not set
-# CONFIG_VIDEO_RENESAS_FCP is not set
-# CONFIG_VIDEO_RENESAS_VSP1 is not set
-# CONFIG_ROCKCHIP_ANALOGIX_DP is not set
-# CONFIG_ROCKCHIP_CDN_DP is not set
-# CONFIG_ROCKCHIP_DW_HDMI is not set
-# CONFIG_ROCKCHIP_DW_MIPI_DSI is not set
-# CONFIG_ROCKCHIP_INNO_HDMI is not set
-# CONFIG_SND_BCM2835_SOC_I2S is not set
-# CONFIG_SND_SOC_SAMSUNG is not set
-# CONFIG_SND_SOC_RCAR is not set
-# CONFIG_DRM_NOUVEAU is not set
-# CONFIG_DRM_EXYNOS is not set
-# CONFIG_DRM_EXYNOS5433_DECON is not set
-# CONFIG_DRM_EXYNOS7_DECON is not set
-# CONFIG_DRM_EXYNOS_DSI is not set
-# CONFIG_DRM_EXYNOS_DP is not set
-# CONFIG_DRM_EXYNOS_HDMI is not set
-# CONFIG_DRM_EXYNOS_MIC is not set
-# CONFIG_DRM_ROCKCHIP is not set
-# CONFIG_DRM_RCAR_DU is not set
-# CONFIG_DRM_RCAR_LVDS is not set
-# CONFIG_DRM_RCAR_VSP is not set
-# CONFIG_DRM_TEGRA is not set
-# CONFIG_DRM_VC4 is not set
-# CONFIG_DRM_MESON is not set
-# CONFIG_USB_XHCI_TEGRA is not set
-# CONFIG_USB_EHCI_MSM is not set
-# CONFIG_USB_EHCI_EXYNOS is not set
-# CONFIG_USB_OHCI_EXYNOS is not set
-# CONFIG_USB_RENESAS_USBHS is not set
-# CONFIG_USB_QCOM_8X16_PHY is not set
-# CONFIG_RASPBERRYPI_FIRMWARE is not set
-# CONFIG_PHY_SUN4I_USB is not set
-# CONFIG_PHY_HI6220_USB is not set
-# CONFIG_PHY_RCAR_GEN3_USB2 is not set
-# CONFIG_PHY_ROCKCHIP_EMMC is not set
-# CONFIG_PHY_ROCKCHIP_INNO_USB2 is not set
-# CONFIG_PHY_ROCKCHIP_PCIE is not set
-# CONFIG_PHY_TEGRA_XUSB is not set
-# CONFIG_QCOM_L2_PMU is not set
-# CONFIG_QCOM_L3_PMU is not set
-# CONFIG_PWM_MESON is not set
-# CONFIG_PWM_ROCKCHIP is not set
-# CONFIG_PWM_SAMSUNG is not set
-# CONFIG_PWM_TEGRA is not set
-# CONFIG_QCOM_SMEM is not set
-# CONFIG_QCOM_SMD_RPM is not set
-# CONFIG_QCOM_SMP2P is not set
-# CONFIG_QCOM_SMSM is not set
-# CONFIG_ROCKCHIP_PM_DOMAINS is not set
-# CONFIG_ARCH_TEGRA_132_SOC is not set
-# CONFIG_ARCH_TEGRA_210_SOC is not set
-# CONFIG_ARCH_TEGRA_186_SOC is not set
-# CONFIG_EXYNOS_ADC is not set
-# CONFIG_ROCKCHIP_SARADC is not set
-# CONFIG_PWM_BCM2835 is not set
-# CONFIG_RPMSG_QCOM_SMD is not set
-# CONFIG_RASPBERRYPI_POWER is not set
-# CONFIG_BCM2835_MBOX is not set
-# CONFIG_HI6220_MBOX is not set
-# CONFIG_ROCKCHIP_IOMMU is not set
-# CONFIG_HWSPINLOCK_QCOM is not set
-# CONFIG_COMMON_CLK_QCOM is not set
-# CONFIG_QCOM_CLK_SMD_RPM is not set
-# CONFIG_IPQ_GCC_8074 is not set
-# CONFIG_MSM_GCC_8916 is not set
-# CONFIG_MSM_GCC_8994 is not set
-# CONFIG_MSM_MMCC_8996 is not set
-# CONFIG_USB_RENESAS_USBHS_UDC is not set
-# CONFIG_MMC_SDHCI_OF_ESDHC is not set
-# CONFIG_XEN_GNTDEV is not set
-# CONFIG_XEN_GRANT_DEV_ALLOC is not set
-# CONFIG_RCAR_DMAC is not set
-# CONFIG_TEGRA20_APB_DMA is not set
-# CONFIG_QCOM_BAM_DMA is not set
-# CONFIG_K3_DMA is not set
-# CONFIG_DMA_BCM2835 is not set
-# CONFIG_RTC_DRV_XGENE is not set
-# CONFIG_RTC_DRV_TEGRA is not set
-# CONFIG_RTC_DRV_S3C is not set
-# CONFIG_MMC_DW_ROCKCHIP is not set
-# CONFIG_MMC_SUNXI is not set
-# CONFIG_MMC_BCM2835 is not set
-# CONFIG_MMC_SDHCI_TEGRA is not set
-# CONFIG_MMC_MESON_GX is not set
-# CONFIG_MMC_SDHCI_MSM is not set
-# CONFIG_MMC_SDHI is not set
-# CONFIG_MMC_DW_EXYNOS is not set
diff --git a/imx8m/aiy_8mq/app_whitelist.xml b/imx8m/aiy_8mq/app_whitelist.xml
deleted file mode 100644
index 0084b334..00000000
--- a/imx8m/aiy_8mq/app_whitelist.xml
+++ /dev/null
@@ -1,36 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
-
-<!--
-/* Copyright (c) 2017, The Linux Foundation. All rights reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions are
- * met:
- *     * Redistributions of source code must retain the above copyright
- *       notice, this list of conditions and the following disclaimer.
- *     * Redistributions in binary form must reproduce the above
- *       copyright notice, this list of conditions and the following
- *       disclaimer in the documentation and/or other materials provided
- *       with the distribution.
- *     * Neither the name of The Linux Foundation nor the names of its
- *       contributors may be used to endorse or promote products derived
- *       from this software without specific prior written permission.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESS OR IMPLIED
- * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT
- * ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
- * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
- * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
- * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
- * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
- * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
- * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
- * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
- */
--->
-
-<config>
-    <!-- deskclock need to freely run in the background -->
-    <allow-in-power-save package="com.android.deskclock" />
-</config>
diff --git a/imx8m/aiy_8mq/audio_effects.xml b/imx8m/aiy_8mq/audio_effects.xml
deleted file mode 100644
index a1c1fc2a..00000000
--- a/imx8m/aiy_8mq/audio_effects.xml
+++ /dev/null
@@ -1,26 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<audio_effects_conf version="2.0" xmlns="http://schemas.android.com/audio/audio_effects_conf/v2_0">
-    <libraries>
-        <library name="bundle" path="libbundlewrapper.so"/>
-        <library name="reverb" path="libreverbwrapper.so"/>
-        <library name="visualizer" path="libvisualizer.so"/>
-        <library name="downmix" path="libdownmix.so"/>
-        <library name="loudness_enhancer" path="libldnhncr.so"/>
-        <library name="dynamics_processing" path="libdynproc.so"/>
-    </libraries>
-
-    <effects>
-        <effect name="bassboost" library="bundle" uuid="8631f300-72e2-11df-b57e-0002a5d5c51b"/>
-        <effect name="virtualizer" library="bundle" uuid="1d4033c0-8557-11df-9f2d-0002a5d5c51b"/>
-        <effect name="equalizer" library="bundle" uuid="ce772f20-847d-11df-bb17-0002a5d5c51b"/>
-        <effect name="volume" library="bundle" uuid="119341a0-8469-11df-81f9-0002a5d5c51b"/>
-        <effect name="reverb_env_aux" library="reverb" uuid="4a387fc0-8ab3-11df-8bad-0002a5d5c51b"/>
-        <effect name="reverb_env_ins" library="reverb" uuid="c7a511a0-a3bb-11df-860e-0002a5d5c51b"/>
-        <effect name="reverb_pre_aux" library="reverb" uuid="f29a1400-a3bb-11df-8ddc-0002a5d5c51b"/>
-        <effect name="reverb_pre_ins" library="reverb" uuid="172cdf00-a3bc-11df-a72f-0002a5d5c51b"/>
-        <effect name="visualizer" library="visualizer" uuid="d069d9e0-8329-11df-9168-0002a5d5c51b"/>
-        <effect name="downmix" library="downmix" uuid="93f04452-e4fe-41cc-91f9-e475b6d1d69f"/>
-        <effect name="loudness_enhancer" library="loudness_enhancer" uuid="fa415329-2034-4bea-b5dc-5b381c8d1e2c"/>
-        <effect name="dynamics_processing" library="dynamics_processing" uuid="e0e6539b-1781-7261-676f-6d7573696340"/>
-    </effects>
-</audio_effects_conf>
diff --git a/imx8m/aiy_8mq/audio_policy_configuration.xml b/imx8m/aiy_8mq/audio_policy_configuration.xml
deleted file mode 100644
index 81de06c9..00000000
--- a/imx8m/aiy_8mq/audio_policy_configuration.xml
+++ /dev/null
@@ -1,111 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
-<!-- Copyright (C) 2017 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
-    <globalConfiguration speaker_drc_enabled="true"/>
-
-    <modules>
-        <module name="primary" halVersion="2.0">
-            <attachedDevices>
-                <item>Speaker</item>
-                <item>Built-In Mic</item>
-            </attachedDevices>
-            <defaultOutputDevice>Speaker</defaultOutputDevice>
-            <mixPorts>
-                <mixPort name="primary output" role="source" flags="AUDIO_OUTPUT_FLAG_PRIMARY">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-                <mixPort name="hdmi output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
-                </mixPort>
-                <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000,96000,192000,384000,768000"
-                             channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_QUAD,AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
-                </mixPort>
-                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
-                    <profile name="" format="AUDIO_FORMAT_DSD"
-                             samplingRates="2822400,5644800,11289600,22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-                <mixPort name="bt sco output" role="source">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="16000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-
-                <mixPort name="primary input" role="sink">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
-                </mixPort>
-            </mixPorts>
-            <devicePorts>
-                <devicePort tagName="Speaker" type="AUDIO_DEVICE_OUT_SPEAKER" role="sink" >
-                </devicePort>
-                <devicePort tagName="Wired Headphones" type="AUDIO_DEVICE_OUT_WIRED_HEADPHONE" role="sink">
-                </devicePort>
-                <devicePort tagName="HDMI Out" type="AUDIO_DEVICE_OUT_AUX_DIGITAL" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO Headset" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO_HEADSET" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO CarKit" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO_CARKIT" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO" role="sink">
-                </devicePort>
-
-                <devicePort tagName="Built-In Mic" type="AUDIO_DEVICE_IN_BUILTIN_MIC" role="source">
-                </devicePort>
-                <devicePort tagName="Spdif-In" type="AUDIO_DEVICE_IN_AUX_DIGITAL" role="source">
-                </devicePort>
-                <devicePort tagName="BT SCO Headset Mic" type="AUDIO_DEVICE_IN_BLUETOOTH_SCO_HEADSET" role="source">
-                </devicePort>
-            </devicePorts>
-            <routes>
-                <route type="mix" sink="Speaker"
-                       sources="primary output"/>
-                <route type="mix" sink="Wired Headphones"
-                       sources="dsd output,esai output,primary output"/>
-                <route type="mix" sink="HDMI Out"
-                       sources="hdmi output,primary output"/>
-                <route type="mix" sink="BT SCO Headset"
-                       sources="bt sco output"/>
-                <route type="mix" sink="BT SCO CarKit"
-                       sources="bt sco output"/>
-                <route type="mix" sink="BT SCO"
-                       sources="bt sco output"/>
-
-                <route type="mix" sink="primary input"
-                       sources="Built-In Mic,Spdif-In,BT SCO Headset Mic"/>
-            </routes>
-        </module>
-
-        <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
-
-        <!-- Usb Audio HAL -->
-        <xi:include href="usb_audio_policy_configuration.xml"/>
-
-        <!-- Remote Submix Audio HAL -->
-        <xi:include href="r_submix_audio_policy_configuration.xml"/>
-
-    </modules>
-
-    <!-- Volume section -->
-    <xi:include href="audio_policy_volumes.xml"/>
-    <xi:include href="default_volume_tables.xml"/>
-
-</audioPolicyConfiguration>
diff --git a/imx8m/aiy_8mq/audio_policy_engine_configuration.xml b/imx8m/aiy_8mq/audio_policy_engine_configuration.xml
deleted file mode 100644
index 4ca33b45..00000000
--- a/imx8m/aiy_8mq/audio_policy_engine_configuration.xml
+++ /dev/null
@@ -1,24 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
-<!-- Copyright (C) 2018 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
-     -->
-
-<configuration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
-
-    <xi:include href="audio_policy_engine_product_strategies.xml"/>
-    <xi:include href="audio_policy_engine_stream_volumes.xml"/>
-    <xi:include href="audio_policy_engine_default_stream_volumes.xml"/>
-
-</configuration>
-
diff --git a/imx8m/aiy_8mq/audio_policy_engine_default_stream_volumes.xml b/imx8m/aiy_8mq/audio_policy_engine_default_stream_volumes.xml
deleted file mode 100644
index 21e6dd58..00000000
--- a/imx8m/aiy_8mq/audio_policy_engine_default_stream_volumes.xml
+++ /dev/null
@@ -1,136 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!-- Copyright (C) 2015 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-<!-- Default Volume Tables included by Audio Policy Configuration file -->
-<!-- Full Default Volume table for all device category -->
-<volumes>
-    <reference name="FULL_SCALE_VOLUME_CURVE">
-    <!-- Full Scale reference Volume Curve -->
-        <point>0,0</point>
-        <point>100,0</point>
-    </reference>
-    <reference name="SILENT_VOLUME_CURVE">
-        <point>0,-9600</point>
-        <point>100,-9600</point>
-    </reference>
-    <reference name="DEFAULT_SYSTEM_VOLUME_CURVE">
-    <!-- Default System reference Volume Curve -->
-        <point>1,-2400</point>
-        <point>33,-1800</point>
-        <point>66,-1200</point>
-        <point>100,-600</point>
-    </reference>
-    <reference name="DEFAULT_MEDIA_VOLUME_CURVE">
-    <!-- Default Media reference Volume Curve -->
-        <point>1,-5800</point>
-        <point>20,-4000</point>
-        <point>60,-1700</point>
-        <point>100,0</point>
-    </reference>
-    <reference name="DEFAULT_DEVICE_CATEGORY_HEADSET_VOLUME_CURVE">
-    <!--Default Volume Curve -->
-        <point>1,-4950</point>
-        <point>33,-3350</point>
-        <point>66,-1700</point>
-        <point>100,0</point>
-    </reference>
-    <reference name="DEFAULT_DEVICE_CATEGORY_SPEAKER_VOLUME_CURVE">
-    <!-- Default is Speaker Media Volume Curve -->
-        <point>1,-5800</point>
-        <point>20,-4000</point>
-        <point>60,-1700</point>
-        <point>100,0</point>
-    </reference>
-    <reference name="DEFAULT_DEVICE_CATEGORY_SPEAKER_SYSTEM_VOLUME_CURVE">
-    <!-- Default is Speaker System Volume Curve -->
-        <point>1,-4680</point>
-        <point>42,-2070</point>
-        <point>85,-540</point>
-        <point>100,0</point>
-    </reference>
-    <reference name="DEFAULT_DEVICE_CATEGORY_EARPIECE_VOLUME_CURVE">
-    <!--Default Volume Curve -->
-        <point>1,-4950</point>
-        <point>33,-3350</point>
-        <point>66,-1700</point>
-        <point>100,0</point>
-    </reference>
-    <reference name="DEFAULT_DEVICE_CATEGORY_EXT_MEDIA_VOLUME_CURVE">
-    <!-- Default is Ext Media System Volume Curve -->
-        <point>1,-5800</point>
-        <point>20,-4000</point>
-        <point>60,-2100</point>
-        <point>100,-1000</point>
-    </reference>
-    <reference name="DEFAULT_HEARING_AID_VOLUME_CURVE">
-    <!-- Default Hearing Aid Volume Curve -->
-        <point>1,-12700</point>
-        <point>20,-8000</point>
-        <point>60,-4000</point>
-        <point>100,0</point>
-    </reference>
-    <!-- **************************************************************** -->
-    <!-- Non-mutable default volume curves:                               -->
-    <!--     * first point is always for index 0                          -->
-    <!--     * attenuation is small enough that stream can still be heard -->
-    <reference name="DEFAULT_NON_MUTABLE_VOLUME_CURVE">
-    <!-- Default non-mutable reference Volume Curve -->
-    <!--        based on DEFAULT_MEDIA_VOLUME_CURVE -->
-        <point>0,-5800</point>
-        <point>20,-4000</point>
-        <point>60,-1700</point>
-        <point>100,0</point>
-    </reference>
-    <reference name="DEFAULT_NON_MUTABLE_HEADSET_VOLUME_CURVE">
-    <!--Default non-mutable Volume Curve for headset -->
-    <!--    based on DEFAULT_DEVICE_CATEGORY_HEADSET_VOLUME_CURVE -->
-        <point>0,-4950</point>
-        <point>33,-3350</point>
-        <point>66,-1700</point>
-        <point>100,0</point>
-    </reference>
-    <reference name="DEFAULT_NON_MUTABLE_SPEAKER_VOLUME_CURVE">
-    <!-- Default non-mutable Speaker Volume Curve -->
-    <!--    based on DEFAULT_DEVICE_CATEGORY_SPEAKER_VOLUME_CURVE -->
-        <point>0,-5800</point>
-        <point>20,-4000</point>
-        <point>60,-1700</point>
-        <point>100,0</point>
-    </reference>
-    <reference name="DEFAULT_NON_MUTABLE_EARPIECE_VOLUME_CURVE">
-    <!--Default non-mutable Volume Curve -->
-    <!--    based on DEFAULT_DEVICE_CATEGORY_EARPIECE_VOLUME_CURVE -->
-        <point>0,-4950</point>
-        <point>33,-3350</point>
-        <point>66,-1700</point>
-        <point>100,0</point>
-    </reference>
-    <reference name="DEFAULT_NON_MUTABLE_EXT_VOLUME_CURVE">
-    <!-- Default non-mutable Ext Media System Volume Curve -->
-    <!--     based on DEFAULT_DEVICE_CATEGORY_EXT_MEDIA_VOLUME_CURVE -->
-        <point>0,-5800</point>
-        <point>20,-4000</point>
-        <point>60,-2100</point>
-        <point>100,-1000</point>
-    </reference>
-    <reference name="DEFAULT_NON_MUTABLE_HEARING_AID_VOLUME_CURVE">
-    <!-- Default non-mutable Hearing Aid Volume Curve -->
-    <!--     based on DEFAULT_HEARING_AID_VOLUME_CURVE -->
-        <point>0,-12700</point>
-        <point>20,-8000</point>
-        <point>60,-4000</point>
-        <point>100,0</point>
-    </reference>
-</volumes>
diff --git a/imx8m/aiy_8mq/audio_policy_engine_product_strategies.xml b/imx8m/aiy_8mq/audio_policy_engine_product_strategies.xml
deleted file mode 100644
index 79187adb..00000000
--- a/imx8m/aiy_8mq/audio_policy_engine_product_strategies.xml
+++ /dev/null
@@ -1,83 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
-<!-- Copyright (C) 2018 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
-     -->
-
-<ProductStrategies>
-
-    <!-- "hidden strategies" like TTS, enforced audible:
-            Shall we expose them here or keep it hard coded -->
-
-    <!-- Used to identify the volume of audio streams for enforced system sounds in certain
-         countries (e.g. camera in Japan)
-         This strategy will only have higher priority than phone if force for system is set to
-         enforced. -->
-
-    <ProductStrategy name="STRATEGY_REROUTING">
-        <AttributesGroup streamType="AUDIO_STREAM_BLUETOOTH_SCO" volumeGroup="bluetooth_sco">
-            <Attributes> <Flags value="AUDIO_FLAG_SCO"/> </Attributes>
-        </AttributesGroup>
-        <AttributesGroup streamType="AUDIO_STREAM_RING" volumeGroup="ring">
-            <Attributes> <Usage value="AUDIO_USAGE_NOTIFICATION_TELEPHONY_RINGTONE"/> </Attributes>
-        </AttributesGroup>
-        <AttributesGroup streamType="AUDIO_STREAM_ALARM" volumeGroup="alarm">
-            <Attributes> <Usage value="AUDIO_USAGE_ALARM"/> </Attributes>
-        </AttributesGroup>
-        <AttributesGroup streamType="AUDIO_STREAM_ENFORCED_AUDIBLE" volumeGroup="enforced_audible">
-            <Attributes> <Flags value="AUDIO_FLAG_AUDIBILITY_ENFORCED"/> </Attributes>
-        </AttributesGroup>
-        <AttributesGroup streamType="AUDIO_STREAM_ACCESSIBILITY" volumeGroup="accessibility">
-            <Attributes> <Usage value="AUDIO_USAGE_ASSISTANCE_ACCESSIBILITY"/> </Attributes>
-        </AttributesGroup>
-        <AttributesGroup streamType="AUDIO_STREAM_NOTIFICATION" volumeGroup="notification">
-            <Attributes> <Usage value="AUDIO_USAGE_NOTIFICATION"/> </Attributes>
-            <Attributes> <Usage value="AUDIO_USAGE_NOTIFICATION_COMMUNICATION_REQUEST"/> </Attributes>
-            <Attributes> <Usage value="AUDIO_USAGE_NOTIFICATION_COMMUNICATION_INSTANT"/> </Attributes>
-            <Attributes> <Usage value="AUDIO_USAGE_NOTIFICATION_COMMUNICATION_DELAYED"/> </Attributes>
-            <Attributes> <Usage value="AUDIO_USAGE_NOTIFICATION_EVENT"/> </Attributes>
-        </AttributesGroup>
-        <AttributesGroup streamType="AUDIO_STREAM_DTMF" volumeGroup="dtmf">
-            <Attributes> <Usage value="AUDIO_USAGE_VOICE_COMMUNICATION_SIGNALLING"/> </Attributes>
-        </AttributesGroup>
-        <!-- Used to identify the volume of audio streams exclusively transmitted through the  speaker
-             (TTS) of the device -->
-        <AttributesGroup streamType="AUDIO_STREAM_TTS" volumeGroup="tts">
-            <Attributes> <Flags value="AUDIO_FLAG_BEACON"/> </Attributes>
-        </AttributesGroup>
-    </ProductStrategy>
-
-    <ProductStrategy name="STRATEGY_MEDIA">
-         <AttributesGroup streamType="AUDIO_STREAM_MUSIC" volumeGroup="music">
-            <Attributes> <Usage value="AUDIO_USAGE_MEDIA"/> </Attributes>
-            <Attributes> <Usage value="AUDIO_USAGE_GAME"/> </Attributes>
-            <Attributes> <Usage value="AUDIO_USAGE_ASSISTANT"/> </Attributes>
-            <Attributes> <Usage value="AUDIO_USAGE_ASSISTANCE_NAVIGATION_GUIDANCE"/> </Attributes>
-            <Attributes></Attributes>
-        </AttributesGroup>
-        <AttributesGroup streamType="AUDIO_STREAM_ASSISTANT" volumeGroup="assistant">
-            <Attributes>
-                <ContentType value="AUDIO_CONTENT_TYPE_SPEECH"/>
-                <Usage value="AUDIO_USAGE_ASSISTANT"/>
-            </Attributes>
-        </AttributesGroup>
-        <AttributesGroup streamType="AUDIO_STREAM_SYSTEM" volumeGroup="system">
-            <Attributes> <Usage value="AUDIO_USAGE_ASSISTANCE_SONIFICATION"/> </Attributes>
-        </AttributesGroup>
-        <AttributesGroup streamType="AUDIO_STREAM_VOICE_CALL" volumeGroup="voice_call">
-            <Attributes> <Usage value="AUDIO_USAGE_VOICE_COMMUNICATION"/> </Attributes>
-        </AttributesGroup>
-    </ProductStrategy>
-
-</ProductStrategies>
-
diff --git a/imx8m/aiy_8mq/audio_policy_engine_stream_volumes.xml b/imx8m/aiy_8mq/audio_policy_engine_stream_volumes.xml
deleted file mode 100644
index d5c38968..00000000
--- a/imx8m/aiy_8mq/audio_policy_engine_stream_volumes.xml
+++ /dev/null
@@ -1,221 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!-- Copyright (C) 2015 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-<!-- Volume section defines a volume curve for a given use case and device category.
-It contains a list of points of this curve expressing the attenuation in Millibels for a given
-volume index from 0 to 100.
-<volume deviceCategory=””>
-<point>0,-9600</point>
-<point>100,0</point>
-</volume>
--->
-
-<volumeGroups>
-    <volumeGroup>
-        <name>voice_call</name>
-        <indexMin>1</indexMin>
-        <indexMax>7</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET">
-            <point>0,-4200</point>
-            <point>33,-2800</point>
-            <point>66,-1400</point>
-            <point>100,0</point>
-        </volume>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER">
-            <point>0,-2400</point>
-            <point>33,-1600</point>
-            <point>66,-800</point>
-            <point>100,0</point>
-        </volume>
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE">
-            <point>0,-2700</point>
-            <point>33,-1800</point>
-            <point>66,-900</point>
-            <point>100,0</point>
-        </volume>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="DEFAULT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID" ref="DEFAULT_HEARING_AID_VOLUME_CURVE"/>
-    </volumeGroup>
-
-    <volumeGroup>
-        <name>system</name>
-        <indexMin>0</indexMin>
-        <indexMax>7</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET">
-            <point>1,-3000</point>
-            <point>33,-2600</point>
-            <point>66,-2200</point>
-            <point>100,-1800</point>
-        </volume>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER">
-            <point>1,-5100</point>
-            <point>57,-2800</point>
-            <point>71,-2500</point>
-            <point>85,-2300</point>
-            <point>100,-2100</point>
-        </volume>
-        <!--volume deviceCategory="DEVICE_CATEGORY_SPEAKER" ref="DEFAULT_SYSTEM_VOLUME_CURVE"/-->
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE" ref="DEFAULT_SYSTEM_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="DEFAULT_DEVICE_CATEGORY_EXT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID" ref="DEFAULT_HEARING_AID_VOLUME_CURVE"/>
-    </volumeGroup>
-
-    <volumeGroup>
-        <name>ring</name>
-        <indexMin>0</indexMin>
-        <indexMax>7</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET" ref="DEFAULT_DEVICE_CATEGORY_HEADSET_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER" ref="DEFAULT_DEVICE_CATEGORY_SPEAKER_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE" ref="DEFAULT_DEVICE_CATEGORY_EARPIECE_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="DEFAULT_DEVICE_CATEGORY_EXT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID" ref="DEFAULT_HEARING_AID_VOLUME_CURVE"/>
-    </volumeGroup>
-
-    <volumeGroup>
-        <name>music</name>
-        <indexMin>0</indexMin>
-        <indexMax>25</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET" ref="DEFAULT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER" ref="DEFAULT_DEVICE_CATEGORY_SPEAKER_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE" ref="DEFAULT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="DEFAULT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID"  ref="DEFAULT_HEARING_AID_VOLUME_CURVE"/>
-    </volumeGroup>
-
-    <volumeGroup>
-        <name>alarm</name>
-        <indexMin>1</indexMin>
-        <indexMax>7</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET" ref="DEFAULT_NON_MUTABLE_HEADSET_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER" ref="DEFAULT_NON_MUTABLE_SPEAKER_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE" ref="DEFAULT_NON_MUTABLE_EARPIECE_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="DEFAULT_NON_MUTABLE_EXT_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID" ref="DEFAULT_NON_MUTABLE_HEARING_AID_VOLUME_CURVE"/>
-    </volumeGroup>
-
-    <volumeGroup>
-        <name>notification</name>
-        <indexMin>0</indexMin>
-        <indexMax>7</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET" ref="DEFAULT_DEVICE_CATEGORY_HEADSET_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER" ref="DEFAULT_DEVICE_CATEGORY_SPEAKER_SYSTEM_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE" ref="DEFAULT_DEVICE_CATEGORY_EARPIECE_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="DEFAULT_DEVICE_CATEGORY_EXT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID" ref="DEFAULT_DEVICE_CATEGORY_HEADSET_VOLUME_CURVE"/>
-    </volumeGroup>
-
-    <volumeGroup>
-        <name>bluetooth_sco</name>
-        <indexMin>0</indexMin>
-        <indexMax>15</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET">
-            <point>0,-4200</point>
-            <point>33,-2800</point>
-            <point>66,-1400</point>
-            <point>100,0</point>
-        </volume>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER">
-            <point>0,-2400</point>
-            <point>33,-1600</point>
-            <point>66,-800</point>
-            <point>100,0</point>
-        </volume>
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE">
-            <point>0,-4200</point>
-            <point>33,-2800</point>
-            <point>66,-1400</point>
-            <point>100,0</point>
-        </volume>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="DEFAULT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID" ref="DEFAULT_HEARING_AID_VOLUME_CURVE"/>
-    </volumeGroup>
-
-    <volumeGroup>
-        <name>enforced_audible</name>
-        <indexMin>0</indexMin>
-        <indexMax>7</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET">
-            <point>1,-3000</point>
-            <point>33,-2600</point>
-            <point>66,-2200</point>
-            <point>100,-1800</point>
-        </volume>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER">
-            <point>1,-3400</point>
-            <point>71,-2400</point>
-            <point>100,-2000</point>
-        </volume>
-        <!--volume deviceCategory="DEVICE_CATEGORY_SPEAKER" ref="DEFAULT_SYSTEM_VOLUME_CURVE"/-->
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE" ref="DEFAULT_SYSTEM_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="DEFAULT_DEVICE_CATEGORY_EXT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID" ref="DEFAULT_HEARING_AID_VOLUME_CURVE"/>
-    </volumeGroup>
-
-    <volumeGroup>
-        <name>dtmf</name>
-        <indexMin>0</indexMin>
-        <indexMax>15</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET">
-            <point>1,-3000</point>
-            <point>33,-2600</point>
-            <point>66,-2200</point>
-            <point>100,-1800</point>
-        </volume>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER">
-            <point>1,-4000</point>
-            <point>71,-2400</point>
-            <point>100,-1400</point>
-        </volume>
-        <!--volume deviceCategory="DEVICE_CATEGORY_SPEAKER" ref="DEFAULT_SYSTEM_VOLUME_CURVE"/-->
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE" ref="DEFAULT_SYSTEM_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="DEFAULT_DEVICE_CATEGORY_EXT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID" ref="DEFAULT_HEARING_AID_VOLUME_CURVE"/>
-    </volumeGroup>
-
-    <volumeGroup>
-        <name>tts</name>
-        <indexMin>0</indexMin>
-        <indexMax>15</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET" ref="SILENT_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER" ref="FULL_SCALE_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE" ref="SILENT_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="SILENT_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID" ref="SILENT_VOLUME_CURVE"/>
-    </volumeGroup>
-
-    <volumeGroup>
-        <name>accessibility</name>
-        <indexMin>1</indexMin>
-        <indexMax>15</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET" ref="DEFAULT_NON_MUTABLE_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER" ref="DEFAULT_NON_MUTABLE_SPEAKER_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE" ref="DEFAULT_NON_MUTABLE_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="DEFAULT_NON_MUTABLE_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID" ref="DEFAULT_NON_MUTABLE_HEARING_AID_VOLUME_CURVE"/>
-    </volumeGroup>
-
-    <volumeGroup>
-        <name>assistant</name>
-        <indexMin>0</indexMin>
-        <indexMax>15</indexMax>
-        <volume deviceCategory="DEVICE_CATEGORY_HEADSET" ref="DEFAULT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_SPEAKER" ref="DEFAULT_DEVICE_CATEGORY_SPEAKER_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EARPIECE" ref="DEFAULT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_EXT_MEDIA" ref="DEFAULT_MEDIA_VOLUME_CURVE"/>
-        <volume deviceCategory="DEVICE_CATEGORY_HEARING_AID"  ref="DEFAULT_HEARING_AID_VOLUME_CURVE"/>
-    </volumeGroup>
-
-</volumeGroups>
-
diff --git a/imx8m/aiy_8mq/bluetooth/bdroid_buildcfg.h b/imx8m/aiy_8mq/bluetooth/bdroid_buildcfg.h
deleted file mode 100644
index 6ba4c591..00000000
--- a/imx8m/aiy_8mq/bluetooth/bdroid_buildcfg.h
+++ /dev/null
@@ -1,33 +0,0 @@
-/*
- * Copyright (C) 2012 The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-/* Copyright (C) 2015-2016 Freescale Semiconductor, Inc. */
-
-#ifndef _BDROID_BUILDCFG_H
-#define _BDROID_BUILDCFG_H
-
-#define BTM_DEF_LOCAL_NAME "iMX8"
-
-// Disables Interleave scan
-#define BTA_HOST_INTERLEAVE_SEARCH  FALSE
-// skips conn update at conn completion
-#define BTA_BLE_SKIP_CONN_UPD  TRUE
-// Disables read remote device feature
-#define BTA_SKIP_BLE_READ_REMOTE_FEAT TRUE
-
-//Enable A2DPSink AVRCPController
-#define BTA_AV_SINK_INCLUDED TRUE
-#endif
diff --git a/imx8m/aiy_8mq/camera_config_imx8mq.json b/imx8m/aiy_8mq/camera_config_imx8mq.json
deleted file mode 100644
index 25252ec4..00000000
--- a/imx8m/aiy_8mq/camera_config_imx8mq.json
+++ /dev/null
@@ -1,40 +0,0 @@
-{
-  "__readme": [
-    "Basic Camera HAL v3 configuration."
-  ],
-
-  "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "GPU_3D",
-
-  "camera_metadata": [
-    {
-      "camera_type": "back",
-      "camera_name": "mx6s-csi",
-      "orientation": "0",
-      "buffer_type": "mmap",
-      "ActiveArrayWidth": "2592",
-      "ActiveArrayHeight": "1944",
-      "PixelArrayWidth": "2592",
-      "PixelArrayHeight": "1944",
-      "PhysicalWidth": "3.6288",
-      "PhysicalHeight": "2.7216",
-      "FocalLength": "3.37",
-      "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000",
-      "OmitFrame": [
-          {
-              "width": "2592",
-              "height": "1944",
-              "omit_num": "3"
-          },
-          {
-              "width": "1920",
-              "height": "1080",
-              "omit_num": "2"
-          }
-      ]
-    }
-  ]
-}
diff --git a/imx8m/aiy_8mq/compatibility_matrix.xml b/imx8m/aiy_8mq/compatibility_matrix.xml
deleted file mode 100644
index 67ab2209..00000000
--- a/imx8m/aiy_8mq/compatibility_matrix.xml
+++ /dev/null
@@ -1,62 +0,0 @@
-<compatibility-matrix version="1.0" type="device">
-    <hal format="hidl" optional="false">
-        <name>android.frameworks.schedulerservice</name>
-        <version>1.0</version>
-        <interface>
-            <name>ISchedulingPolicyService</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.frameworks.sensorservice</name>
-        <version>1.0</version>
-        <interface>
-            <name>ISensorManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.allocator</name>
-        <version>1.0</version>
-        <interface>
-            <name>IAllocator</name>
-            <instance>ashmem</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.manager</name>
-        <version>1.0</version>
-        <interface>
-            <name>IServiceManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.memory</name>
-        <version>1.0</version>
-        <interface>
-            <name>IMapper</name>
-            <instance>ashmem</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.token</name>
-        <version>1.0</version>
-        <interface>
-            <name>ITokenManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.system.wifi.keystore</name>
-        <version>1.0</version>
-        <interface>
-            <name>IKeystore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="native" optional="false">
-        <name>netutils-wrapper</name>
-        <version>1.0</version>
-    </hal>
-</compatibility-matrix>
diff --git a/imx8m/aiy_8mq/device_framework_matrix.xml b/imx8m/aiy_8mq/device_framework_matrix.xml
deleted file mode 100644
index cc7247b5..00000000
--- a/imx8m/aiy_8mq/device_framework_matrix.xml
+++ /dev/null
@@ -1,17 +0,0 @@
-<compatibility-matrix version="1.0" type="framework">
-    <hal format="hidl" optional="true">
-        <name>nxp.hardware.display</name>
-        <version>1.0</version>
-        <interface>
-            <name>IDisplay</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="aidl" optional="true">
-        <name>android.hardware.kioskled</name>
-        <interface>
-            <name>IKioskled</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-</compatibility-matrix>
diff --git a/imx8m/aiy_8mq/early.init.cfg b/imx8m/aiy_8mq/early.init.cfg
deleted file mode 100644
index 9dd16032..00000000
--- a/imx8m/aiy_8mq/early.init.cfg
+++ /dev/null
@@ -1,2 +0,0 @@
-# support insmod xx.ko; setprop xx xx; modeprobe
-modprobe
diff --git a/imx8m/aiy_8mq/external_camera_config.xml b/imx8m/aiy_8mq/external_camera_config.xml
deleted file mode 100644
index 81fe3e88..00000000
--- a/imx8m/aiy_8mq/external_camera_config.xml
+++ /dev/null
@@ -1,31 +0,0 @@
-<ExternalCamera>
-    <Provider>
-        <ignore>
-            <!-- Internal video devices to be ignored by external camera HAL -->
-            <!-- No leading/trailing spaces -->
-            <!-- <id>0</id>  -->
-        </ignore>
-    </Provider>
-    <!-- See ExternalCameraUtils.cpp for default values of Device configurations below -->
-    <Device>
-        <!-- Max JPEG buffer size in bytes-->
-        <MaxJpegBufferSize bytes="3145728"/>
-        <!-- Size of v4l2 buffer queue when streaming >= 30fps -->
-        <!-- Larger value: more request can be cached pipeline (less janky)  -->
-        <!-- Smaller value: use less memory -->
-        <NumVideoBuffers count="4"/>
-        <!-- Size of v4l2 buffer queue when streaming < 30fps -->
-        <NumStillBuffers count="2"/>
-
-        <!-- List of maximum fps for various output sizes -->
-        <!-- Any image size smaller than the size listed in Limit row will report
-            fps (as minimum frame duration) up to the fpsBound value. -->
-        <FpsList>
-            <!-- width/height must be increasing, fpsBound must be decreasing-->
-            <Limit width="640" height="480" fpsBound="60.0"/>
-            <Limit width="1280" height="720" fpsBound="30.0"/>
-            <Limit width="1920" height="1080" fpsBound="30.0"/>
-            <!-- image size larger than the last entry will not be supported-->
-        </FpsList>
-    </Device>
-</ExternalCamera>
diff --git a/imx8m/aiy_8mq/fstab.nxp b/imx8m/aiy_8mq/fstab.nxp
deleted file mode 100644
index 73a34ecf..00000000
--- a/imx8m/aiy_8mq/fstab.nxp
+++ /dev/null
@@ -1,15 +0,0 @@
-# Android fstab file.
-#<src>                                                  <mnt_point>         <type>    <mnt_flags and options>                       <fs_mgr_flags>
-# The filesystem that contains the filesystem checker binary (typically /system) cannot
-# specify MF_CHECK, and must come before any filesystems that do specify MF_CHECK
-
-/devices/platform/soc@0/38200000.usb/* auto auto defaults voldmanaged=usb:auto
-/dev/block/by-name/userdata    /data        ext4    nosuid,nodev,nodiratime,noatime,noauto_da_alloc,errors=panic    latemount,wait,formattable,quota,fileencryption=aes-256-xts:aes-256-cts:v2,keydirectory=/metadata/vold/metadata_encryption,reservedsize=128M,checkpoint=block
-/dev/block/by-name/metadata    /metadata    ext4    noatime,nosuid,nodev,discard,sync                                                wait,formattable,first_stage_mount,check
-/dev/block/by-name/misc        /misc        emmc    defaults                                                                         defaults
-/dev/block/by-name/idtechdata  /mnt/vendor/idtechdata  ext4    nosuid,nodev,noatime,barrier=1                       wait,formattable
-/dev/block/zram0 none swap defaults zramsize=629145600
-/tmp /sdcard none defaults,bind recoveryonly
-
-/devices/platform/soc@0/30800000.bus/30b50000.mmc/mmc_host* /storage/sdcard1 vfat nosuid,nodev wait,voldmanaged=sdcard1:auto,encryptable=footer
-/devices/platform/soc@0/38100000.usb/* auto auto defaults voldmanaged=usb:auto
diff --git a/imx8m/aiy_8mq/init.imx8mq.rc b/imx8m/aiy_8mq/init.imx8mq.rc
deleted file mode 100644
index 44613aae..00000000
--- a/imx8m/aiy_8mq/init.imx8mq.rc
+++ /dev/null
@@ -1,58 +0,0 @@
-on early-boot
-
-    # Set OpenGLES version
-    setprop ro.opengles.version 196609
-
-    # Set GPU 3D minimum clock to 3/64
-    write /sys/bus/platform/drivers/galcore/gpu3DMinClock 3
-
-    # Set NN reject model by weights md5
-    setprop vendor.MODEL_BLOCK_LEVEL 1
-
-    # change for FSL specific service
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
-    chmod 0440 /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
-    chown root system /sys/devices/system/cpu/cpu2/online
-    chmod 0664 /sys/devices/system/cpu/cpu2/online
-    chown root system /sys/devices/system/cpu/cpu3/online
-    chmod 0664 /sys/devices/system/cpu/cpu3/online
-
-on property:sys.boot_completed=1
-    # Set default CPU frequency governor
-    # configure governor settings for little cluster
-    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "schedutil"
-    # The rate-limit tunable in the schedutil governor applies to transitions to both lower and higher frequencies
-    # Set up and down limit to 200us/200us
-    write /sys/devices/system/cpu/cpufreq/schedutil/up_rate_limit_us 200
-    write /sys/devices/system/cpu/cpufreq/schedutil/down_rate_limit_us 200
-    write /proc/sys/kernel/sched_util_clamp_min 512
-
-on property:sys.boot_completed=1
-    # update cpuset now that processors are up
-    write /dev/cpuset/foreground/cpus 0-3
-
-    # top-app gets all cpus
-    write /dev/cpuset/top-app/cpus 0-3
-
-    #background contains a small subset (generally one little core)
-    write /dev/cpuset/background/cpus 0
-
-    # add system-background cpuset, a new cpuset for system services
-    # that should not run on larger cores
-    # system-background is for system tasks that should only run on
-    # little cores, not on bigs to be used only by init
-    write /dev/cpuset/system-background/cpus 0-2
-
-on init
-    #IDtech added for AB ota update bootloader
-    symlink   /dev/block/mmcblk0boot0p1   /dev/block/by-name/spl_a
-    symlink   /dev/block/mmcblk0boot1p1   /dev/block/by-name/spl_b
-    symlink   /dev/block/mmcblk0boot0p2   /dev/block/by-name/spl_bak_a
-    symlink   /dev/block/mmcblk0boot1p2   /dev/block/by-name/spl_bak_b
diff --git a/imx8m/aiy_8mq/init.rc b/imx8m/aiy_8mq/init.rc
deleted file mode 100644
index 5aa5a9e3..00000000
--- a/imx8m/aiy_8mq/init.rc
+++ /dev/null
@@ -1,269 +0,0 @@
-import /vendor/etc/init/hw/init.${ro.hardware}.usb.rc
-import /vendor/etc/init/hw/init.${ro.hardware}.${ro.boot.soc_type}.rc
-import /product/etc/init/hw/init.idt.common.rc
-
-service vendor.charger /system/bin/charger
-    class charger
-    user system
-    group system wakelock input
-    capabilities SYS_BOOT
-    file /dev/kmsg w
-    file /sys/fs/pstore/console-ramoops-0 r
-    file /sys/fs/pstore/console-ramoops r
-    file /proc/last_kmsg r
-
-on charger
-    start vendor.charger
-
-on early-init
-    # mount the debugfs
-    mount debugfs none /sys/kernel/debug/ mode=0755
-
-on early-init
-    start early_init_sh
-    # Set the host name which used in console
-    export HOSTNAME aiy_8mq
-
-    # Due keymaster start very early so set prop here
-    # Also gatekeeper share same role for keymaster
-    setprop ro.hardware.keystore ${ro.boot.keystore}
-    setprop ro.hardware.gatekeeper ${ro.boot.keystore}
-    setprop vendor.storageproxyd ${ro.boot.keystore}
-
-    # Use ro.boot.lcd_density to override ro.sf.lcd_density
-    setprop ro.sf.lcd_density ${ro.boot.lcd_density}
-
-# Skip charger_not_need trigger for charger mode
-on early-init && property:ro.boot.mode=charger
-    setprop vendor.skip.charger_not_need 1
-
-on init && property:vendor.skip.charger_not_need=0
-    start watchdogd
-
-    # disable cursor blink for fbcon, if no splash screen support
-    write /sys/class/graphics/fbcon/cursor_blink 0
-
-    # deattch the fbcon as hdmi hotplug conflict with fbcon
-    write /sys/class/vtconsole/vtcon1/bind 0
-
-    chown system system /dev/stune/top-app/schedtune.boost
-    chmod 664 /dev/stune/top-app/schedtune.boost
-    chown system system /dev/stune/top-app/schedtune.prefer_idle
-    chmod 664 /dev/stune/top-app/schedtune.prefer_idle
-    chown system system /dev/stune/foreground/schedtune.boost
-    chmod 664 /dev/stune/foreground/schedtune.boost
-    chown system system /dev/stune/foreground/schedtune.prefer_idle
-    chmod 664 /dev/stune/foreground/schedtune.prefer_idle
-    chown system system /dev/stune/schedtune.boost
-    chmod 664 /dev/stune/schedtune.boost
-
-    # set default schedTune value for foreground/top-app (only affects EAS)
-    write /dev/stune/foreground/schedtune.boost 10
-    write /dev/stune/foreground/schedtune.prefer_idle 1
-    write /dev/stune/top-app/schedtune.boost 40
-    write /dev/stune/top-app/schedtune.prefer_idle 1
-    write /dev/stune/rt/schedtune.boost 50
-    write /dev/stune/rt/schedtune.prefer_idle 1
-
-on late-fs && property:vendor.skip.charger_not_need=0
-    # Start keymaster/gatekeeper service
-    start vendor.gatekeeper-1-0-${ro.boot.keystore}
-    start vendor.keymaster-4-0-${ro.boot.keystore}
-    setprop vendor.powerhal.init 1
-
-    # Wait for keymaster
-    exec_start wait_for_keymaster
-
-    mount_all /vendor/etc/fstab.nxp --late
-
-on late-fs && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
-    start vendor.oemlock-1-0
-
-on early-boot && property:vendor.skip.charger_not_need=0
-    # For evk_8mq, when swap used about 400M, upgrade the level.
-    setprop ro.lmk.upgrade_pressure 87
-    setprop ro.lmk.downgrade_pressure 95
-    setprop ro.lmk.critical_upgrade true
-
-    setprop vendor.sys.hwc.disable     1
-    setprop vendor.2d.composition 0
-    setprop vendor.hwc.stretch.filter  1
-
-    #viv sdk dir
-    setprop vendor.VIVANTE_SDK_DIR /vendor/etc/viv_sdk
-
-    # fsl omx graphic manager media framework property
-    setprop vendor.rw.VIDEO_RENDER_NAME video_render.surface
-    setprop vendor.media.fsl_codec.flag 7
-
-    setprop camera.disable_zsl_mode 1
-
-   # Tweak the mmc device read ahead buffer size
-    write /sys/block/mmcblk0/queue/read_ahead_kb 2048
-    write /sys/block/mmcblk1/queue/read_ahead_kb 2048
-
-    # Wifi firmware reload path
-    chown wifi wifi /sys/module/bcmdhd/parameters/firmware_path
-    chown wifi wifi /sys/module/bcmdhd/parameters/nvram_path
-    chown wifi wifi /sys/module/brcmfmac/parameters/alternative_fw_path
-
-    # Prepare for wifi
-    setprop wifi.interface wlan0
-
-    # Prepare for bluetooth
-    chmod 665 /sys/class/rfkill/rfkill0/state
-    chown bluetooth bluetooth /sys/class/rfkill/rfkill0/state
-    write /sys/class/rfkill/rfkill0/state 0
-
-    setprop vendor.qcom.bluetooth.soc rome_uart
-    setprop vendor.wc_transport.start_hci false
-
-    # Disable surfaceflinger back pressure propagate
-    setprop debug.sf.disable_backpressure 1
-
-    # Set tracefs permission to 755
-    chmod 0755 /sys/kernel/debug/tracing
-
-    # Set sw_sync group to graphics and set permission to 664
-    chown root graphics /sys/kernel/debug/sync/sw_sync
-    chmod 0664 /sys/kernel/debug/sync/sw_sync
-
-    # Default backlight device
-    setprop vendor.hw.backlight.dev "30a00000.mipi-dsi.0"
-    # Chmod/chown FSL specific sys entry
-    chown system system /sys/class/backlight/30a00000.mipi-dsi.0/brightness
-    chmod 0660 /sys/class/backlight/30a00000.mipi-dsi.0/brightness
-
-    # Set light sensor sysfs path and light sensor threshold lux value
-    setprop ro.hardware.lightsensor "/sys/class/i2c-dev/i2c-0/device/0-0044/"
-    setprop vendor.ro.lightsensor.threshold  20
-
-    # Allow DSD file(duration larger than 10s) can play
-    setprop audio.offload.min.duration.secs 10
-
-    # Enlarge limition of audio buffer allocation
-    setprop ro.af.client_heap_size_kbyte 32768
-
-    setprop wifi.concurrent.interface p2p0
-    start vendor.wifi_hal_legacy
-
-on boot && property:vendor.skip.charger_not_need=0
-    start audioserver
-    start mediadrm
-    start media
-    start drm
-
-service wpa_supplicant /vendor/bin/hw/wpa_supplicant \
-    -O/data/vendor/wifi/wpa/sockets -puse_p2p_group_interface=1 \
-    -g@android:wpa_wlan0
-    interface android.hardware.wifi.supplicant@1.0::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.1::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.2::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.3::ISupplicant default
-    class main
-    socket wpa_wlan0 dgram 660 wifi wifi
-    disabled
-    oneshot
-
-service sensor_fusion /vendor/bin/fsl_sensor_fusion
-    class late_start
-    seclabel u:r:sensors:s0
-    user system
-    group system uhid
-    oneshot
-
-# Set watchdog timer to 30 seconds and pet it every 10 seconds to get a 20 second margin
-service watchdogd /system/bin/watchdogd 10 20
-    class core
-    seclabel u:r:watchdogd:s0
-
-# bugreport is triggered by holding down volume down, volume up and power
-service bugreport /system/bin/dumpstate -d -p -z
-    class main
-    disabled
-    oneshot
-    keycodes 114 115 116
-
-on property:vendor.wc_transport.start_hci=true
-    start start_hci_filter
-
-on property:vendor.wc_transport.start_hci=false
-    stop start_hci_filter
-
-service start_hci_filter /vendor/bin/wcnss_filter
-    class late_start
-    user bluetooth
-    group bluetooth diag
-    disabled
-
-on property:vendor.wc_transport.start_root=true
-    start hci_filter_root
-
-on property:vendor.wc_transport.start_root=false
-    stop hci_filter_root
-
-service hci_filter_root /vendor/bin/wcnss_filter
-    class late_start
-    user bluetooth
-    group bluetooth diag system
-    disabled
-
-on fs && property:vendor.skip.charger_not_need=0
-# mount ext4 partitions
-    mount_all /vendor/etc/fstab.nxp --early
-
-    # Adjust parameters for dm-verity device
-    write /sys/block/dm-0/queue/read_ahead_kb 4096
-
-    # Update dm-verity state and set partition.*.verified properties
-    verity_update_state
-
-on post-fs && property:vendor.skip.charger_not_need=0
-    # Set netd memlock rlimit to 8MB
-    setrlimit 8 8388608 8388608
-
-    # Turn on swap
-    swapon_all /vendor/etc/fstab.nxp
-
-    # Swap in only 1 page at a time
-    write /proc/sys/vm/page-cluster 0
-
-    # Grant permission for fetching available_pages info of statsd
-    chown system system /proc/pagetypeinfo
-    chmod 0440 /proc/pagetypeinfo
-
-on post-fs-data && property:vendor.skip.charger_not_need=0
-    setprop vold.post_fs_data_done 1
-    # create temp node for secure storage proxy
-    mkdir /data/vendor/ss 0700 system system
-
-    # tmp dir for opencl Compiler
-    setprop vendor.TMPDIR /data/vendor/.opencl-cache
-    mkdir /data/vendor/.opencl-cache 0771 system camera
-
-on zygote-start && property:vendor.skip.charger_not_need=0
-    # Create the directories used by the Wireless subsystem
-    mkdir /data/vendor/wifi 0771 wifi wifi
-    mkdir /data/vendor/wifi/wpa 0770 wifi wifi
-    mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
-
-service early_init_sh /vendor/bin/init.insmod.sh /vendor/etc/early.init.cfg vendor.all.early_init.ready
-    class main
-    user root
-    group root system
-    disabled
-    oneshot
-
-on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
-    start storageproxyd
-
-service storageproxyd /vendor/bin/storageproxyd -p /data/vendor/ss -r /dev/mmcblk0rpmb -d /dev/trusty-ipc-dev0
-   group system
-
-
-on property:ro.boot.vendor.sysrq=1 && property:vendor.skip.charger_not_need=0
-    write /proc/sys/kernel/sysrq 1
-
-# setenv append_bootargs androidboot.usb.debugging=1
-on property:ro.boot.usb.debugging=1
-    setprop persist.sys.usb.config adb
diff --git a/imx8m/aiy_8mq/init.recovery.nxp.rc b/imx8m/aiy_8mq/init.recovery.nxp.rc
deleted file mode 100644
index 6074b693..00000000
--- a/imx8m/aiy_8mq/init.recovery.nxp.rc
+++ /dev/null
@@ -1,8 +0,0 @@
-on init
-    # disable cursor blink for fbcon, if no splash screen support
-    write /sys/class/graphics/fbcon/cursor_blink 0
-
-    setprop sys.usb.configfs 1
-
-on post-fs-data
-    setprop sys.usb.controller "38100000.usb"
diff --git a/imx8m/aiy_8mq/init.usb.rc b/imx8m/aiy_8mq/init.usb.rc
deleted file mode 100644
index 12fe7841..00000000
--- a/imx8m/aiy_8mq/init.usb.rc
+++ /dev/null
@@ -1,52 +0,0 @@
-#
-# Copyright (C) 2016 The Android Open-Source Project
-# Copyright 2018 NXP
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-#      http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.
-#
-
-on early-boot
-    mount configfs none /config
-    mkdir /config/usb_gadget/g1 0770
-    mkdir /config/usb_gadget/g1/strings/0x409 0770
-    write /config/usb_gadget/g1/bcdUSB 0x0200
-    write /config/usb_gadget/g1/idVendor 0x18d1
-    write /config/usb_gadget/g1/bcdDevice 0x0440
-    write /config/usb_gadget/g1/strings/0x409/serialnumber ${ro.serialno}
-    write /config/usb_gadget/g1/strings/0x409/manufacturer ${ro.product.manufacturer}
-    write /config/usb_gadget/g1/strings/0x409/product ${ro.product.model}
-    mkdir /config/usb_gadget/g1/functions/mass_storage.0
-    mkdir /config/usb_gadget/g1/functions/accessory.gs2
-    mkdir /config/usb_gadget/g1/functions/audio_source.gs3
-    mkdir /config/usb_gadget/g1/functions/rndis.gs4
-    mkdir /config/usb_gadget/g1/functions/midi.gs5
-    mkdir /config/usb_gadget/g1/functions/ffs.adb
-    mkdir /config/usb_gadget/g1/functions/ffs.mtp
-    mkdir /config/usb_gadget/g1/functions/ffs.ptp
-    mkdir /config/usb_gadget/g1/configs/b.1 0770
-    mkdir /config/usb_gadget/g1/configs/b.1/strings/0x409 0770
-    write /config/usb_gadget/g1/os_desc/b_vendor_code 0x1
-    write /config/usb_gadget/g1/os_desc/qw_sign "MSFT100"
-    mkdir /dev/usb-ffs 0775 shell shell
-    mkdir /dev/usb-ffs/adb 0770 shell shell
-    mount functionfs adb /dev/usb-ffs/adb rmode=0770,fmode=0660,uid=2000,gid=2000
-    mkdir /dev/usb-ffs/mtp 0770 mtp mtp
-    mkdir /dev/usb-ffs/ptp 0770 mtp mtp
-    mount functionfs mtp /dev/usb-ffs/mtp rmode=0770,fmode=0660,uid=1024,gid=1024,no_disconnect=1
-    mount functionfs ptp /dev/usb-ffs/ptp rmode=0770,fmode=0660,uid=1024,gid=1024,no_disconnect=1
-    setprop sys.usb.mtp.device_type 3
-    setprop vendor.usb.config "38100000.usb"
-    write /sys/module/libcomposite/parameters/disable_l1_for_hs "y"
-    symlink /config/usb_gadget/g1/configs/b.1 /config/usb_gadget/g1/os_desc/b.1
-
-on boot
-    setprop sys.usb.configfs 2
diff --git a/imx8m/aiy_8mq/input-port-associations.xml b/imx8m/aiy_8mq/input-port-associations.xml
deleted file mode 100644
index d5f8fa39..00000000
--- a/imx8m/aiy_8mq/input-port-associations.xml
+++ /dev/null
@@ -1,24 +0,0 @@
-<!-- Use below commands to get display port number:
-# dumpsys SurfaceFlinger - -display-id
-Display 4692921138614785 (HWC display 1): port=1 pnpId=DEL displayName="DELL S2740L"
-Display 4693505326422272 (HWC display 0): port=0 pnpId=DEL displayName="DELL P2314T"
-
-Use below commands to get touch input location:
-# getevent -i | grep location
-location: "usb-xhci-hcd.0.auto-1.1.4/input0"
-location: "usb-xhci-hcd.0.auto-1.2.4/input0"
-
-Then bind the display port and input location with below table. This table need
-to modify according to actual connection.
-One display can link with multi-input.
--->
-<ports>
-	<port display="0" input="usb-xhci-hcd.1.auto-1.4/input0" />
-	<port display="1" input="usb-xhci-hcd.1.auto-1.4/input0" />
-	<port display="0" input="usb-xhci-hcd.2.auto-1.4/input0" />
-	<port display="1" input="usb-xhci-hcd.2.auto-1.4/input0" />
-	<port display="0" input="usb-xhci-hcd.1.auto-1.3.4/input0" />
-	<port display="1" input="usb-xhci-hcd.1.auto-1.3.4/input0" />
-	<port display="0" input="usb-xhci-hcd.2.auto-1.3.4/input0" />
-	<port display="1" input="usb-xhci-hcd.2.auto-1.3.4/input0" />
-</ports>
diff --git a/imx8m/aiy_8mq/manifest.xml b/imx8m/aiy_8mq/manifest.xml
deleted file mode 100644
index c6b7c705..00000000
--- a/imx8m/aiy_8mq/manifest.xml
+++ /dev/null
@@ -1,144 +0,0 @@
-<manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
-    <hal format="hidl">
-	<name>android.hardware.graphics.allocator</name>
-        <transport>hwbinder</transport>
-	<impl level="generic"></impl>
-	<version>4.0</version>
-	<interface>
-	    <name>IAllocator</name>
-	    <instance>default</instance>
-	</interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.composer</name>
-        <transport>hwbinder</transport>
-        <version>2.4</version>
-        <interface>
-            <name>IComposer</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-       <name>android.hardware.camera.provider</name>
-       <transport>hwbinder</transport>
-       <fqname>@2.4::ICameraProvider/external/0</fqname>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>4.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.3</version>
-        <interface>
-            <name>ICryptoFactory</name>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-        </interface>
-        <fqname>@1.3::ICryptoFactory/clearkey</fqname>
-        <fqname>@1.3::IDrmFactory/clearkey</fqname>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.gatekeeper</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IGatekeeper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.mapper</name>
-        <transport arch="32+64">passthrough</transport>
-        <impl level="generic"></impl>
-        <version>4.0</version>
-        <interface>
-            <name>IMapper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.renderscript</name>
-        <transport arch="32+64">passthrough</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.c2</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IComponentStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.omx</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IOmx</name>
-            <instance>default</instance>
-        </interface>
-        <interface>
-            <name>IOmxStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio</name>
-        <transport>hwbinder</transport>
-        <version>6.0</version>
-        <interface>
-            <name>IDevicesFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio.effect</name>
-        <transport>hwbinder</transport>
-        <version>6.0</version>
-        <interface>
-            <name>IEffectsFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.bluetooth</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IBluetoothHci</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.dumpstate</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>IDumpstateDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>nxp.hardware.display</name>
-            <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDisplay</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-</manifest>
diff --git a/imx8m/aiy_8mq/manifest_userdebug.xml b/imx8m/aiy_8mq/manifest_userdebug.xml
deleted file mode 100644
index da69eb68..00000000
--- a/imx8m/aiy_8mq/manifest_userdebug.xml
+++ /dev/null
@@ -1,12 +0,0 @@
-<manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
-    <hal format="hidl">
-        <name>android.hardware.memtrack</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IMemtrack</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-</manifest>
diff --git a/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png b/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png b/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png b/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/values/config.xml b/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/values/config.xml
deleted file mode 100644
index 512e7d79..00000000
--- a/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/values/config.xml
+++ /dev/null
@@ -1,224 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-/*
-** Copyright 2011, The Android Open Source Project
-**
-** Licensed under the Apache License, Version 2.0 (the "License");
-** you may not use this file except in compliance with the License.
-** You may obtain a copy of the License at
-**
-**     http://www.apache.org/licenses/LICENSE-2.0
-**
-** Unless required by applicable law or agreed to in writing, software
-** distributed under the License is distributed on an "AS IS" BASIS,
-** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-** See the License for the specific language governing permissions and
-** limitations under the License.
-*/
--->
-
-<!-- These resources are around just to allow their values to be customized
-     for different hardware and product builds. -->
-<resources>
-
-    <!--For Android we support eth0 now -->
-    <string translatable="false" name="config_ethernet_iface_regex">eth0</string>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         USB interfaces.  If the device doesn't want to support tething over USB this should
-         be empty.  An example would be "usb.*" -->
-     <string-array translatable="false" name="config_tether_usb_regexs">
-       <item>usb0</item>
-     </string-array>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         Wifi interfaces.  If the device doesn't want to support tethering over Wifi this
-         should be empty.  An example would be "softap.*" -->
-    <string-array translatable="false" name="config_tether_wifi_regexs">
-      <item>"wlan0"</item>
-    </string-array>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         bluetooth interfaces.  If the device doesn't want to support tethering over bluetooth this
-         should be empty. -->
-    <string-array translatable="false" name="config_tether_bluetooth_regexs">
-        <item>"bt-pan"</item>
-        </string-array>
-
-    <!-- Array of ConnectivityManager.TYPE_xxxx values allowable for tethering -->
-    <!-- Common options are [1, 4] for TYPE_WIFI and TYPE_MOBILE_DUN or
-    <!== [0,1,5,7,9] for TYPE_MOBILE, TYPE_WIFI, TYPE_MOBILE_HIPRI, TYPE_BLUETOOTH and TYPE_ETHERNET -->
-    <integer-array translatable="false" name="config_tether_upstream_types">
-        <item>0</item>
-        <item>1</item>
-        <item>5</item>
-        <item>9</item>
-    </integer-array>
-
-    <!-- Flag indicating whether we should enable the automatic brightness in Settings.
-         config_hardware_automatic_brightness_available is not set, so we will use software implementation -->
-    <bool name="config_automatic_brightness_available">true</bool>
-
-    <!-- An Array of "[ConnectivityManager connectionType],
-                      [# simultaneous connection types]"  -->
-    <string-array translatable="false" name="radioAttributes">
-        <item>"1,1"</item>
-        <item>"9,1"</item>
-    </string-array>
-
-    <!-- An Array of "[Connection name],[ConnectivityManager.TYPE_xxxx],
-         [associated radio-type],[priority],[restoral-timer(ms)],[dependencyMet]  -->
-    <!-- the 5th element "resore-time" indicates the number of milliseconds to delay
-         before automatically restore the default connection.  Set -1 if the connection
-         does not require auto-restore. -->
-    <!-- the 6th element indicates boot-time dependency-met value. -->
-    <string-array translatable="false" name="networkAttributes">
-        <item>"wifi,1,1,1,-1,true"</item>
-        <item>"bluetooth,7,7,2,-1,true"</item>
-        <item>"ethernet,9,9,2,-1,true"</item>
-    </string-array>
-
-    <!-- Array of light sensor LUX values to define our levels for auto backlight brightness support.
-         The N entries of this array define N + 1 zones as follows:
-
-         Zone 0:        0 <= LUX < array[0]
-         Zone 1:        array[0] <= LUX < array[1]
-         ...
-         Zone N:        array[N - 1] <= LUX < array[N]
-         Zone N + 1:    array[N] <= LUX < infinity
-
-         Must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessLevels">
-        <item>5</item>
-        <item>15</item>
-        <item>50</item>
-        <item>100</item>
-        <item>200</item>
-        <item>400</item>
-        <item>1000</item>
-        <item>2000</item>
-        <item>3000</item>
-        <item>5000</item>
-        <item>10000</item>
-        <item>30000</item>
-    </integer-array>
-
-    <!-- Array of output values for LCD backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessLcdBacklightValues">
-        <item>5</item>    <!-- 0-5 -->
-        <item>20</item>   <!-- 5-15 -->
-        <item>30</item>   <!-- 15-50 -->
-        <item>40</item>   <!-- 50-100 -->
-        <item>50</item>   <!-- 100-200 -->
-        <item>60</item>   <!-- 200-400 -->
-        <item>70</item>   <!-- 400-1000 -->
-        <item>80</item>   <!-- 1000-2000 -->
-        <item>130</item>  <!-- 2000-3000 -->
-        <item>180</item>  <!-- 3000-5000 -->
-        <item>255</item>  <!-- 5000-10000 -->
-        <item>255</item>  <!-- 10000-30000 -->
-        <item>255</item>  <!-- 30000+ -->
-    </integer-array>
-
-    <!-- Array of output values for button backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessButtonBacklightValues">
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-    </integer-array>
-
-    <!-- Array of output values for keyboard backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessKeyboardBacklightValues">
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-    </integer-array>
-
-    <integer name="config_screenBrightnessDim">5</integer>
-
-    <!--  Maximum number of supported users -->
-    <integer name="config_multiuserMaximumUsers">8</integer>
-    <!--  Whether Multiuser UI should be shown -->
-    <bool name="config_enableMultiUserUI">true</bool>
-
-    <!-- Whether a software navigation bar should be shown. NOTE: in the future this may be
-         autodetected from the Configuration. -->
-    <bool name="config_showNavigationBar">true</bool>
-
-    <!-- This device is not "voice capable"; it's data-only. -->
-    <bool name="config_voice_capable">false</bool>
-
-    <!-- Boolean indicating whether system support sustained performance mode. -->
-    <bool name="config_sustainedPerformanceModeSupported">true</bool>
-
-    <!-- If the system has the input method for each display - enable per-display focus. -->
-    <bool name="config_perDisplayFocusEnabled">true</bool>
-
-    <!-- The default gravity for the picture-in-picture window.
-         Currently, this maps to Gravity.TOP | Gravity.RIGHT -->
-    <integer name="config_defaultPictureInPictureGravity">0x35</integer>
-
-    <!-- Flag indicating whether orientation is able to change by application.-->
-    <bool name="config_orientation_lock_available">true</bool>
-
-    <!-- Boolean indicating whether the wifi chipset has 5GHz frequency band support -->
-    <bool translatable="false" name="config_wifi5ghzSupport">true</bool>
-
-    <!-- Boolean indicating whether 802.11r Fast BSS Transition is enabled on this platform -->
-    <bool translatable="false" name="config_wifi_fast_bss_transition_enabled">true</bool>
-
-    <!-- Boolean indicating whether the wifi chipset has background scan support -->
-    <bool translatable="false" name="config_wifi_background_scan_support">true</bool>
-
-    <!-- Enable ACS (auto channel selection) for Wifi hotspot (SAP) -->
-    <bool translatable="false" name="config_wifi_softap_acs_supported">true</bool>
-
-    <!-- Enable 802.11ac for Wifi hotspot (SAP) -->
-    <bool translatable="false" name="config_wifi_softap_ieee80211ac_supported">true</bool>
-
-    <!-- True if the firmware supports connected MAC randomization -->
-    <bool name="config_wifi_connected_mac_randomization_supported">false</bool>
-
-    <!-- True if the firmware supports p2p MAC randomization -->
-    <bool name="config_wifi_p2p_mac_randomization_supported">false</bool>
-
-    <!-- True if the firmware supports ap MAC randomization -->
-    <bool name="config_wifi_ap_mac_randomization_supported">true</bool>
-</resources>
diff --git a/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/xml/power_profile.xml b/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/xml/power_profile.xml
deleted file mode 100644
index 2104fe62..00000000
--- a/imx8m/aiy_8mq/overlay/frameworks/base/core/res/res/xml/power_profile.xml
+++ /dev/null
@@ -1,27 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-**
-** Copyright 2009, The Android Open Source Project
-*  Copyright (C) 2016 Freescale Semiconductor, Inc.
-**
-** Licensed under the Apache License, Version 2.0 (the "License")
-** you may not use this file except in compliance with the License.
-** You may obtain a copy of the License at
-**
-**     http://www.apache.org/licenses/LICENSE-2.0
-**
-** Unless required by applicable law or agreed to in writing, software
-** distributed under the License is distributed on an "AS IS" BASIS,
-** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-** See the License for the specific language governing permissions and
-** limitations under the License.
-*/
--->
-
-<device name="Android">
-  <array name="cpu.active">
-      <value>0.1</value>
-  </array>
-  <!-- This is the battery capacity in mAh -->
-  <item name="battery.capacity">4800</item>
-</device>
diff --git a/imx8m/aiy_8mq/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml b/imx8m/aiy_8mq/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml
deleted file mode 100644
index 0bf9ee21..00000000
--- a/imx8m/aiy_8mq/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml
+++ /dev/null
@@ -1,25 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-/**
- * Copyright (c) 2009, The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *     http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
--->
-<resources>
-    <!-- Default for Settings.Secure.USER_SETUP_COMPLETE -->
-    <bool name="def_user_setup_complete">true</bool>
-    <bool name="def_bluetooth_on">false</bool>
-    <bool name="def_stay_on_while_plugged_in">true</bool>
-    <string name="def_immersive_mode_confirmations" translatable="false">confirmed</string>
-</resources>
diff --git a/imx8m/aiy_8mq/overlay/frameworks/base/packages/SystemUI/res/values/dimens.xml b/imx8m/aiy_8mq/overlay/frameworks/base/packages/SystemUI/res/values/dimens.xml
deleted file mode 100644
index 38532b1e..00000000
--- a/imx8m/aiy_8mq/overlay/frameworks/base/packages/SystemUI/res/values/dimens.xml
+++ /dev/null
@@ -1,4 +0,0 @@
-<resources>
-    <!-- Minimum swipe distance to catch the swipe gestures to invoke assist or switch tasks. -->
-    <dimen name="navigation_bar_min_swipe_distance">40dp</dimen>
-</resources>
diff --git a/imx8m/aiy_8mq/overlay/packages/apps/Settings/res/values/bools.xml b/imx8m/aiy_8mq/overlay/packages/apps/Settings/res/values/bools.xml
deleted file mode 100644
index e9f565d3..00000000
--- a/imx8m/aiy_8mq/overlay/packages/apps/Settings/res/values/bools.xml
+++ /dev/null
@@ -1,19 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2009 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-  
-          http://www.apache.org/licenses/LICENSE-2.0
-  
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<resources>
-    <bool name="config_additional_system_update_setting_enable">true</bool>
-</resources>
diff --git a/imx8m/aiy_8mq/overlay/packages/apps/Settings/res/values/config.xml b/imx8m/aiy_8mq/overlay/packages/apps/Settings/res/values/config.xml
deleted file mode 100644
index dbf188dc..00000000
--- a/imx8m/aiy_8mq/overlay/packages/apps/Settings/res/values/config.xml
+++ /dev/null
@@ -1,22 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2007 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
-    <string name="additional_system_update" translatable="false">com.example.android.systemupdatersample</string>
-    <string name="additional_system_update_menu" translatable="false">com.example.android.systemupdatersample.ui.MainActivity</string>
-    <string name="config_work_policy_info_intent_action" translatable="false">com.google.android.settings.privacy.ACTION_SHOW_WORK_POLICY_INFO</string>
-
-</resources>
diff --git a/imx8m/aiy_8mq/overlay/packages/apps/Settings/res/values/strings.xml b/imx8m/aiy_8mq/overlay/packages/apps/Settings/res/values/strings.xml
deleted file mode 100644
index 34ef4132..00000000
--- a/imx8m/aiy_8mq/overlay/packages/apps/Settings/res/values/strings.xml
+++ /dev/null
@@ -1,23 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2007 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
-    <!-- Display settings screen, setting option name to lock display orientation. [CHAR LIMIT=NONE] -->
-    <string name="lock_orientation_title">Lock display orientation</string>
-    <!-- Setting option summary [CHAR LIMIT=NONE] -->
-    <string name="lock_orientation_summary">Lock display orientation to avoid orientaion changed by application</string>
-    <!-- Search keywords for display orientation lock [CHAR LIMIT=NONE]-->
-    <string name="keywords_lock_display_orientation">display orientation, lock orientation, unlock orientation</string>
-</resources>
diff --git a/imx8m/aiy_8mq/powerhint_imx8mq.json b/imx8m/aiy_8mq/powerhint_imx8mq.json
deleted file mode 100644
index 3d7db6ab..00000000
--- a/imx8m/aiy_8mq/powerhint_imx8mq.json
+++ /dev/null
@@ -1,202 +0,0 @@
-{
-  "Nodes": [
-    {
-      "Name": "CPULittleClusterMaxFreq",
-      "Path": "/sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq",
-      "Values": [
-        "1500000",
-        "1300000",
-        "1000000",
-        "800000"
-      ],
-      "DefaultIndex": 0,
-      "ResetOnInit": true
-    },
-    {
-      "Name": "CPULittleClusterMinFreq",
-      "Path": "/sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq",
-      "Values": [
-        "1500000",
-        "1300000",
-        "1000000",
-        "800000"
-      ],
-      "ResetOnInit": true
-    },
-    {
-      "Name": "TASchedtuneBoost",
-      "Path": "/dev/stune/top-app/schedtune.boost",
-      "Values": [
-        "60",
-        "10"
-      ],
-      "DefaultIndex": 1,
-      "ResetOnInit": true
-    },
-    {
-      "Name": "PMQoSCpuDmaLatency",
-      "Path": "/dev/cpu_dma_latency",
-      "Values": [
-        "0",
-        "3000"
-      ],
-      "DefaultIndex": 1,
-      "HoldFd": true
-    },
-    {
-      "Name": "PowerHALMainState",
-      "Path": "vendor.powerhal.camera",
-      "Values": [
-        "CAMERA_STREAMING_MID",
-        ""
-      ],
-      "Type": "Property"
-    },
-    {
-      "Name": "PowerHALAudioState",
-      "Path": "vendor.powerhal.audio",
-      "Values": [
-        "AUDIO_STREAMING_LOW_LATENCY",
-        ""
-      ],
-      "Type": "Property"
-    },
-    {
-      "Name": "PowerHALRenderingState",
-      "Path": "vendor.powerhal.rendering",
-      "Values": [
-        "EXPENSIVE_RENDERING",
-        ""
-      ],
-      "Type": "Property"
-    }
-  ],
-  "Actions": [
-    {
-      "PowerHint": "SUSTAINED_PERFORMANCE",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1300000"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "1500000"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "TASchedtuneBoost",
-      "Duration": 0,
-      "Value": "60"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 500,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 5000,
-      "Value": "1500000"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 5000,
-      "Value": "1500000"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 5000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 5000,
-      "Value": "1500000"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 5000,
-      "Value": "1500000"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 1000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "CAMERA_STREAMING_MID",
-      "Node": "PowerHALMainState",
-      "Duration": 0,
-      "Value": "CAMERA_STREAMING_MID"
-    },
-    {
-      "PowerHint": "CAMERA_STREAMING_MID",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1300000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 5000,
-      "Value": "1500000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 5000,
-      "Value": "1500000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 1000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "LOW_POWER",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "800000"
-    },
-    {
-      "PowerHint": "LOW_POWER",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1300000"
-    },
-    {
-      "PowerHint": "AUDIO_STREAMING_LOW_LATENCY",
-      "Node": "PowerHALAudioState",
-      "Duration": 0,
-      "Value": "AUDIO_STREAMING_LOW_LATENCY"
-    },
-    {
-      "PowerHint": "AUDIO_STREAMING_LOW_LATENCY",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 0,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "FIXED_PERFORMANCE",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1300000"
-    },
-    {
-      "PowerHint": "FIXED_PERFORMANCE",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "1300000"
-    }
-  ]
-}
diff --git a/imx8m/aiy_8mq/required_hardware.xml b/imx8m/aiy_8mq/required_hardware.xml
deleted file mode 100644
index aef0450a..00000000
--- a/imx8m/aiy_8mq/required_hardware.xml
+++ /dev/null
@@ -1,33 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2009 The Android Open Source Project
-     Copyright 2018 NXP
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<!-- These are the hardware components that are included in i.MX reference board
--->
-<permissions>
-    <!-- This is Android and fully CTS compatible.  Basically this is for CTS tests to use. -->
-    <feature name="android.software.cts" />
-    <feature name="android.hardware.camera.any" />
-    <feature name="android.software.home_screen" />
-    <feature name="android.software.input_methods" />
-    <feature name="android.software.cant_save_state" />
-    <feature name="android.hardware.location" />
-    <feature name="android.hardware.location.network" />
-    <feature name="android.hardware.bluetooth" />
-    <feature name="android.software.companion_device_setup" />
-    <feature name="android.software.autofill" />
-    <feature name="android.software.secure_lock_screen" />
-</permissions>
diff --git a/imx8m/aiy_8mq/seccomp/mediacodec-seccomp.policy b/imx8m/aiy_8mq/seccomp/mediacodec-seccomp.policy
deleted file mode 100644
index 9bac41bf..00000000
--- a/imx8m/aiy_8mq/seccomp/mediacodec-seccomp.policy
+++ /dev/null
@@ -1 +0,0 @@
-select: 1
diff --git a/imx8m/aiy_8mq/seccomp/mediaextractor-seccomp.policy b/imx8m/aiy_8mq/seccomp/mediaextractor-seccomp.policy
deleted file mode 100644
index abbef2c2..00000000
--- a/imx8m/aiy_8mq/seccomp/mediaextractor-seccomp.policy
+++ /dev/null
@@ -1,5 +0,0 @@
-uname: 1
-fchmodat: 1
-ftruncate64: 1
-readlinkat: 1
-pread64: 1
diff --git a/imx8m/aiy_8mq/sepolicy/attributes b/imx8m/aiy_8mq/sepolicy/attributes
deleted file mode 100644
index 4f651be6..00000000
--- a/imx8m/aiy_8mq/sepolicy/attributes
+++ /dev/null
@@ -1,3 +0,0 @@
-attribute hal_kioskled;
-attribute hal_kioskled_client;
-attribute hal_kioskled_server;
diff --git a/imx8m/aiy_8mq/sepolicy/file.te b/imx8m/aiy_8mq/sepolicy/file.te
deleted file mode 100644
index 13d940a6..00000000
--- a/imx8m/aiy_8mq/sepolicy/file.te
+++ /dev/null
@@ -1 +0,0 @@
-type sysfs_idtech_kioskleds, fs_type, sysfs_type;
diff --git a/imx8m/aiy_8mq/sepolicy/file_contexts b/imx8m/aiy_8mq/sepolicy/file_contexts
deleted file mode 100644
index 54c061a2..00000000
--- a/imx8m/aiy_8mq/sepolicy/file_contexts
+++ /dev/null
@@ -1,30 +0,0 @@
-/dev/block/mmcblk0boot0                      u:object_r:emmc_boot0:s0
-/dev/block/mmcblk1                           u:object_r:sdcard:s0
-
-#peripheral
-/vendor/bin/fsl_sensor_fusion   u:object_r:sensors_exec:s0
-/dev/ttymxc[0-9]*               u:object_r:tty_device:s0
-/dev/sda[0-8]*                  u:object_r:fuse:s0
-
-#Neural Network HAL service
-/vendor/bin/hw/android\.hardware\.neuralnetworks@1\.3-service-vsi-npu-server      u:object_r:hal_neuralnetworks_imx_exec:s0
-
-#Thermal HAL service
-/vendor/bin/hw/android\.hardware\.thermal@2\.0-service.imx         u:object_r:hal_thermal_default_exec:s0
-
-/vendor/bin/hw/android\.hardware\.media\.c2@1\.0-service    u:object_r:mediacodec_exec:s0
-
-#Kiosk Led file node
-/vendor/bin/hw/android\.hardware\.kioskled@1\.0-service        u:object_r:hal_kioskled_default_exec:s0
-/vendor/bin/hw/android\.hardware\.kioskled-service             u:object_r:hal_kioskled_default_exec:s0
-
-# android.system.suspend@1.0-service
-/sys/devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-powerkey/wakeup/wakeup[0-9]*(/.*)?                                      u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-rtc-lp/wakeup/wakeup[0-9]*(/.*)?                                        u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-rtc-lp/rtc/rtc0/alarmtimer.0.auto/wakeup/wakeup[0-9]*(/.*)?             u:object_r:sysfs_wakeup:s0
-/sys/devices/virtual/power_supply/battery/wakeup[0-9]*(/.*)?                                                                                      u:object_r:sysfs_wakeup:s0
-/sys/devices/virtual/power_supply/usb/wakeup[0-9]*(/.*)?                                                                                          u:object_r:sysfs_wakeup:s0
-/sys/devices/virtual/wakeup/wakeup[0-9]*(/.*)?                                                                                                    u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/30800000.bus/30a20000.i2c/i2c-0/0-0050/power_supply/tcpm-source-psy-0-0050/wakeup[0-9]*(/.*)?                         u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/30800000.bus/30be0000.ethernet/net/eth0/wakeup[0-9]*(/.*)?                                                            u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/33800000.pcie/pci0000:00/0000:00:00.0/0000:01:00.0/wakeup/wakeup[0-9]*(/.*)?                                          u:object_r:sysfs_wakeup:s0
diff --git a/imx8m/aiy_8mq/sepolicy/genfs_contexts b/imx8m/aiy_8mq/sepolicy/genfs_contexts
deleted file mode 100644
index 20f83532..00000000
--- a/imx8m/aiy_8mq/sepolicy/genfs_contexts
+++ /dev/null
@@ -1,13 +0,0 @@
-genfscon sysfs /devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-rtc-lp/rtc/rtc0/hctosys     u:object_r:sysfs_rtc:s0
-
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30a20000.i2c/i2c-0/0-0050/power_supply u:object_r:sysfs_batteryinfo:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30a20000.i2c/i2c-0/0-0050/extcon   u:object_r:sysfs_extcon:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30b40000.mmc/mmc_host/mmc0/mmc0:0001/block/mmcblk0 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30b50000.mmc/mmc_host/mmc1/mmc1:aaaa/block/mmcblk1 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30bb0000.spi/spi_master/spi3/spi3.0/mtd/mtd0/mtdblock u:object_r:sysfs_block_devices:s0
-
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30a00000.mipi-dsi/30a00000.mipi-dsi.0/backlight u:object_r:sysfs_leds:s0
-
-#/sys/class/net
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30be0000.ethernet/net               u:object_r:sysfs_net:s0
-genfscon sysfs /devices/platform/soc@0/33c00000.pcie/pci0001:00/0001:00:00.0/0001:01:00.0/net u:object_r:sysfs_net:s0
diff --git a/imx8m/aiy_8mq/sepolicy/hal_kioskled.te b/imx8m/aiy_8mq/sepolicy/hal_kioskled.te
deleted file mode 100644
index 0d96991d..00000000
--- a/imx8m/aiy_8mq/sepolicy/hal_kioskled.te
+++ /dev/null
@@ -1,11 +0,0 @@
-# HwBinder IPC from client to server, and callbacks
-binder_call(hal_kioskled_client, hal_kioskled_server)
-binder_call(hal_kioskled_server, hal_kioskled_client)
-
-hal_attribute_hwservice(hal_kioskled, hal_kioskled_hwservice)
-
-add_service(hal_kioskled_server, hal_kioskled_service)
-binder_call(hal_kioskled_server, servicemanager)
-binder_call(hal_kioskled_client, servicemanager)
-allow hal_kioskled_client hal_kioskled_service:service_manager find;
-
diff --git a/imx8m/aiy_8mq/sepolicy/hal_kioskled_default.te b/imx8m/aiy_8mq/sepolicy/hal_kioskled_default.te
deleted file mode 100644
index 07cbddc4..00000000
--- a/imx8m/aiy_8mq/sepolicy/hal_kioskled_default.te
+++ /dev/null
@@ -1,9 +0,0 @@
-type hal_kioskled_default, domain, mlstrustedsubject;
-type hal_kioskled_default_exec, exec_type, vendor_file_type, file_type;
-
-init_daemon_domain(hal_kioskled_default)
-hal_server_domain(hal_kioskled_default, hal_kioskled)
-
-allow hal_kioskled_default sysfs_leds:dir { search read open };
-allow hal_kioskled_default sysfs:file { getattr open read write };
-
diff --git a/imx8m/aiy_8mq/sepolicy/hal_neuralnetworks_darwinn.te b/imx8m/aiy_8mq/sepolicy/hal_neuralnetworks_darwinn.te
deleted file mode 100644
index 016661d1..00000000
--- a/imx8m/aiy_8mq/sepolicy/hal_neuralnetworks_darwinn.te
+++ /dev/null
@@ -1,15 +0,0 @@
-type darwinn_device, dev_type, mlstrustedobject;
-type hal_darwinn_hwservice, hwservice_manager_type;
-type hal_neuralnetworks_darwinn_beagle_pci, domain;
-hal_server_domain(hal_neuralnetworks_darwinn_beagle_pci, hal_neuralnetworks)
-type hal_neuralnetworks_darwinn_beagle_pci_exec, exec_type, vendor_file_type, file_type;
-init_daemon_domain(hal_neuralnetworks_darwinn_beagle_pci)
-# Darwinn Hidl service.
-add_hwservice(hal_neuralnetworks_darwinn_beagle_pci, hal_darwinn_hwservice)
-# Open the device at /dev
-allow hal_neuralnetworks_darwinn_beagle_pci darwinn_device:chr_file { read write open map ioctl getattr };
-# The TPU HAL looks for TPU instance in /sys/class
-allow hal_neuralnetworks_darwinn_beagle_pci sysfs:dir { read open };
-# Allow DarwiNN service to use a client-provided fd residing in /vendor/etc/.
-allow hal_neuralnetworks_darwinn_beagle_pci vendor_configs_file:file {read getattr map};
-vndbinder_use(hal_neuralnetworks_darwinn_beagle_pci);
diff --git a/imx8m/aiy_8mq/sepolicy/hwservice.te b/imx8m/aiy_8mq/sepolicy/hwservice.te
deleted file mode 100644
index 560c4b41..00000000
--- a/imx8m/aiy_8mq/sepolicy/hwservice.te
+++ /dev/null
@@ -1 +0,0 @@
-type hal_kioskled_hwservice, hwservice_manager_type;
diff --git a/imx8m/aiy_8mq/sepolicy/hwservice_contexts b/imx8m/aiy_8mq/sepolicy/hwservice_contexts
deleted file mode 100644
index cfc3211d..00000000
--- a/imx8m/aiy_8mq/sepolicy/hwservice_contexts
+++ /dev/null
@@ -1 +0,0 @@
-android.hardware.kioskled::IKioskled      u:object_r:hal_kioskled_hwservice:s0
diff --git a/imx8m/aiy_8mq/sepolicy/platform_app.te b/imx8m/aiy_8mq/sepolicy/platform_app.te
deleted file mode 100644
index 956c73b0..00000000
--- a/imx8m/aiy_8mq/sepolicy/platform_app.te
+++ /dev/null
@@ -1,3 +0,0 @@
-allow platform_app sysfs_leds:dir { search };
-allow platform_app hal_kioskled_service:service_manager { find };
-allow platform_app hal_kioskled_default:binder { call };
diff --git a/imx8m/aiy_8mq/sepolicy/service.te b/imx8m/aiy_8mq/sepolicy/service.te
deleted file mode 100644
index 935b5ea1..00000000
--- a/imx8m/aiy_8mq/sepolicy/service.te
+++ /dev/null
@@ -1 +0,0 @@
-type hal_kioskled_service, vendor_service, service_manager_type;
diff --git a/imx8m/aiy_8mq/sepolicy/service_contexts b/imx8m/aiy_8mq/sepolicy/service_contexts
deleted file mode 100644
index 24764b3d..00000000
--- a/imx8m/aiy_8mq/sepolicy/service_contexts
+++ /dev/null
@@ -1 +0,0 @@
-android.hardware.kioskled.IKioskled/default                        u:object_r:hal_kioskled_service:s0
diff --git a/imx8m/aiy_8mq/sepolicy/system_server.te b/imx8m/aiy_8mq/sepolicy/system_server.te
deleted file mode 100644
index dc511380..00000000
--- a/imx8m/aiy_8mq/sepolicy/system_server.te
+++ /dev/null
@@ -1 +0,0 @@
-hal_client_domain(system_server, hal_kioskled)
diff --git a/imx8m/aiy_8mq/thermal_info_config_imx8mq.json b/imx8m/aiy_8mq/thermal_info_config_imx8mq.json
deleted file mode 100755
index 32aec548..00000000
--- a/imx8m/aiy_8mq/thermal_info_config_imx8mq.json
+++ /dev/null
@@ -1,59 +0,0 @@
-{
-    "HotplugCPUs":[
-            "cpu2",
-            "cpu3"
-    ],
-    "Sensors":[
-        {
-            "Name":"cpu-thermal",
-            "Type":"CPU",
-            "HotThreshold":[
-                "NAN",
-                80.0,
-                82.0,
-                86.0,
-                88.0,
-                "NAN",
-                90.0
-            ],
-            "HotHysteresis":[
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        },
-        {
-            "Name":"battery",
-            "Type":"BATTERY",
-            "HotThreshold":[
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                100.0
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        }
-    ],
-    "CoolingDevices":[
-        {
-            "Name":"thermal-devfreq-0",
-            "Type":"GPU"
-        },
-        {
-            "Name":"thermal-cpufreq-0",
-            "Type":"CPU"
-        }
-    ]
-}
diff --git a/imx8m/aiy_8mq/ueventd.nxp.rc b/imx8m/aiy_8mq/ueventd.nxp.rc
deleted file mode 100644
index d870421e..00000000
--- a/imx8m/aiy_8mq/ueventd.nxp.rc
+++ /dev/null
@@ -1,27 +0,0 @@
-/dev/block/by-name/presistdata 0600   system     system
-/dev/ttymxc1              0660   bluetooth  bluetooth
-/dev/snd/*                0660   system     audio
-/dev/video*               0660   system     camera
-/dev/mxc_hantro           0666   media      drmrpc
-/dev/vsi_daemon_ctrl      0666   media      drmrpc
-/dev/imxdpu               0660   media      drmrpc
-/dev/ion                  0666   media      drmrpc
-/dev/galcore              0666 	 system     graphics
-/dev/graphics/fb0         0660   system     graphics
-/dev/watchdog             0660   system     root
-/dev/mmcblk0rpmb          0600   system     system
-/dev/trusty-ipc-dev0      0660   system     drmrpc
-
-/sys/devices/virtual/thermal/thermal_zone* trip_point_0_temp 0660 system system
-/sys/devices/virtual/thermal/thermal_zone* trip_point_1_temp 0660 system system
-
-/sys/devices/virtual/thermal/thermal_zone* trip_point_0_hyst 0660 system system
-/sys/devices/virtual/thermal/thermal_zone* trip_point_1_hyst 0660 system system
-
-/dev/usb/lp0              0666   root         root
-
-#KIOSK LED
-/sys/class/leds/* brightness 0666 root root
-/sys/class/leds/* trigger 0666 root root
-/sys/class/leds/* delay_on 0666 root root
-/sys/class/leds/* delay_off 0666 root root
diff --git a/imx8m/bigcypress_8mp/AndroidUboot.mk b/imx8m/bigcypress_8mp/AndroidUboot.mk
index cfb66ae6..7807db83 100644
--- a/imx8m/bigcypress_8mp/AndroidUboot.mk
+++ b/imx8m/bigcypress_8mp/AndroidUboot.mk
@@ -7,6 +7,10 @@ else
   $(error shell env AARCH64_GCC_CROSS_COMPILE is not set)
 endif
 
+ifeq ($(POWERSAVE),true)
+  POWERSAVE_STATE = ENABLE
+endif
+
 define build_imx_uboot
 	$(hide) echo Building i.MX U-Boot with firmware; \
 	cp $(UBOOT_OUT)/u-boot-nodtb.$(strip $(1)) $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
@@ -17,12 +21,12 @@ define build_imx_uboot
 	$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ PLAT=`echo $(2) | cut -d '-' -f1` clean; \
 	if [ `echo $(2) | cut -d '-' -f3` = "trusty" ]; then \
 		cp $(FSL_PROPRIETARY_PATH)/fsl-proprietary/uboot-firmware/imx8m/tee-imx8mp.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B SPD=trusty 1>/dev/null || exit 1; \
+		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B SPD=trusty LPA=$(POWERSAVE_STATE) 1>/dev/null || exit 1; \
 	else \
 		if [ -f $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin ] ; then \
 			rm -rf $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
 		fi; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B 1>/dev/null || exit 1; \
+		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B LPA=$(POWERSAVE_STATE) 1>/dev/null || exit 1; \
 	fi; \
 	cp $(IMX_PATH)/arm-trusted-firmware/build/`echo $(2) | cut -d '-' -f1`/release/bl31.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/bl31.bin; \
 	$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ clean; \
diff --git a/imx8m/bigcypress_8mp/BoardConfig.mk b/imx8m/bigcypress_8mp/BoardConfig.mk
index 3d059dbc..d9ba5360 100644
--- a/imx8m/bigcypress_8mp/BoardConfig.mk
+++ b/imx8m/bigcypress_8mp/BoardConfig.mk
@@ -21,16 +21,22 @@ HAVE_FSL_IMX_GPU3D := true
 HAVE_FSL_IMX_PXP := false
 TARGET_USES_HWC2 := true
 TARGET_HAVE_VULKAN := true
+CFG_SECURE_IOCTRL_REGS := true
+ENABLE_SEC_DMABUF_HEAP := true
 
 SOONG_CONFIG_IMXPLUGIN += \
-                        BOARD_VPU_TYPE
+                        BOARD_VPU_TYPE \
+                        CFG_SECURE_IOCTRL_REGS \
+                        ENABLE_SEC_DMABUF_HEAP
 
 SOONG_CONFIG_IMXPLUGIN_BOARD_SOC_TYPE = IMX8MP
 SOONG_CONFIG_IMXPLUGIN_BOARD_HAVE_VPU = true
 SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_TYPE = hantro
 SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_ONLY = false
-
-
+SOONG_CONFIG_IMXPLUGIN_PREBUILT_FSL_IMX_CODEC = true
+SOONG_CONFIG_IMXPLUGIN_POWERSAVE = $(POWERSAVE)
+SOONG_CONFIG_IMXPLUGIN_CFG_SECURE_IOCTRL_REGS = true
+SOONG_CONFIG_IMXPLUGIN_ENABLE_SEC_DMABUF_HEAP = true
 
 # -------@block_memory-------
 USE_ION_ALLOCATOR := true
@@ -119,36 +125,39 @@ BOARD_KERNEL_BASE := 0x40400000
 
 CMASIZE=960M
 # NXP default config
-BOARD_KERNEL_CMDLINE := init=/init androidboot.console=ttymxc1 androidboot.hardware=nxp firmware_class.path=/vendor/firmware loop.max_part=7
+BOARD_KERNEL_CMDLINE := init=/init firmware_class.path=/vendor/firmware loop.max_part=7 bootconfig
+BOARD_BOOTCONFIG += androidboot.console=ttymxc1 androidboot.hardware=nxp
 
 # memory config
 BOARD_KERNEL_CMDLINE += transparent_hugepage=never
 BOARD_KERNEL_CMDLINE += swiotlb=65536
 
 # display config
-BOARD_KERNEL_CMDLINE += androidboot.lcd_density=246 androidboot.primary_display=imx-drm
+BOARD_BOOTCONFIG += androidboot.lcd_density=246 androidboot.primary_display=imx-drm
 
 # wifi config
+BOARD_BOOTCONFIG += androidboot.wificountrycode=CN
 ifeq ($(POWERSAVE),true)
-    BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN moal.mod_para=wifi_mod_para_powersave.conf
+    BOARD_KERNEL_CMDLINE +=  moal.mod_para=wifi_mod_para_powersave.conf pci=nomsi
 else
-    BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN moal.mod_para=wifi_mod_para.conf
+    BOARD_KERNEL_CMDLINE +=  moal.mod_para=wifi_mod_para.conf pci=nomsi
 endif
 
 # low memory device build config
 ifeq ($(LOW_MEMORY),true)
-BOARD_KERNEL_CMDLINE += cma=320M@0x400M-0xb80M androidboot.displaymode=720p galcore.contiguousSize=33554432
+BOARD_KERNEL_CMDLINE += cma=320M@0x400M-0xb80M galcore.contiguousSize=33554432
+BOARD_BOOTCONFIG += androidboot.displaymode=720p
 else
 BOARD_KERNEL_CMDLINE += cma=$(CMASIZE)@0x400M-0x1000M
 endif
 
 # powersave config
 ifeq ($(POWERSAVE),true)
-    BOARD_KERNEL_CMDLINE += androidboot.powersave.usb=true
+    BOARD_BOOTCONFIG += androidboot.powersave.usb=true androidboot.powersave.uclamp=true androidboot.powersave.lpa=true
 endif
 
 ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-BOARD_KERNEL_CMDLINE += androidboot.vendor.sysrq=1
+BOARD_BOOTCONFIG += androidboot.vendor.sysrq=1
 endif
 
 ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
@@ -164,7 +173,11 @@ ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
     # Only basler
     TARGET_BOARD_DTS_CONFIG += imx8mp-basler:imx8mp-evk-basler.dtb
     # Used to support mcu image
+    ifeq ($(POWERSAVE),true)
+    TARGET_BOARD_DTS_CONFIG += imx8mp-rpmsg:imx8mp-evk-hifiberry-dacpp-m-rpmsg.dtb
+    else
     TARGET_BOARD_DTS_CONFIG += imx8mp-rpmsg:imx8mp-evk-rpmsg.dtb
+    endif
     # Support LVDS interface
     TARGET_BOARD_DTS_CONFIG += imx8mp-lvds:imx8mp-evk-it6263-lvds-dual-channel.dtb
     # Support LVDS panel
diff --git a/imx8m/bigcypress_8mp/SharedBoardConfig.mk b/imx8m/bigcypress_8mp/SharedBoardConfig.mk
index 19c271b6..6464b2f6 100644
--- a/imx8m/bigcypress_8mp/SharedBoardConfig.mk
+++ b/imx8m/bigcypress_8mp/SharedBoardConfig.mk
@@ -1,5 +1,5 @@
 # -------@block_kernel_bootimg-------
-KERNEL_NAME := Image
+KERNEL_NAME := Image.lz4
 TARGET_KERNEL_ARCH := arm64
 #IMX8MP_USES_GKI := true
 
@@ -28,6 +28,7 @@ BOARD_VENDOR_KERNEL_MODULES += \
 # CONFIG_SND_SOC_FSL_DSP: snd-soc-fsl-dsp.ko snd-soc-fsl-dsp-audiomix.ko, dsp audio driver
 # CONFIG_MXC_HANTRO_VC8000E: hx280enc_vc8000e.ko, vpu encoder driver
 # CONFIG_MXC_HANTRO_845: hantrodec_845s.ko, vpu decoder driver
+# CONFIG_MXC_HANTRO_V4L2: vsiv4l2.ko, vpu v4l2 driver
 
 ifeq ($(IMX8MP_USES_GKI),true)
 BOARD_VENDOR_KERNEL_MODULES += \
@@ -55,13 +56,16 @@ BOARD_VENDOR_KERNEL_MODULES += \
     $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-dsp.ko \
     $(KERNEL_OUT)/drivers/mxc/hantro_vc8000e/hx280enc_vc8000e.ko \
     $(KERNEL_OUT)/drivers/mxc/hantro_845/hantrodec_845s.ko \
+    $(KERNEL_OUT)/drivers/mxc/hantro_v4l2/vsiv4l2.ko \
     $(KERNEL_OUT)/drivers/mailbox/imx-mailbox.ko \
     $(KERNEL_OUT)/drivers/rpmsg/virtio_rpmsg_bus.ko \
+    $(KERNEL_OUT)/drivers/rpmsg/rpmsg_raw.ko \
     $(KERNEL_OUT)/drivers/remoteproc/imx_rproc.ko \
+    $(KERNEL_OUT)/drivers/remoteproc/imx_dsp_rproc.ko \
     $(KERNEL_OUT)/drivers/i2c/busses/i2c-rpmsg-imx.ko \
     $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-rpmsg.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-rpmsg-i2s.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/imx-i2s-rpmsg.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-rpmsg.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/imx-audio-rpmsg.ko \
     $(KERNEL_OUT)/sound/soc/codecs/snd-soc-rpmsg-wm8960.ko \
     $(KERNEL_OUT)/sound/soc/codecs/snd-soc-rpmsg-wm8960-i2c.ko \
     $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-rpmsg.ko \
@@ -76,6 +80,17 @@ BOARD_VENDOR_KERNEL_MODULES +=     \
     $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko
 endif
 
+ifeq ($(POWERSAVE),true)
+BOARD_VENDOR_KERNEL_MODULES += \
+    $(KERNEL_OUT)/drivers/soc/imx/lpa_ctrl.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-rpmsg-pcm512x.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-rpmsg-pcm512x-i2c.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-tpa6130a2.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-pcm512x-rpmsg.ko
+endif
+
+# CONFIG_ZRAM: zram.ko, lzo.ko, lzo-rle.ko compressed ram using LZ coding.
+# CONFIG_ZSMALLOC: zsmalloc.ko
 # CONFIG_CLK_IMX8MP: clk-imx8mp.ko, clk-audiomix.ko, clk-gate-shared.ko, clk-hdmimix.ko
 # CONFIG_IMX8M_PM_DOMAINS: imx8m_pm_domains.ko
 # CONFIG_PINCTRL_IMX: pinctrl-imx.ko
@@ -88,7 +103,10 @@ endif
 # CONFIG_PWM_IMX27: pwm-imx27.ko
 # CONFIG_BACKLIGHT_PWM : pwm_bl.ko
 # CONFIG_MMC_SDHCI_ESDHC_IMX: sdhci-esdhc-imx.ko, cqhci.ko
-# CONFIG_ION_CMA_HEAP: ion_cma_heap.ko
+# CONFIG_DMABUF_HEAPS_SYSTEM: system_heap.ko
+# CONFIG_DMABUF_HEAPS_CMA: cma_heap.ko
+# CONFIG_DMABUF_HEAPS_SECURE: secure_heap.ko
+# CONFIG_DMABUF_IMX: dma-buf-imx.ko
 # CONFIG_MFD_IMX_AUDIOMIX: imx-audiomix.ko
 # CONFIG_PHY_FSL_IMX8MP_LVDS: phy-fsl-imx8mp-lvds.ko
 # CONFIG_PHY_SAMSUNG_HDMI_PHY: phy-fsl-samsung-hdmi.ko
@@ -123,9 +141,15 @@ endif
 # CONFIG_ARM_IMX_CPUFREQ_DT: imx-cpufreq-dt.ko
 # CONFIG_VIDEO_OV5640: ov5640.ko, ov5640 sensor driver
 # CONFIG_VIDEO_IMX_CAPTURE: imx8-media-dev.ko, imx8-isi-cap.ko, imx8-isi-hw.ko, imx8-isi-m2m.ko, imx8-mipi-csi2-sam.ko, imx isi and mipi driver
+# CONFIG_CFG80211: cfg80211.ko, cfg80211 - wireless configuration API
+# CONFIG_MAC80211: mac80211.ko, Generic IEEE 802.11 Networking Stack
 
 ifeq ($(IMX8MP_USES_GKI),true)
 BOARD_VENDOR_RAMDISK_KERNEL_MODULES +=     \
+    $(KERNEL_OUT)/mm/zsmalloc.ko \
+    $(KERNEL_OUT)/crypto/lzo.ko \
+    $(KERNEL_OUT)/crypto/lzo-rle.ko \
+    $(KERNEL_OUT)/drivers/block/zram/zram.ko \
     $(KERNEL_OUT)/drivers/soc/imx/soc-imx8m.ko \
     $(KERNEL_OUT)/drivers/soc/imx/mu/mx8_mu.ko \
     $(KERNEL_OUT)/drivers/clk/imx/mxc-clk.ko \
@@ -146,10 +170,11 @@ BOARD_VENDOR_RAMDISK_KERNEL_MODULES +=     \
     $(KERNEL_OUT)/drivers/video/backlight/pwm_bl.ko \
     $(KERNEL_OUT)/drivers/mmc/host/cqhci.ko \
     $(KERNEL_OUT)/drivers/mmc/host/sdhci-esdhc-imx.ko \
-    $(KERNEL_OUT)/drivers/staging/android/ion/ion-alloc.ko \
-    $(KERNEL_OUT)/drivers/staging/android/ion/heaps/ion_sys_heap.ko \
-    $(KERNEL_OUT)/drivers/staging/android/ion/heaps/ion_cma_heap.ko \
-    $(KERNEL_OUT)/drivers/staging/android/ion/heaps/ion_unmapped_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/system_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/cma_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/secure_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/dsp_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/dma-buf-imx.ko \
     $(KERNEL_OUT)/drivers/reset/reset-imx7.ko \
     $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8mp-lvds.ko \
     $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-samsung-hdmi.ko \
@@ -199,7 +224,9 @@ BOARD_VENDOR_RAMDISK_KERNEL_MODULES +=     \
     $(TARGET_OUT_INTERMEDIATES)/VVCAM_OBJ/vvcam-video.ko \
     $(TARGET_OUT_INTERMEDIATES)/VVCAM_OBJ/vvcam-dwe.ko \
     $(TARGET_OUT_INTERMEDIATES)/VVCAM_OBJ/vvcam-isp.ko \
-    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-media-dev.ko
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-media-dev.ko \
+    $(KERNEL_OUT)/net/wireless/cfg80211.ko \
+    $(KERNEL_OUT)/net/mac80211/mac80211.ko
 endif
 
 # -------@block_memory-------
diff --git a/imx8m/bigcypress_8mp/UbootKernelBoardConfig.mk b/imx8m/bigcypress_8mp/UbootKernelBoardConfig.mk
index db0a0dd5..2136d6b0 100644
--- a/imx8m/bigcypress_8mp/UbootKernelBoardConfig.mk
+++ b/imx8m/bigcypress_8mp/UbootKernelBoardConfig.mk
@@ -3,14 +3,14 @@ TARGET_BOOTLOADER_POSTFIX := bin
 UBOOT_POST_PROCESS := true
 
 # u-boot target
-TARGET_BOOTLOADER_CONFIG := imx8mp-lpddr4:vp6820_8mp_evk_android_defconfig:signed
-TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty:vp6820_8mp_evk_android_trusty_defconfig
-TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty-secure-unlock:vp6820_8mp_evk_android_trusty_secure_unlock_defconfig
-TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-dual:vp6820_8mp_evk_android_dual_defconfig:signed
-TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty-dual:vp6820_8mp_evk_android_trusty_dual_defconfig:signed
-TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-evk-uuu-mic6g:vp6820_8mp_evk_android_uuu_mic6g_defconfig:signed
-#TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-powersave:vp6820_8mp_evk_android_powersave_defconfig
-#TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty-powersave:vp6820_8mp_evk_android_trusty_powersave_defconfig
+TARGET_BOOTLOADER_CONFIG := imx8mp-lpddr4:bigcypress_8mp_evk_android_defconfig:signed
+TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty:bigcypress_8mp_evk_android_trusty_defconfig
+TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty-secure-unlock:bigcypress_8mp_evk_android_trusty_secure_unlock_defconfig
+TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-dual:bigcypress_8mp_evk_android_dual_defconfig:signed
+TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty-dual:bigcypress_8mp_evk_android_trusty_dual_defconfig:signed
+TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-evk-uuu-mic6g:bigcypress_8mp_evk_android_uuu_mic6g_defconfig:signed
+#TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-powersave:bigcypress_8mp_evk_android_powersave_defconfig
+#TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty-powersave:bigcypress_8mp_evk_android_trusty_powersave_defconfig
 
 ifeq ($(IMX8MP_USES_GKI),true)
 TARGET_KERNEL_DEFCONFIG := gki_defconfig
diff --git a/imx8m/bigcypress_8mp/android_addition_defconfig b/imx8m/bigcypress_8mp/android_addition_defconfig
index 5a1b361f..1473454a 100644
--- a/imx8m/bigcypress_8mp/android_addition_defconfig
+++ b/imx8m/bigcypress_8mp/android_addition_defconfig
@@ -26,6 +26,15 @@ CONFIG_PPP_SYNC_TTY=y
 CONFIG_OF_OVERLAY=y
 CONFIG_TASKSTATS=y
 CONFIG_DEVMEM=y
+CONFIG_ION_UNMAPPED_HEAP=y
+CONFIG_KFENCE_SAMPLE_INTERVAL=500
+CONFIG_KFENCE_NUM_OBJECTS=63
+CONFIG_CMA_SYSFS=y
+CONFIG_CMA_DEBUGFS=y
+CONFIG_DMABUF_SYSFS_STATS=y
+CONFIG_DMABUF_HEAPS_DEFERRED_FREE=y
+CONFIG_DMABUF_HEAPS_PAGE_POOL=y
+CONFIG_GPU_OLD_RESET_METHOD=y
 
 CONFIG_PARAVIRT=y
 CONFIG_NETFILTER_XT_TARGET_CT=y
diff --git a/imx8m/bigcypress_8mp/audio_policy_configuration.xml b/imx8m/bigcypress_8mp/audio_policy_configuration.xml
index 17b12ec5..71c66fb4 100644
--- a/imx8m/bigcypress_8mp/audio_policy_configuration.xml
+++ b/imx8m/bigcypress_8mp/audio_policy_configuration.xml
@@ -14,7 +14,7 @@
      limitations under the License.
 -->
 
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
+<audioPolicyConfiguration version="7.0" xmlns:xi="http://www.w3.org/2001/XInclude">
     <globalConfiguration speaker_drc_enabled="true"/>
 
     <modules>
@@ -29,11 +29,11 @@
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
-                <mixPort name="lpa output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_HW_AV_SYNC">
+                <mixPort name="lpa output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT AUDIO_OUTPUT_FLAG_HW_AV_SYNC">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
-                <mixPort name="hi-res output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_HW_AV_SYNC">
+                <mixPort name="hi-res output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT AUDIO_OUTPUT_FLAG_HW_AV_SYNC">
                     <profile name="" format="AUDIO_FORMAT_PCM_FLOAT"
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
@@ -46,14 +46,12 @@
                              samplingRates="16000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="passthrough output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
                 </mixPort>
 
                 <mixPort name="primary input" role="sink">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
+                             samplingRates="8000 11025 16000 22050 24000 32000 44100 48000"
+                             channelMasks="AUDIO_CHANNEL_IN_MONO AUDIO_CHANNEL_IN_STEREO"/>
                 </mixPort>
             </mixPorts>
             <devicePorts>
@@ -106,7 +104,7 @@
         </module>
 
         <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
+        <xi:include href="a2dp_audio_policy_configuration_7_0.xml"/>
 
         <!-- Usb Audio HAL -->
         <xi:include href="usb_audio_policy_configuration.xml"/>
diff --git a/imx8m/vp6820_8mp/audio_policy_configuration.xml b/imx8m/bigcypress_8mp/audio_policy_configuration_pcm512x.xml
similarity index 88%
rename from imx8m/vp6820_8mp/audio_policy_configuration.xml
rename to imx8m/bigcypress_8mp/audio_policy_configuration_pcm512x.xml
index 17b12ec5..3fc57682 100644
--- a/imx8m/vp6820_8mp/audio_policy_configuration.xml
+++ b/imx8m/bigcypress_8mp/audio_policy_configuration_pcm512x.xml
@@ -14,7 +14,7 @@
      limitations under the License.
 -->
 
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
+<audioPolicyConfiguration version="7.0" xmlns:xi="http://www.w3.org/2001/XInclude">
     <globalConfiguration speaker_drc_enabled="true"/>
 
     <modules>
@@ -29,13 +29,13 @@
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
-                <mixPort name="lpa output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_HW_AV_SYNC">
+                <mixPort name="lpa output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT AUDIO_OUTPUT_FLAG_HW_AV_SYNC">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
+                             samplingRates="44100 48000 96000 192000 384000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
-                <mixPort name="hi-res output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_HW_AV_SYNC">
+                <mixPort name="hi-res output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT AUDIO_OUTPUT_FLAG_HW_AV_SYNC">
                     <profile name="" format="AUDIO_FORMAT_PCM_FLOAT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
+                             samplingRates="44100 48000 96000 192000 384000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="hdmi output" role="source">
                     <profile name="" format="AUDIO_FORMAT_PCM_8_24_BIT"
@@ -46,14 +46,12 @@
                              samplingRates="16000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="passthrough output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
                 </mixPort>
 
                 <mixPort name="primary input" role="sink">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
+                             samplingRates="8000 11025 16000 22050 24000 32000 44100 48000"
+                             channelMasks="AUDIO_CHANNEL_IN_MONO AUDIO_CHANNEL_IN_STEREO"/>
                 </mixPort>
             </mixPorts>
             <devicePorts>
@@ -106,7 +104,7 @@
         </module>
 
         <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
+        <xi:include href="a2dp_audio_policy_configuration_7_0.xml"/>
 
         <!-- Usb Audio HAL -->
         <xi:include href="usb_audio_policy_configuration.xml"/>
diff --git a/imx8m/bigcypress_8mp/bigcypress_8mp_common.mk b/imx8m/bigcypress_8mp/bigcypress_8mp_common.mk
index 1c197c06..64da34f2 100644
--- a/imx8m/bigcypress_8mp/bigcypress_8mp_common.mk
+++ b/imx8m/bigcypress_8mp/bigcypress_8mp_common.mk
@@ -23,6 +23,8 @@ DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
 
 PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
 
+PRODUCT_VENDOR_PROPERTIES += ro.soc.manufacturer=nxp
+PRODUCT_VENDOR_PROPERTIES += ro.soc.model=IMX8MP
 # -------@block_treble-------
 PRODUCT_FULL_TREBLE_OVERRIDE := true
 
@@ -53,6 +55,11 @@ PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/thermal_info_config_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mp.json
 
 
+# Task Profiles
+PRODUCT_COPY_FILES += \
+    $(IMX_DEVICE_PATH)/task_profiles.json:$(TARGET_COPY_OUT_VENDOR)/etc/task_profiles.json
+
+
 # -------@block_app-------
 
 #Enable this to choose 32 bit user space build
@@ -73,6 +80,9 @@ PRODUCT_COPY_FILES += \
 # Enable this to support vendor boot and boot header v3, this would be a MUST for GKI
 TARGET_USE_VENDOR_BOOT ?= true
 
+ifeq ($(IMX8MP_USES_GKI),true)
+  BOARD_RAMDISK_USE_LZ4 := true
+endif
 
 # We load the fstab from device tree so this is not needed, but since no kernel modules are installed to vendor
 # boot ramdisk so far, we need this step to generate the vendor-ramdisk folder or build process would fail. This
@@ -95,7 +105,11 @@ PRODUCT_COPY_FILES += \
 TARGET_USE_DYNAMIC_PARTITIONS ?= true
 
 ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  ifeq ($(TARGET_USE_VENDOR_BOOT),true)
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota/compression.mk)
+  else
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  endif
   PRODUCT_USE_DYNAMIC_PARTITIONS := true
   BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
   BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
@@ -154,17 +168,16 @@ endif
 # Keymaster HAL
 ifeq ($(PRODUCT_IMX_TRUSTY),true)
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service.trusty
+    android.hardware.security.keymint-service.trusty
 endif
 
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service-imx
+    android.hardware.security.keymint-service-imx
 
 # Confirmation UI
 ifeq ($(PRODUCT_IMX_TRUSTY),true)
 PRODUCT_PACKAGES += \
-    android.hardware.confirmationui@1.0-service.trusty \
-    securedisplayd-imx
+    android.hardware.confirmationui@1.0-service.trusty
 endif
 
 # new gatekeeper HAL
@@ -209,10 +222,10 @@ PRODUCT_PACKAGES += \
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.rebootescrow.device=/dev/block/pmem0
 
-#DRM Widevine 1.3 L1 support
+#DRM Widevine 1.4 L1 support
 PRODUCT_PACKAGES += \
-    android.hardware.drm@1.3-service.widevine \
-    android.hardware.drm@1.3-service.clearkey \
+    android.hardware.drm@1.4-service.widevine \
+    android.hardware.drm@1.4-service.clearkey \
     libwvdrmcryptoplugin \
     libwvhidl \
     libwvdrmengine \
@@ -228,21 +241,26 @@ PRODUCT_COPY_FILES += \
     $(CONFIG_REPO_PATH)/common/audio-json/micfil_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/micfil_config.json \
     $(CONFIG_REPO_PATH)/common/audio-json/hdmi_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/hdmi_config.json \
     $(CONFIG_REPO_PATH)/common/audio-json/btsco_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/btsco_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/rt5640_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/rt5640_config.json \
     $(CONFIG_REPO_PATH)/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
 
-PRODUCT_PACKAGES += \
-    android.hardware.audio@6.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@6.0-impl:32
-
+ifeq ($(POWERSAVE),true)
+PRODUCT_COPY_FILES += \
+    $(CONFIG_REPO_PATH)/common/audio-json/pcm512x_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/pcm512x_config.json
+endif
 
 PRODUCT_COPY_FILES += \
     $(FSL_PROPRIETARY_PATH)/fsl-proprietary/mcu-sdk/imx8mp/imx8mp_mcu_demo.img:imx8mp_mcu_demo.img \
     $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
     $(IMX_DEVICE_PATH)/usb_audio_policy_configuration-direct-output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/usb_audio_policy_configuration-direct-output.xml
 
+ifeq ($(POWERSAVE),true)
+PRODUCT_COPY_FILES += \
+    $(IMX_DEVICE_PATH)/audio_policy_configuration_pcm512x.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml
+else
+PRODUCT_COPY_FILES += \
+    $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml
+endif
+
 # -------@block_camera-------
 
 PRODUCT_COPY_FILES += \
@@ -254,14 +272,9 @@ PRODUCT_COPY_FILES += \
 PRODUCT_SOONG_NAMESPACES += hardware/google/camera
 PRODUCT_SOONG_NAMESPACES += vendor/nxp-opensource/imx/camera
 
-# Copy isp files to board
-ifeq ($(PREBUILT_FSL_IMX_ISP),true)
-ISP_PROPRIETARY := $(FSL_PROPRIETARY_PATH)/fsl-proprietary/isp
-PRODUCT_COPY_FILES += \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/bin,$(TARGET_COPY_OUT_VENDOR)/bin) \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/lib64,$(TARGET_COPY_OUT_VENDOR)/lib64) \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/config,$(TARGET_COPY_OUT_VENDOR)/etc/configs/isp)
-endif
+PRODUCT_PACKAGES += \
+    media_profiles_8mp-ov5640.xml \
+    media_profiles_8mp-basler-ov5640.xml
 
 # ISP camera feature demo
 PRODUCT_PACKAGES += \
@@ -335,12 +348,6 @@ PRODUCT_PACKAGES += \
 PRODUCT_COPY_FILES += \
     $(IMX_PATH)/imx/opencl-2d/cl_g2d.cl:$(TARGET_COPY_OUT_VENDOR)/etc/cl_g2d.cl
 
-# -------@block_sensor-------
-PRODUCT_PACKAGES += \
-    android.hardware.sensors@1.0-impl \
-    android.hardware.sensors@1.0-convert \
-    android.hardware.sensors@1.0-service
-
 # -------@block_wifi-------
 
 PRODUCT_COPY_FILES += \
@@ -364,8 +371,8 @@ PRODUCT_COPY_FILES += \
 
 # Wifi regulatory
 PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
+    external/wireless-regdb/regulatory.db:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/lib/firmware/regulatory.db \
+    external/wireless-regdb/regulatory.db.p7s:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/lib/firmware/regulatory.db.p7s
 
 # -------@block_bluetooth-------
 
@@ -388,6 +395,9 @@ PRODUCT_PACKAGES += \
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.usb.rc
 
+PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
+    sys.usb.mtp.batchcancel=1
+
 # -------@block_multimedia_codec-------
 
 # Vendor seccomp policy files for media components:
@@ -446,10 +456,6 @@ ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
 ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
 INSTALL_64BIT_LIBRARY := true
 endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_aacp_dec/imx_dsp_aacp_dec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_codec/imx_dsp_codec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_wma_dec/imx_dsp_wma_dec.mk
 -include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp/imx_dsp_8mp.mk
 endif
 
@@ -513,7 +519,8 @@ PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
     frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
     frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.software.vulkan.deqp.level-2020-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level-2020-03-01.xml \
+    frameworks/native/data/etc/android.software.vulkan.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level.xml \
+    frameworks/native/data/etc/android.software.opengles.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.opengles.deqp.level.xml \
     frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
     frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
     frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
@@ -529,10 +536,82 @@ PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.software.activities_on_secondary_displays.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.activities_on_secondary_displays.xml \
     frameworks/native/data/etc/android.software.picture_in_picture.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.picture_in_picture.xml
 
+# trusty loadable apps
+PRODUCT_COPY_FILES += \
+    vendor/nxp/fsl-proprietary/uboot-firmware/imx8m/confirmationui.app:/vendor/firmware/tee/confirmationui.app
+
 # Included GMS package
 $(call inherit-product-if-exists, vendor/partner_gms/products/gms.mk)
 PRODUCT_SOONG_NAMESPACES += vendor/partner_gms
 
+
+# isp block
+# lib
+PRODUCT_PACKAGES += \
+    DAA3840_30MC_1080P \
+    liba2dnr \
+    liba3dnr \
+    libadpcc \
+    libadpf \
+    libaec \
+    libaee \
+    libaflt \
+    libaf \
+    libahdr \
+    libappshell_ebase \
+    libappshell_hal \
+    libappshell_ibd \
+    libappshell_oslayer \
+    libavs \
+    libawb \
+    libawdr3 \
+    libbase64 \
+    libbufferpool \
+    libbufsync_ctrl \
+    libcam_calibdb \
+    libcam_device \
+    libcam_engine \
+    libcameric_drv \
+    libcameric_reg_drv \
+    libcim_ctrl \
+    libcommon \
+    libdaA3840_30mc \
+    libdewarp_hal \
+    libebase \
+    libfpga \
+    libhal \
+    libi2c_drv \
+    libibd \
+    libisi \
+    libmedia_server \
+    libmim_ctrl \
+    libmipi_drv \
+    libmom_ctrl \
+    libos08a20 \
+    liboslayer \
+    libov2775 \
+    libsom_ctrl \
+    libversion \
+    libvom_ctrl \
+    libvvdisplay_shared
+
+# bin
+PRODUCT_PACKAGES += \
+    isp_media_server \
+    vvext
+
+# config
+PRODUCT_PACKAGES += \
+    DAA3840_30MC_1080P-linear.xml \
+    DAA3840_30MC_1080P-hdr.xml \
+    DAA3840_30MC_4K-linear.xml \
+    DAA3840_30MC_4K-hdr.xml \
+    Sensor0_Entry.cfg \
+    Sensor1_Entry.cfg \
+    Sensor0_Entry-4K.cfg \
+    daA3840_30mc_1080P.json \
+    daA3840_30mc_4K.json
+
 #AMS
 PRODUCT_PACKAGES += \
     deviceadmin \
diff --git a/imx8m/bigcypress_8mp/camera_config_imx8mp-basler-ov5640.json b/imx8m/bigcypress_8mp/camera_config_imx8mp-basler-ov5640.json
index ecfd9486..1abc85ec 100644
--- a/imx8m/bigcypress_8mp/camera_config_imx8mp-basler-ov5640.json
+++ b/imx8m/bigcypress_8mp/camera_config_imx8mp-basler-ov5640.json
@@ -4,8 +4,8 @@
   ],
 
   "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "GPU_3D",
+  "cam_blit_copy": "GPU_2D",
+  "cam_blit_csc": "GPU_2D",
 
   "camera_metadata": [
     {
@@ -22,7 +22,7 @@
       "PhysicalHeight": "4.536",
       "FocalLength": "4.0",
       "MaxJpegSize": "6291456",
-      "MinFrameDuration": "33331760",
+      "MinFrameDuration": "16666666",
       "MaxFrameDuration": "300000000",
       "ae_comp_min": "-4",
       "ae_comp_max": "4",
@@ -45,7 +45,7 @@
       "PhysicalHeight": "2.7216",
       "FocalLength": "3.37",
       "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
+      "MinFrameDuration": "33333333",
       "MaxFrameDuration": "300000000"
     }
   ]
diff --git a/imx8m/bigcypress_8mp/camera_config_imx8mp-only-ov5640.json b/imx8m/bigcypress_8mp/camera_config_imx8mp-only-ov5640.json
index 31b1e298..aab095ae 100644
--- a/imx8m/bigcypress_8mp/camera_config_imx8mp-only-ov5640.json
+++ b/imx8m/bigcypress_8mp/camera_config_imx8mp-only-ov5640.json
@@ -4,8 +4,8 @@
   ],
 
   "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "GPU_3D",
+  "cam_blit_copy": "GPU_2D",
+  "cam_blit_csc": "GPU_2D",
 
   "camera_metadata": [
     {
@@ -22,7 +22,7 @@
       "PhysicalHeight": "2.7216",
       "FocalLength": "3.37",
       "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
+      "MinFrameDuration": "33333333",
       "MaxFrameDuration": "300000000"
     }
   ]
diff --git a/imx8m/bigcypress_8mp/camera_config_imx8mp.json b/imx8m/bigcypress_8mp/camera_config_imx8mp.json
index 7acd8191..7b59a320 100644
--- a/imx8m/bigcypress_8mp/camera_config_imx8mp.json
+++ b/imx8m/bigcypress_8mp/camera_config_imx8mp.json
@@ -4,8 +4,8 @@
   ],
 
   "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "GPU_3D",
+  "cam_blit_copy": "GPU_2D",
+  "cam_blit_csc": "GPU_2D",
 
   "camera_metadata": [
     {
@@ -22,14 +22,28 @@
       "PhysicalHeight": "2.268",
       "FocalLength": "4.0",
       "MaxJpegSize": "4194304",
-      "MinFrameDuration": "33331760",
+      "MinFrameDuration": "16666666",
       "MaxFrameDuration": "300000000",
       "ae_comp_min": "-4",
       "ae_comp_max": "4",
       "ae_comp_step_nummerator": "1",
       "ae_comp_step_denominator": "2",
       "exposure_ns_min": "68000",
-      "exposure_ns_max": "33360000"
+      "exposure_ns_max": "33360000",
+      "MaxWidth": "1920",
+      "MaxHeight": "1080",
+      "OmitFrame": [
+          {
+              "width": "1280",
+              "height": "720",
+              "omit_num": "1"
+          },
+          {
+              "width": "320",
+              "height": "240",
+              "omit_num": "1"
+          }
+      ]
     },
     {
       "camera_type": "front",
@@ -45,14 +59,28 @@
       "PhysicalHeight": "2.268",
       "FocalLength": "4.0",
       "MaxJpegSize": "4194304",
-      "MinFrameDuration": "33331760",
+      "MinFrameDuration": "16666666",
       "MaxFrameDuration": "300000000",
       "ae_comp_min": "-4",
       "ae_comp_max": "4",
       "ae_comp_step_nummerator": "1",
       "ae_comp_step_denominator": "2",
       "exposure_ns_min": "68000",
-      "exposure_ns_max": "33360000"
+      "exposure_ns_max": "33360000",
+      "MaxWidth": "1920",
+      "MaxHeight": "1080",
+      "OmitFrame": [
+          {
+              "width": "1280",
+              "height": "720",
+              "omit_num": "1"
+          },
+          {
+              "width": "320",
+              "height": "240",
+              "omit_num": "1"
+          }
+      ]
     }
   ]
 }
diff --git a/imx8m/bigcypress_8mp/init.imx8mp.rc b/imx8m/bigcypress_8mp/init.imx8mp.rc
old mode 100755
new mode 100644
index 472b4af3..82c63ed3
--- a/imx8m/bigcypress_8mp/init.imx8mp.rc
+++ b/imx8m/bigcypress_8mp/init.imx8mp.rc
@@ -29,11 +29,15 @@ on property:sys.boot_completed=1
     # Set up and down limit to 200us/200us
     write /sys/devices/system/cpu/cpufreq/schedutil/up_rate_limit_us 200
     write /sys/devices/system/cpu/cpufreq/schedutil/down_rate_limit_us 200
-    write /proc/sys/kernel/sched_util_clamp_min 512
+    write /proc/sys/kernel/sched_util_clamp_min_rt_default 512
     write /sys/devices/platform/soc@0/30c00000.bus/30e20000.audio-blk-ctrl/power/control auto
     write /sys/devices/platform/soc@0/32c00000.bus/32ec0000.media-blk-ctrl/power/control auto
     write /sys/devices/platform/soc@0/30c00000.bus/32fc0000.hdmi-blk-ctrl/power/control auto
     write /sys/clk_ctrl/enable_clk_disable_unused 1
+    chown mediacodec mediacodec /sys/class/remoteproc/remoteproc0/state
+    chmod 0660 /sys/class/remoteproc/remoteproc0/state
+    chown mediacodec mediacodec /sys/class/remoteproc/remoteproc0/name
+    chmod 0660 /sys/class/remoteproc/remoteproc0/name
 
 on property:sys.boot_completed=1
     # update cpuset now that processors are up
@@ -58,6 +62,12 @@ on early-boot
     export ISP_LOG_LEVEL 4
     start isp_media_server
 
+on property:vendor.rw.camera.isp.control=0
+    stop isp_media_server
+
+on property:vendor.rw.camera.isp.control=1
+    start isp_media_server
+
 service isp_media_server /vendor/bin/isp_media_server
     group camera
     oneshot
diff --git a/imx8m/bigcypress_8mp/init.rc b/imx8m/bigcypress_8mp/init.rc
index 16fd7cad..942c3a9c 100644
--- a/imx8m/bigcypress_8mp/init.rc
+++ b/imx8m/bigcypress_8mp/init.rc
@@ -46,29 +46,43 @@ on init && property:vendor.skip.charger_not_need=0
     # deattch the fbcon as hdmi hotplug conflict with fbcon
     write /sys/class/vtconsole/vtcon1/bind 0
 
-    chown system system /dev/stune/top-app/schedtune.boost
-    chmod 664 /dev/stune/top-app/schedtune.boost
-    chown system system /dev/stune/top-app/schedtune.prefer_idle
-    chmod 664 /dev/stune/top-app/schedtune.prefer_idle
-    chown system system /dev/stune/foreground/schedtune.boost
-    chmod 664 /dev/stune/foreground/schedtune.boost
-    chown system system /dev/stune/foreground/schedtune.prefer_idle
-    chmod 664 /dev/stune/foreground/schedtune.prefer_idle
-    chown system system /dev/stune/schedtune.boost
-    chmod 664 /dev/stune/schedtune.boost
-
-    # set default schedTune value for foreground/top-app (only affects EAS)
-    write /dev/stune/foreground/schedtune.boost 10
-    write /dev/stune/foreground/schedtune.prefer_idle 1
-    write /dev/stune/top-app/schedtune.boost 40
-    write /dev/stune/top-app/schedtune.prefer_idle 1
-    write /dev/stune/rt/schedtune.boost 50
-    write /dev/stune/rt/schedtune.prefer_idle 1
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.min
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.min
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/rt/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.min
+    chown system system /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/background/cpu.uclamp.max
+    chmod 664 /dev/cpuctl/background/cpu.uclamp.max
+
+    # set default uclamp value for foreground/top-app/rt/background (only affects EAS)
+    write /dev/cpuctl/foreground/cpu.uclamp.min 20
+    write /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/top-app/cpu.uclamp.min 50
+    write /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/rt/cpu.uclamp.min 60
+    write /dev/cpuctl/rt/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/background/cpu.uclamp.max 50
+
+# setenv append_bootargs androidboot.powersave.uclamp=true
+on init && property:vendor.skip.charger_not_need=0 && property:ro.boot.powersave.uclamp=true
+    write /dev/cpuctl/foreground/cpu.uclamp.min 0
+    write /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive 0
+    write /dev/cpuctl/top-app/cpu.uclamp.min 0
+    write /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive 0
+    write /dev/cpuctl/rt/cpu.uclamp.min 0
+    write /dev/cpuctl/rt/cpu.uclamp.latency_sensitive 0
 
 on late-fs && property:vendor.skip.charger_not_need=0
     # Start keymaster/gatekeeper service
     start vendor.gatekeeper-1-0-${ro.boot.keystore}
-    start vendor.keymaster-4-0-${ro.boot.keystore}
+    start vendor.keymint-${ro.boot.keystore}
     setprop vendor.powerhal.init 1
 
     # Wait for keymaster
@@ -79,7 +93,6 @@ on late-fs && property:vendor.skip.charger_not_need=0
 on late-fs && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
     start vendor.oemlock-1-0
     start confirmationui-1-0
-    start securedisplayd-imx
 
 on early-boot && property:vendor.skip.charger_not_need=0
     # For bigcypress_8mp, when swap used about 400M, upgrade the level.
@@ -98,9 +111,6 @@ on early-boot && property:vendor.skip.charger_not_need=0
 
     setprop camera.disable_zsl_mode 1
 
-    #Enable GPU 2D do CSC on imx8mp platform
-    setprop vendor.camera.2d.enable true
-
    # Tweak the mmc device read ahead buffer size
     write /sys/block/mmcblk1/queue/read_ahead_kb 2048
     write /sys/block/mmcblk2/queue/read_ahead_kb 2048
@@ -160,12 +170,6 @@ service sensor_fusion /vendor/bin/fsl_sensor_fusion
     group system uhid
     oneshot
 
-service vendor.sensors-hal-1-0 /vendor/bin/hw/android.hardware.sensors@1.0-service
-    class hal
-    user system
-    group system wakelock input root
-    capabilities BLOCK_SUSPEND SYS_NICE
-
 # Set watchdog timer to 30 seconds and pet it every 10 seconds to get a 20 second margin
 service watchdogd /system/bin/watchdogd 10 20
     class core
@@ -178,6 +182,10 @@ service bugreport /system/bin/dumpstate -d -p -z
     oneshot
     keycodes 114 115 116
 
+service vsidaemon /vendor/bin/vsidaemon
+    class main
+    user root
+
 on boot && property:vendor.skip.charger_not_need=0
     start audioserver
     start mediadrm
@@ -210,8 +218,6 @@ on post-fs && property:vendor.skip.charger_not_need=0
 
 on post-fs-data && property:vendor.skip.charger_not_need=0
     setprop vold.post_fs_data_done 1
-    # create temp node for secure storage proxy
-    mkdir /data/vendor/ss 0700 system system
 
     # tmp dir for opencl Compiler
     setprop vendor.TMPDIR /data/vendor/.opencl-cache
@@ -220,6 +226,7 @@ on post-fs-data && property:vendor.skip.charger_not_need=0
 on zygote-start && property:vendor.skip.charger_not_need=0
     # Create the directories used by the Wireless subsystem
     mkdir /data/vendor/wifi 0771 wifi wifi
+    mkdir /data/vendor/wifi/wifi_dumps 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
 
@@ -230,7 +237,9 @@ service early_init_sh /vendor/bin/init.insmod.sh /vendor/etc/early.init.cfg vend
     disabled
     oneshot
 
-on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+on post-fs-data && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+    # create temp node for secure storage proxy
+    mkdir /data/vendor/ss 0700 system system
     start storageproxyd
 
 service storageproxyd /vendor/bin/storageproxyd -p /data/vendor/ss -r /dev/mmcblk2rpmb -d /dev/trusty-ipc-dev0
@@ -257,3 +266,16 @@ on property:ro.boot.lpa.enable=1
     setprop vendor.audio.lpa.hold_second 20
     setprop vendor.audio.lpa.period_ms 500
     setprop vendor.audio.lpa.enable 1
+
+# setenv append_bootargs androidboot.powersave.lpa=true
+on property:ro.boot.lpa.enable=1 && property:ro.boot.powersave.lpa=true
+    write /sys/lpa_ctrl/lpa 1
+
+service confirmationui_ta_load /vendor/bin/trusty_apploader /vendor/firmware/tee/confirmationui.app
+    user root
+    group root system
+    disabled
+    oneshot
+
+on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+    start confirmationui_ta_load
diff --git a/imx8m/bigcypress_8mp/init.usb.rc b/imx8m/bigcypress_8mp/init.usb.rc
index 9df424a3..11edf899 100644
--- a/imx8m/bigcypress_8mp/init.usb.rc
+++ b/imx8m/bigcypress_8mp/init.usb.rc
@@ -48,5 +48,7 @@ on early-boot
     write /sys/module/libcomposite/parameters/disable_l1_for_hs "y"
     symlink /config/usb_gadget/g1/configs/b.1 /config/usb_gadget/g1/os_desc/b.1
 
+    setprop vendor.usb.sysfs_path /sys/devices/platform/soc@0/32f10100.usb/38100000.dwc3/
+
 on boot
     setprop sys.usb.configfs 2
diff --git a/imx8m/bigcypress_8mp/manifest.xml b/imx8m/bigcypress_8mp/manifest.xml
index 1210dbbb..636b4c40 100644
--- a/imx8m/bigcypress_8mp/manifest.xml
+++ b/imx8m/bigcypress_8mp/manifest.xml
@@ -1,5 +1,5 @@
 <manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
+    <kernel  target-level="6" />
     <hal format="hidl">
 	<name>android.hardware.graphics.allocator</name>
         <transport>hwbinder</transport>
@@ -19,28 +19,6 @@
             <instance>default</instance>
         </interface>
     </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>4.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.3</version>
-        <interface>
-            <name>ICryptoFactory</name>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-        </interface>
-        <fqname>@1.3::ICryptoFactory/clearkey</fqname>
-        <fqname>@1.3::IDrmFactory/clearkey</fqname>
-    </hal>
     <hal format="hidl">
         <name>android.hardware.gatekeeper</name>
         <transport>hwbinder</transport>
@@ -69,15 +47,6 @@
             <instance>default</instance>
         </interface>
     </hal>
-    <hal format="hidl">
-        <name>android.hardware.sensors</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>ISensors</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
     <hal format="hidl">
         <name>android.hardware.media.c2</name>
         <transport>hwbinder</transport>
@@ -103,7 +72,7 @@
     <hal format="hidl">
         <name>android.hardware.audio</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+        <version>7.0</version>
         <interface>
             <name>IDevicesFactory</name>
             <instance>default</instance>
@@ -112,7 +81,7 @@
     <hal format="hidl">
         <name>android.hardware.audio.effect</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+		<version>7.0</version>
         <interface>
             <name>IEffectsFactory</name>
             <instance>default</instance>
@@ -150,4 +119,20 @@
        <transport>hwbinder</transport>
        <fqname>@2.4::ICameraProvider/external/0</fqname>
     </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IKeyMintDevice/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IRemotelyProvisionedComponent/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.secureclock</name>
+       <fqname>ISecureClock/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.sharedsecret</name>
+       <fqname>ISharedSecret/default</fqname>
+    </hal>
 </manifest>
diff --git a/imx8m/bigcypress_8mp/manifest_powersave.xml b/imx8m/bigcypress_8mp/manifest_powersave.xml
index ebd80361..311424c5 100644
--- a/imx8m/bigcypress_8mp/manifest_powersave.xml
+++ b/imx8m/bigcypress_8mp/manifest_powersave.xml
@@ -1,5 +1,5 @@
 <manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
+    <kernel  target-level="6" />
     <hal format="hidl">
 	<name>android.hardware.graphics.allocator</name>
         <transport>hwbinder</transport>
@@ -19,15 +19,6 @@
             <instance>default</instance>
         </interface>
     </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>4.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
     <hal format="hidl">
         <name>android.hardware.drm</name>
         <transport>hwbinder</transport>
@@ -103,7 +94,7 @@
     <hal format="hidl">
         <name>android.hardware.audio</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+        <version>7.0</version>
         <interface>
             <name>IDevicesFactory</name>
             <instance>default</instance>
@@ -112,7 +103,7 @@
     <hal format="hidl">
         <name>android.hardware.audio.effect</name>
         <transport>hwbinder</transport>
-		<version>6.0</version>
+		<version>7.0</version>
         <interface>
             <name>IEffectsFactory</name>
             <instance>default</instance>
@@ -145,4 +136,20 @@
             <instance>default</instance>
         </interface>
     </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IKeyMintDevice/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IRemotelyProvisionedComponent/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.secureclock</name>
+       <fqname>ISecureClock/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.sharedsecret</name>
+       <fqname>ISharedSecret/default</fqname>
+    </hal>
 </manifest>
diff --git a/imx8m/bigcypress_8mp/overlay/frameworks/base/core/res/res/values/config.xml b/imx8m/bigcypress_8mp/overlay/frameworks/base/core/res/res/values/config.xml
index 4722b491..4f0f1a54 100644
--- a/imx8m/bigcypress_8mp/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/imx8m/bigcypress_8mp/overlay/frameworks/base/core/res/res/values/config.xml
@@ -185,6 +185,12 @@
     <!-- This device is not "voice capable"; it's data-only. -->
     <bool name="config_voice_capable">false</bool>
 
+    <!-- Flag indicating whether the current device allows data.
+        If true, this means that the device supports data connectivity through
+        the telephony network.
+        This can be overridden to false for devices that support voice and/or sms . -->
+    <bool name="config_mobile_data_capable">false</bool>
+
     <!-- Boolean indicating whether system support sustained performance mode. -->
     <bool name="config_sustainedPerformanceModeSupported">true</bool>
 
diff --git a/imx8m/bigcypress_8mp/required_hardware_powersave.xml b/imx8m/bigcypress_8mp/required_hardware_powersave.xml
index ff7f19a2..f4135c90 100644
--- a/imx8m/bigcypress_8mp/required_hardware_powersave.xml
+++ b/imx8m/bigcypress_8mp/required_hardware_powersave.xml
@@ -30,4 +30,5 @@
     <feature name="android.software.companion_device_setup" />
     <feature name="android.software.autofill" />
     <feature name="android.software.secure_lock_screen" />
+    <feature name="android.hardware.keystore.app_attest_key" />
 </permissions>
diff --git a/imx8m/bigcypress_8mp/sepolicy/file_contexts b/imx8m/bigcypress_8mp/sepolicy/file_contexts
index 8ef5733e..ee3f218c 100644
--- a/imx8m/bigcypress_8mp/sepolicy/file_contexts
+++ b/imx8m/bigcypress_8mp/sepolicy/file_contexts
@@ -32,4 +32,4 @@
 /sys/devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-rtc-lp/wakeup/wakeup[0-9]*(/.*)?                                            u:object_r:sysfs_wakeup:s0
 /sys/devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-rtc-lp/rtc/rtc0/alarmtimer.1.auto/wakeup/wakeup[0-9]*(/.*)?                 u:object_r:sysfs_wakeup:s0
 /sys/devices/platform/soc@0/30800000.bus/30be0000.ethernet/net/eth0/wakeup[0-9]*(/.*)?                                                                u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/33800000.pcie/pci0000:00/0000:00:00.0/0000:01:00.0/wakeup/wakeup[0-9]*(/.*)?                                          u:object_r:sysfs_wakeup:s0
+/sys/devices/platform/soc@0/33800000.pcie/pci0000:00/0000:00:00.0/0000:01:00.0/wakeup/wakeup[0-9]*(/.*)?                                              u:object_r:sysfs_wakeup:s0
diff --git a/imx8m/bigcypress_8mp/sepolicy/genfs_contexts b/imx8m/bigcypress_8mp/sepolicy/genfs_contexts
index 73f7edec..261208a0 100644
--- a/imx8m/bigcypress_8mp/sepolicy/genfs_contexts
+++ b/imx8m/bigcypress_8mp/sepolicy/genfs_contexts
@@ -15,3 +15,6 @@ genfscon sysfs /devices/platform/soc@0/30800000.bus/30a30000.i2c/i2c-1/1-0050/ex
 
 # for dumpstate to access the stat file
 genfscon sysfs /devices/platform/94400000.pmem/ndbus0/region0/namespace0.0/block/pmem0                                       u:object_r:sysfs_block_devices:s0
+
+# for usb gadget HAL to add watch on the sysfs path of usb controller
+genfscon sysfs /devices/platform/soc@0/32f10100.usb                                                                          u:object_r:sysfs_usb_device:s0
diff --git a/imx8m/bigcypress_8mp/sepolicy/hal_camera_default.te b/imx8m/bigcypress_8mp/sepolicy/hal_camera_default.te
new file mode 100644
index 00000000..20bf2d52
--- /dev/null
+++ b/imx8m/bigcypress_8mp/sepolicy/hal_camera_default.te
@@ -0,0 +1,2 @@
+set_prop(hal_camera_default, vendor_camera_hal_prop)
+get_prop(hal_camera_default, vendor_camera_hal_prop)
diff --git a/imx8m/bigcypress_8mp/sepolicy/property.te b/imx8m/bigcypress_8mp/sepolicy/property.te
new file mode 100644
index 00000000..5f370220
--- /dev/null
+++ b/imx8m/bigcypress_8mp/sepolicy/property.te
@@ -0,0 +1 @@
+vendor_internal_prop(vendor_camera_hal_prop)
diff --git a/imx8m/bigcypress_8mp/sepolicy/property_contexts b/imx8m/bigcypress_8mp/sepolicy/property_contexts
new file mode 100644
index 00000000..a64e057b
--- /dev/null
+++ b/imx8m/bigcypress_8mp/sepolicy/property_contexts
@@ -0,0 +1 @@
+vendor.rw.camera.isp.control        u:object_r:vendor_camera_hal_prop:s0
diff --git a/imx8m/bigcypress_8mp/task_profiles.json b/imx8m/bigcypress_8mp/task_profiles.json
new file mode 100644
index 00000000..449a5054
--- /dev/null
+++ b/imx8m/bigcypress_8mp/task_profiles.json
@@ -0,0 +1,644 @@
+{
+  "Attributes": [
+    {
+      "Name": "LowCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "background/cpus"
+    },
+    {
+      "Name": "HighCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "foreground/cpus"
+    },
+    {
+      "Name": "MaxCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "top-app/cpus"
+    },
+    {
+      "Name": "MemLimit",
+      "Controller": "memory",
+      "File": "memory.limit_in_bytes"
+    },
+    {
+      "Name": "MemSoftLimit",
+      "Controller": "memory",
+      "File": "memory.soft_limit_in_bytes"
+    },
+    {
+      "Name": "MemSwappiness",
+      "Controller": "memory",
+      "File": "memory.swappiness"
+    },
+    {
+      "Name": "UClampMin",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.min"
+    },
+    {
+      "Name": "UClampMax",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.max"
+    },
+    {
+      "Name": "UClampLatencySensitive",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.latency_sensitive"
+    },
+    {
+      "Name": "FreezerState",
+      "Controller": "freezer",
+      "File": "cgroup.freeze"
+    }
+  ],
+
+  "Profiles": [
+    {
+      "Name": "HighEnergySaving",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Frozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Unfrozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "RealtimePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "rt"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CameraServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NNApiHALPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "nnapi-hal"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CpuPolicySpread",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CpuPolicyPack",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "VrKernelCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/performance"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/performance"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityMax",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServiceCapacityRestricted",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "restricted"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CameraServiceCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "TimerSlackHigh",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "40000000"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "TimerSlackNormal",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "50000"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "SFMainPolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SFRenderEnginePolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "PerfBoost",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "50%",
+            "Clamp": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "PerfClamp",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "0",
+            "Clamp": "30%"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "16MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "150"
+
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "512MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "100"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SystemMemoryProcess",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "memory",
+            "Path": "system"
+          }
+        }
+      ]
+    }
+  ],
+
+  "AggregateProfiles": [
+    {
+      "Name": "SCHED_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "SCHED_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_SYSTEM",
+      "Profiles": [ "ServicePerformance", "LowIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_RT_APP",
+      "Profiles": [ "RealtimePerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "ProcessCapacityLow", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "CPUSET_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "ProcessCapacityHigh", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "ProcessCapacityMax", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_SYSTEM",
+      "Profiles": [ "ServiceCapacityLow", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_RESTRICTED",
+      "Profiles": [ "ServiceCapacityRestricted", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "Dex2OatBootComplete",
+      "Profiles": [ "SCHED_SP_BACKGROUND" ]
+    }
+  ]
+}
diff --git a/imx8m/bigcypress_8mp/thermal_info_config_imx8mp.json b/imx8m/bigcypress_8mp/thermal_info_config_imx8mp.json
index 36416a7e..68aa4ee0 100755
--- a/imx8m/bigcypress_8mp/thermal_info_config_imx8mp.json
+++ b/imx8m/bigcypress_8mp/thermal_info_config_imx8mp.json
@@ -12,9 +12,9 @@
                 80.0,
                 82.0,
                 86.0,
-                90.0,
+                88.0,
                 "NAN",
-                "NAN"
+                90.0
             ],
             "HotHysteresis":[
                 2.0,
@@ -37,9 +37,9 @@
                 "NAN",
                 "NAN",
                 85.0,
-                95.0,
+                88.0,
                 "NAN",
-                "NAN"
+                90.0
             ],
             "HotHysteresis":[
                 2.0,
@@ -64,7 +64,7 @@
                 "NAN",
                 "NAN",
                 "NAN",
-                "NAN"
+                100.0
             ],
             "VrThreshold":"NAN",
             "Multiplier":0.001,
diff --git a/imx8m/bigcypress_8mp/ueventd.nxp.rc b/imx8m/bigcypress_8mp/ueventd.nxp.rc
index e733de1d..29dce86e 100644
--- a/imx8m/bigcypress_8mp/ueventd.nxp.rc
+++ b/imx8m/bigcypress_8mp/ueventd.nxp.rc
@@ -2,6 +2,9 @@
 /dev/ttymxc0              0660   bluetooth  bluetooth
 /dev/snd/*                0660   system     audio
 /dev/video*               0660   system     camera
+/dev/dma_heap/dsp         0660   mediacodec      mediacodec
+/dev/rpmsg0               0660   mediacodec      mediacodec
+/dev/rpmsg1               0660   mediacodec      mediacodec
 /dev/mxc_hifi4            0660   media      drmrpc
 /dev/mxc_hantro           0666   media      drmrpc
 /dev/mxc_hantro_vc8000e   0666   media      drmrpc
@@ -13,6 +16,9 @@
 /dev/mmcblk2rpmb    0600   system     system
 /dev/trusty-ipc-dev0      0660   system     drmrpc
 /dev/block/pmem0          0660   system     system
+/dev/dma_heap/reserved    0666   system     system
+/dev/dma_heap/reserved-uncached    0666   system     system
+/dev/dma_heap/secure      0666   system     system
 
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_temp 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_temp 0660 system system
@@ -20,4 +26,6 @@
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_hyst 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_hyst 0660 system system
 
+/dev/dmabuf_imx           0664   system     system
+
 /dev/usb/lp0              0666   root         root
diff --git a/imx8m/bigcypress_8mq/BoardConfig.mk b/imx8m/bigcypress_8mq/BoardConfig.mk
index cd083279..81f4a0b3 100644
--- a/imx8m/bigcypress_8mq/BoardConfig.mk
+++ b/imx8m/bigcypress_8mq/BoardConfig.mk
@@ -21,14 +21,22 @@ HAVE_FSL_IMX_GPU3D := true
 HAVE_FSL_IMX_PXP := false
 TARGET_USES_HWC2 := true
 TARGET_HAVE_VULKAN := true
+ENABLE_SEC_DMABUF_HEAP := true
+CFG_SECURE_IOCTRL_REGS := true
 
 SOONG_CONFIG_IMXPLUGIN += \
-                          BOARD_VPU_TYPE
+                          BOARD_VPU_TYPE \
+			  ENABLE_SEC_DMABUF_HEAP \
+			  CFG_SECURE_IOCTRL_REGS
 
 SOONG_CONFIG_IMXPLUGIN_BOARD_SOC_TYPE = IMX8MQ
 SOONG_CONFIG_IMXPLUGIN_BOARD_HAVE_VPU = true
 SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_TYPE = hantro
 SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_ONLY = false
+SOONG_CONFIG_IMXPLUGIN_PREBUILT_FSL_IMX_CODEC = true
+SOONG_CONFIG_IMXPLUGIN_POWERSAVE = false
+SOONG_CONFIG_IMXPLUGIN_ENABLE_SEC_DMABUF_HEAP = true
+SOONG_CONFIG_IMXPLUGIN_CFG_SECURE_IOCTRL_REGS = true
 
 # -------@block_memory-------
 USE_ION_ALLOCATOR := true
@@ -117,36 +125,49 @@ CMASIZE=800M
 endif
 
 # NXP default config
-BOARD_KERNEL_CMDLINE := init=/init androidboot.console=ttymxc0 androidboot.hardware=nxp firmware_class.path=/vendor/firmware loop.max_part=7
+BOARD_KERNEL_CMDLINE := init=/init firmware_class.path=/vendor/firmware loop.max_part=7 bootconfig
+BOARD_BOOTCONFIG += androidboot.console=ttymxc0 androidboot.hardware=nxp
 
 # framebuffer config
-BOARD_KERNEL_CMDLINE += androidboot.fbTileSupport=enable
+BOARD_BOOTCONFIG += androidboot.fbTileSupport=enable
 
 # memory config
 BOARD_KERNEL_CMDLINE += transparent_hugepage=never cma=$(CMASIZE)
 
 # display config
-BOARD_KERNEL_CMDLINE += androidboot.lcd_density=246 androidboot.primary_display=imx-dcss androidboot.gui_resolution=1080p
+BOARD_BOOTCONFIG += androidboot.lcd_density=246 androidboot.primary_display=imx-dcss androidboot.gui_resolution=1080p
 
 # wifi config
-BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN moal.mod_para=wifi_mod_para.conf
+BOARD_BOOTCONFIG += androidboot.wificountrycode=CN
+BOARD_KERNEL_CMDLINE += moal.mod_para=wifi_mod_para.conf pci=nomsi
 
 ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-BOARD_KERNEL_CMDLINE += androidboot.vendor.sysrq=1
+BOARD_BOOTCONFIG += androidboot.vendor.sysrq=1
 endif
 
 ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
   ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
     TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-no-product.dtb
   else
-    # imx8mq with HDMI display
-    TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2.dtb
-    # imx8mq with MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb
-    # imx8mq with HDMI and MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display.dtb
-    # imx8mq with MIPI panel display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191.dtb
+    ifeq ($(IMX8MQ_USES_GKI),true)
+      # imx8mq gki with HDMI display
+      TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2-gki.dtb
+      # imx8mq with MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535-gki.dtb
+      # imx8mq with HDMI and MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display-gki.dtb
+      # imx8mq with MIPI panel display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191-gki.dtb
+    else
+      # imx8mq with HDMI display
+      TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2.dtb
+      # imx8mq with MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb
+      # imx8mq with HDMI and MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display.dtb
+      # imx8mq with MIPI panel display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191.dtb
+    endif
   endif
 else # no dynamic parition feature
   ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
@@ -168,4 +189,8 @@ BOARD_SEPOLICY_DIRS += \
        $(IMX_DEVICE_PATH)/sepolicy_drm
 endif
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+    BOARD_KERNEL_CMDLINE += cpuidle.off=1
+endif
+
 BOARD_PLAT_PRIVATE_SEPOLICY_DIR := $(CONFIG_REPO_PATH)/imx8m/sepolicy_system/private
diff --git a/imx8m/bigcypress_8mq/SharedBoardConfig.mk b/imx8m/bigcypress_8mq/SharedBoardConfig.mk
index 1312266c..68cf5742 100644
--- a/imx8m/bigcypress_8mq/SharedBoardConfig.mk
+++ b/imx8m/bigcypress_8mq/SharedBoardConfig.mk
@@ -1,18 +1,191 @@
 # -------@block_kernel_bootimg-------
 
-KERNEL_NAME := Image
+KERNEL_NAME := Image.lz4
 TARGET_KERNEL_ARCH := arm64
+IMX8MQ_USES_GKI := true
 
 # BCM fmac wifi driver module
 BOARD_VENDOR_KERNEL_MODULES += \
     $(KERNEL_OUT)/drivers/net/wireless/broadcom/brcm80211/brcmfmac/brcmfmac.ko \
     $(KERNEL_OUT)/drivers/net/wireless/broadcom/brcm80211/brcmutil/brcmutil.ko
 
-# mipi-panel touch driver module
+# CONFIG_SND_SOC_WM8524: snd-soc-wm8524.ko, wm8524 audio codec
+# CONFIG_IMX_LCDIF_CORE: imx-lcdif-core.ko
+# CONFIG_PHY_FSL_IMX8MQ_USB: phy-fsl-imx8mq-usb.ko
+# CONFIG_USB_DWC3_IMX8MP: dwc3-imx8mp.ko
+# CONFIG_TYPEC_SWITCH_GPIO: gpio-switch.ko
+# CONFIG_VIDEO_MXC_CAPTURE: only enable compile dir drivers/media/platform/mxc/capture/, no need mxc_v4l2_capture.c which used in imx6/7
+# linux bsp team will add new configure for mxc_v4l2_capture.c in lf-5.4 branch.
+# CONFIG_MXC_MIPI_CSI: mxc_mipi_csi.ko, mipi driver which get the sensor data and send data to csi
+# CONFIG_MXC_CAMERA_OV5640_MIPI_V2: ov5640_camera_mipi_v2.ko, sensor ov5640 driver, the input of mipi
+# CONFIG_IMX_SDMA: imx-sdma.ko, sdma used for audio
+# CONFIG_SND_SOC_IMX_PCM_DMA: imx-pcm-dma.ko imx-pcm-dma-v2.ko
+# CONFIG_SND_SOC_FSL_SAI: snd-soc-fsl-sai.ko, imx core audio
+# CONFIG_SND_SOC_IMX_SPDIF: snd-soc-imx-spdif.ko snd-soc-fsl-spdif.ko, sound spdif code
+# CONFIG_SND_SOC_IMX_AK4458: snd-soc-imx-ak4458.o
+# CONFIG_SND_SOC_IMX_AK5558: snd-soc-imx-ak5558.o snd-soc-fsl-utils.ko snd-soc-ak5558.ko
+# CONFIG_SND_SOC_BT_SCO: snd-soc-bt-sco.ko, audio hdmi code
+# CONFIG_SND_SOC_IMX_CDNHDMI: snd-soc-hdmi-codec.ko snd-soc-imx-cdnhdmi.ko snd-soc-fsl-aud2htx.ko, used for hdmi audio
+# CONFIG_SND_SIMPLE_CARD: snd-soc-simple-card.ko snd-soc-simple-card-utils.ko, connect cpu and codec
+# CONFIG_MXC_HANTRO: hantrodec.ko vpu decoder
+# CONFIG_MXC_HANTRO_V4L2: vsiv4l2.ko vpu decodder
+# CONFIG_RTC_DRV_SNVS: rtc-snvs.ko, snvs driver
+# CONFIG_AT803X_PHY: ethernet phy driver at803x.ko
+# CONFIG_FEC: fec.ko which depend on pps_core.ko and ptp.ko
+
+ifeq ($(IMX8MQ_USES_GKI),true)
+BOARD_VENDOR_KERNEL_MODULES += \
+    $(KERNEL_OUT)/drivers/mxc/gpu-viv/galcore.ko \
+    $(KERNEL_OUT)/drivers/media/platform/imx8/mxc-mipi-csi2_yav.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/mx6s_capture.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/mxc_mipi_csi.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/ov5640_camera_mipi_v2.ko \
+    $(KERNEL_OUT)/drivers/dma/imx-sdma.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma-v2.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-aud2htx.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-utils.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-sai.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-hdmi-codec.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-cdnhdmi.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-spdif.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-spdif.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-wm8524.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-ak5558.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-ak4458.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-ak4458.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-ak5558.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-bt-sco.ko \
+    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card.ko \
+    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card-utils.ko \
+    $(KERNEL_OUT)/drivers/mxc/hantro/hantrodec.ko \
+    $(KERNEL_OUT)/drivers/mxc/hantro_v4l2/vsiv4l2.ko \
+    $(KERNEL_OUT)/drivers/rtc/rtc-snvs.ko \
+    $(KERNEL_OUT)/drivers/pci/controller/dwc/pci-imx6.ko \
+    $(KERNEL_OUT)/drivers/pps/pps_core.ko \
+    $(KERNEL_OUT)/drivers/ptp/ptp.ko \
+    $(KERNEL_OUT)/drivers/net/phy/at803x.ko \
+    $(KERNEL_OUT)/drivers/net/ethernet/freescale/fec.ko
+else
 BOARD_VENDOR_KERNEL_MODULES += \
     $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko
+endif
+
+# CONFIG_ZRAM: zram.ko, lzo.ko, lzo-rle.ko compressed ram using LZ coding.
+# CONFIG_ZSMALLOC: zsmalloc.ko
+# CONFIG_CLK_IMX8MP: clk-imx8mq.ko
+# CONFIG_TIMER_IMX_SYS_CTR: timer-imx-sysctr.ko
+# CONFIG_IMX8M_BUSFREQ: busfreq-imx8mq.ko
+# CONFIG_IMX_IRQSTEER: irq-imx-irqsteer.ko
+# CONFIG_PINCTRL_IMX: pinctrl-imx.ko
+# CONFIG_PINCTRL_IMX8MQ: pinctrl-imx8mq.ko
+# CONFIG_SERIAL_IMX: imx.ko
+# CONFIG_IMX2_WDT: imx2_wdt.ko
+# CONFIG_GPIO_MXC: gpio-generic.ko gpio-mxc.ko
+# CONFIG_CPUFREQ_DT: cpufreq-dt.ko
+# CONFIG_ARM_IMX_CPUFREQ_DT: imx-cpufreq-dt.ko
+# CONFIG_NVMEM_IMX_OCOTP: nvmem-imx-ocotp.ko
+# CONFIG_PWM_IMX27: pwm-imx27.ko
+# CONFIG_MMC_SDHCI_ESDHC_IMX: sdhci-esdhc-imx.ko, cqhci.ko
+# CONFIG_I2C_IMX: i2c-imx.ko
+# CONFIG_IMX_MBOX: imx-mailbox.ko, imx mailbox driver
+# CONFIG_SND_IMX_SOC: SoC Audio for Freescale i.MX CPUs
+# CONFIG_DMABUF_HEAPS_SYSTEM: system_heap.ko
+# CONFIG_DMABUF_HEAPS_CMA: cma_heap.ko
+# CONFIG_DMABUF_IMX: dma-buf-imx.ko
+# CONFIG_RESET_IMX7: reset-imx7.ko
+# CONFIG_PHY_FSL_IMX8MQ_USB: phy-fsl-imx8mq-usb.ko
+# CONFIG_KEYBOARD_SNVS_PWRKEY: snvs_pwrkey.ko, snvs power key driver
+# mipi-panel touch driver module
+# CONFIG_IMX_LCDIF_CORE: imx-lcdif-core.ko
+# CONFIG_DRM_I2C_ADV7511: adv7511.ko
+# CONFIG_DRM_IMX_CDNS_MHDP: cdns_mhdp_drmcore.ko cdns_mhdp_imx.ko
+# CONFIG_DRM_IMX: imxdrm.ko, imx-lcdif-crtc.ko
+# CONFIG_USB_DWC3: dwc3-imx8mp.ko
+# CONFIG_TYPEC_SWITCH_GPIO: gpio-switch.ko
+# CONFIG_VIDEO_IMX_CAPTURE: imx8-media-dev.ko, imx8-isi-cap.ko, imx8-isi-hw.ko, imx8-isi-m2m.ko, imx8-mipi-csi2-sam.ko, imx isi and mipi driver
+# CONFIG_CFG80211: cfg80211.ko, cfg80211 - wireless configuration API
+# CONFIG_MAC80211: mac80211.ko, Generic IEEE 802.11 Networking Stack
+
+ifeq ($(IMX8MQ_USES_GKI),true)
+BOARD_VENDOR_RAMDISK_KERNEL_MODULES += \
+    $(KERNEL_OUT)/mm/zsmalloc.ko \
+    $(KERNEL_OUT)/crypto/lzo.ko \
+    $(KERNEL_OUT)/crypto/lzo-rle.ko \
+    $(KERNEL_OUT)/drivers/block/zram/zram.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/soc-imx8m.ko \
+    $(KERNEL_OUT)/drivers/clk/imx/mxc-clk.ko \
+    $(KERNEL_OUT)/drivers/clk/imx/clk-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/gpcv2.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/gpcv2-imx.ko \
+    $(KERNEL_OUT)/drivers/clocksource/timer-imx-sysctr.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/busfreq-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/irqchip/irq-imx-irqsteer.ko \
+    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx.ko \
+    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/tty/serial/imx.ko \
+    $(KERNEL_OUT)/drivers/watchdog/imx2_wdt.ko \
+    $(KERNEL_OUT)/drivers/regulator/pca9450-regulator.ko \
+    $(KERNEL_OUT)/drivers/regulator/gpio-regulator.ko \
+    $(KERNEL_OUT)/drivers/regulator/pfuze100-regulator.ko \
+    $(KERNEL_OUT)/drivers/gpio/gpio-mxc.ko \
+    $(KERNEL_OUT)/drivers/thermal/device_cooling.ko \
+    $(KERNEL_OUT)/drivers/thermal/qoriq_thermal.ko \
+    $(KERNEL_OUT)/drivers/perf/fsl_imx8_ddr_perf.ko \
+    $(KERNEL_OUT)/drivers/cpufreq/cpufreq-dt.ko \
+    $(KERNEL_OUT)/drivers/cpufreq/imx-cpufreq-dt.ko \
+    $(KERNEL_OUT)/drivers/nvmem/nvmem-imx-ocotp.ko \
+    $(KERNEL_OUT)/drivers/pwm/pwm-imx27.ko \
+    $(KERNEL_OUT)/drivers/mmc/host/sdhci-esdhc-imx.ko \
+    $(KERNEL_OUT)/drivers/mmc/host/cqhci.ko \
+    $(KERNEL_OUT)/drivers/i2c/busses/i2c-imx.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-fsl-qspi.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-bitbang.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-imx.ko \
+    $(KERNEL_OUT)/lib/stmp_device.ko \
+    $(KERNEL_OUT)/drivers/dma/mxs-dma.ko \
+    $(KERNEL_OUT)/drivers/mailbox/imx-mailbox.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/system_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/cma_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/secure_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/dma-buf-imx.ko \
+    $(KERNEL_OUT)/drivers/reset/gpio-reset.ko \
+    $(KERNEL_OUT)/drivers/reset/reset-imx7.ko \
+    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8-mipi-dphy.ko \
+    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8mq-usb.ko \
+    $(KERNEL_OUT)/drivers/input/keyboard/snvs_pwrkey.ko \
+    $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/panel/panel-raydium-rm67191.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/dcss/imx-dcss.ko \
+    $(KERNEL_OUT)/drivers/gpu/imx/lcdif/imx-lcdif-core.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/adv7511/adv7511.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/cadence/cdns_mhdp_drmcore.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/mhdp/cdns_mhdp_imx.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/imxdrm.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/lcdif/imx-lcdif-crtc.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/mxsfb/mxsfb.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/nwl-dsi.ko \
+    $(KERNEL_OUT)/drivers/mux/mux-mmio.ko \
+    $(KERNEL_OUT)/drivers/mux/mux-core.ko \
+    $(KERNEL_OUT)/drivers/usb/dwc3/dwc3-imx8mp.ko \
+    $(KERNEL_OUT)/drivers/usb/typec/mux/gpio-switch.ko \
+    $(KERNEL_OUT)/drivers/power/supply/dummy_battery.ko \
+    $(KERNEL_OUT)/drivers/media/rc/gpio-ir-recv.ko \
+    $(KERNEL_OUT)/drivers/media/v4l2-core/v4l2-fwnode.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-cap.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-hw.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-m2m.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-mipi-csi2-sam.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-ipc.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-core.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-irq.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-log.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-virtio.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-media-dev.ko \
+    $(KERNEL_OUT)/net/wireless/cfg80211.ko \
+    $(KERNEL_OUT)/net/mac80211/mac80211.ko
+endif
 
 # -------@block_security-------
 #Enable this to include trusty support
 PRODUCT_IMX_TRUSTY := true
-
diff --git a/imx8m/bigcypress_8mq/UbootKernelBoardConfig.mk b/imx8m/bigcypress_8mq/UbootKernelBoardConfig.mk
index 013ee56d..32327cba 100644
--- a/imx8m/bigcypress_8mq/UbootKernelBoardConfig.mk
+++ b/imx8m/bigcypress_8mq/UbootKernelBoardConfig.mk
@@ -13,7 +13,12 @@ endif
 # u-boot target used by uuu for imx8mq_evk
 TARGET_BOOTLOADER_CONFIG += imx8mq-lpddr4-evk-uuu-mic3g:vp6820_8mq_evk_android_uuu_defconfig:signed
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+TARGET_KERNEL_DEFCONFIG := gki_defconfig
+TARGET_KERNEL_GKI_DEFCONF:= imx8mq_gki.fragment
+else
 TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
+endif
 TARGET_KERNEL_ADDITION_DEFCONF ?= android_addition_defconfig
 TARGET_KERNEL_SECURE_DEFCONF ?= android_secure_defconfig
 
diff --git a/imx8m/bigcypress_8mq/audio_policy_configuration.xml b/imx8m/bigcypress_8mq/audio_policy_configuration.xml
index 81de06c9..f40dec59 100644
--- a/imx8m/bigcypress_8mq/audio_policy_configuration.xml
+++ b/imx8m/bigcypress_8mq/audio_policy_configuration.xml
@@ -14,7 +14,7 @@
      limitations under the License.
 -->
 
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
+<audioPolicyConfiguration version="7.0" xmlns:xi="http://www.w3.org/2001/XInclude">
     <globalConfiguration speaker_drc_enabled="true"/>
 
     <modules>
@@ -30,17 +30,15 @@
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="hdmi output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
                 </mixPort>
                 <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000,96000,192000,384000,768000"
-                             channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_QUAD,AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
+                             samplingRates="48000 96000 192000 384000 768000"
+                             channelMasks="AUDIO_CHANNEL_OUT_STEREO AUDIO_CHANNEL_OUT_QUAD AUDIO_CHANNEL_OUT_5POINT1 AUDIO_CHANNEL_OUT_7POINT1"/>
                 </mixPort>
-                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
+                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
                     <profile name="" format="AUDIO_FORMAT_DSD"
-                             samplingRates="2822400,5644800,11289600,22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
+                             samplingRates="2822400 5644800 11289600 22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="bt sco output" role="source">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
@@ -49,8 +47,8 @@
 
                 <mixPort name="primary input" role="sink">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
+                             samplingRates="8000 11025 16000 22050 24000 32000 44100 48000"
+                             channelMasks="AUDIO_CHANNEL_IN_MONO AUDIO_CHANNEL_IN_STEREO"/>
                 </mixPort>
             </mixPorts>
             <devicePorts>
@@ -94,7 +92,7 @@
         </module>
 
         <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
+        <xi:include href="a2dp_audio_policy_configuration_7_0.xml"/>
 
         <!-- Usb Audio HAL -->
         <xi:include href="usb_audio_policy_configuration.xml"/>
diff --git a/imx8m/bigcypress_8mq/audio_policy_configuration_drm.xml b/imx8m/bigcypress_8mq/audio_policy_configuration_drm.xml
index cf60b8e3..dafc6bad 100644
--- a/imx8m/bigcypress_8mq/audio_policy_configuration_drm.xml
+++ b/imx8m/bigcypress_8mq/audio_policy_configuration_drm.xml
@@ -14,7 +14,7 @@
      limitations under the License.
 -->
 
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
+<audioPolicyConfiguration version="7.0" xmlns:xi="http://www.w3.org/2001/XInclude">
     <globalConfiguration speaker_drc_enabled="true"/>
 
     <modules>
@@ -30,17 +30,15 @@
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="hdmi output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
                 </mixPort>
                 <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
+                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_5POINT1 AUDIO_CHANNEL_OUT_7POINT1"/>
                 </mixPort>
                 <mixPort name="primary input" role="sink">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
+                             samplingRates="8000 11025 16000 22050 24000 32000 44100 48000"
+                             channelMasks="AUDIO_CHANNEL_IN_MONO AUDIO_CHANNEL_IN_STEREO"/>
                 </mixPort>
             </mixPorts>
             <devicePorts>
@@ -76,7 +74,7 @@
         </module>
 
         <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
+        <xi:include href="a2dp_audio_policy_configuration_7_0.xml"/>
 
         <!-- Usb Audio HAL -->
         <xi:include href="usb_audio_policy_configuration.xml"/>
diff --git a/imx8m/bigcypress_8mq/bigcypress_8mq_common.mk b/imx8m/bigcypress_8mq/bigcypress_8mq_common.mk
index 66a23eab..7a96a9fd 100644
--- a/imx8m/bigcypress_8mq/bigcypress_8mq_common.mk
+++ b/imx8m/bigcypress_8mq/bigcypress_8mq_common.mk
@@ -25,6 +25,8 @@ DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
 
 PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
 
+PRODUCT_VENDOR_PROPERTIES += ro.soc.manufacturer=nxp
+PRODUCT_VENDOR_PROPERTIES += ro.soc.model=IMX8MQ
 # -------@block_treble-------
 PRODUCT_FULL_TREBLE_OVERRIDE := true
 
@@ -52,6 +54,10 @@ PRODUCT_PACKAGES += \
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/thermal_info_config_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mq.json
 
+# Task Profiles
+PRODUCT_COPY_FILES += \
+    $(IMX_DEVICE_PATH)/task_profiles.json:$(TARGET_COPY_OUT_VENDOR)/etc/task_profiles.json
+
 # -------@block_app-------
 #Enable this to choose 32 bit user space build
 IMX8_BUILD_32BIT_ROOTFS := false
@@ -66,6 +72,10 @@ PRODUCT_COPY_FILES += \
 # Enable this to support vendor boot and boot header v3, this would be a MUST for GKI
 TARGET_USE_VENDOR_BOOT ?= true
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+  BOARD_RAMDISK_USE_LZ4 := true
+endif
+
 # We load the fstab from device tree so this is not needed, but since no kernel modules are installed to vendor
 # boot ramdisk so far, we need this step to generate the vendor-ramdisk folder or build process would fail. This
 # can be deleted once we figure out what kernel modules should be put into the vendor boot ramdisk.
@@ -85,7 +95,11 @@ PRODUCT_COPY_FILES += \
 TARGET_USE_DYNAMIC_PARTITIONS ?= true
 
 ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  ifeq ($(TARGET_USE_VENDOR_BOOT),true)
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota/compression.mk)
+  else
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  endif
   PRODUCT_USE_DYNAMIC_PARTITIONS := true
   BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
   BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
@@ -143,12 +157,12 @@ endif
 # hardware backed keymaster service
 ifeq ($(PRODUCT_IMX_TRUSTY),true)
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service.trusty
+    android.hardware.security.keymint-service.trusty
 endif
 
 # Keymaster HAL
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service-imx
+    android.hardware.security.keymint-service-imx
 
 # new gatekeeper HAL
 PRODUCT_PACKAGES += \
@@ -186,13 +200,16 @@ endif
 
 $(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
 
-#DRM Widevine 1.2 L3 support
+#DRM Widevine L1 1.4 support
 PRODUCT_PACKAGES += \
-    android.hardware.drm@1.3-service.widevine \
-    android.hardware.drm@1.3-service.clearkey \
+    android.hardware.drm@1.4-service.widevine \
+    android.hardware.drm@1.4-service.clearkey \
     libwvdrmcryptoplugin \
     libwvhidl \
     libwvdrmengine \
+    liboemcrypto \
+
+$(call inherit-product-if-exists, vendor/nxp-private/widevine/nxp_widevine_tee_8mq.mk)
 
 # -------@block_audio-------
 # Audio card json
@@ -207,11 +224,6 @@ PRODUCT_COPY_FILES += \
     $(CONFIG_REPO_PATH)/common/audio-json/tlv320aic3110_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/tlv320aic3110_config.json \
     $(CONFIG_REPO_PATH)/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
 
-PRODUCT_PACKAGES += \
-    android.hardware.audio@6.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@6.0-impl:32
-
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
     $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
@@ -237,7 +249,7 @@ PRODUCT_PACKAGES += \
 
 # define frame buffer count
 PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
-    ro.surface_flinger.max_frame_buffer_acquired_buffers=3
+    ro.surface_flinger.max_frame_buffer_acquired_buffers=4
 
 # Gralloc HAL
 PRODUCT_PACKAGES += \
@@ -352,6 +364,9 @@ PRODUCT_PACKAGES += \
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.usb.rc
 
+PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
+    sys.usb.mtp.batchcancel=1
+
 # -------@block_multimedia_codec-------
 # Vendor seccomp policy files for media components:
 PRODUCT_COPY_FILES += \
@@ -383,7 +398,6 @@ ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
 ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
 INSTALL_64BIT_LIBRARY := true
 endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
 endif
 
 # -------@block_neural_network-------
@@ -426,7 +440,8 @@ PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
     frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
     frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.software.vulkan.deqp.level-2020-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level-2020-03-01.xml \
+    frameworks/native/data/etc/android.software.vulkan.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level.xml \
+    frameworks/native/data/etc/android.software.opengles.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.opengles.deqp.level.xml \
     frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
     frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
     frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
diff --git a/imx8m/bigcypress_8mq/camera_config_imx8mq.json b/imx8m/bigcypress_8mq/camera_config_imx8mq.json
index 38e88919..6bd791ae 100644
--- a/imx8m/bigcypress_8mq/camera_config_imx8mq.json
+++ b/imx8m/bigcypress_8mq/camera_config_imx8mq.json
@@ -6,6 +6,7 @@
   "hal_version": "3",
   "cam_blit_copy": "GPU_3D",
   "cam_blit_csc": "GPU_3D",
+  "use_cpu_encoder": "1",
 
   "camera_metadata": [
     {
diff --git a/imx8m/bigcypress_8mq/init.imx8mq.rc b/imx8m/bigcypress_8mq/init.imx8mq.rc
index 44613aae..86286707 100755
--- a/imx8m/bigcypress_8mq/init.imx8mq.rc
+++ b/imx8m/bigcypress_8mq/init.imx8mq.rc
@@ -32,7 +32,7 @@ on property:sys.boot_completed=1
     # Set up and down limit to 200us/200us
     write /sys/devices/system/cpu/cpufreq/schedutil/up_rate_limit_us 200
     write /sys/devices/system/cpu/cpufreq/schedutil/down_rate_limit_us 200
-    write /proc/sys/kernel/sched_util_clamp_min 512
+    write /proc/sys/kernel/sched_util_clamp_min_rt_default 512
 
 on property:sys.boot_completed=1
     # update cpuset now that processors are up
diff --git a/imx8m/bigcypress_8mq/init.rc b/imx8m/bigcypress_8mq/init.rc
index 30d41ee7..d4d4e715 100644
--- a/imx8m/bigcypress_8mq/init.rc
+++ b/imx8m/bigcypress_8mq/init.rc
@@ -46,29 +46,34 @@ on init && property:vendor.skip.charger_not_need=0
     # deattch the fbcon as hdmi hotplug conflict with fbcon
     write /sys/class/vtconsole/vtcon1/bind 0
 
-    chown system system /dev/stune/top-app/schedtune.boost
-    chmod 664 /dev/stune/top-app/schedtune.boost
-    chown system system /dev/stune/top-app/schedtune.prefer_idle
-    chmod 664 /dev/stune/top-app/schedtune.prefer_idle
-    chown system system /dev/stune/foreground/schedtune.boost
-    chmod 664 /dev/stune/foreground/schedtune.boost
-    chown system system /dev/stune/foreground/schedtune.prefer_idle
-    chmod 664 /dev/stune/foreground/schedtune.prefer_idle
-    chown system system /dev/stune/schedtune.boost
-    chmod 664 /dev/stune/schedtune.boost
-
-    # set default schedTune value for foreground/top-app (only affects EAS)
-    write /dev/stune/foreground/schedtune.boost 10
-    write /dev/stune/foreground/schedtune.prefer_idle 1
-    write /dev/stune/top-app/schedtune.boost 40
-    write /dev/stune/top-app/schedtune.prefer_idle 1
-    write /dev/stune/rt/schedtune.boost 50
-    write /dev/stune/rt/schedtune.prefer_idle 1
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.min
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.min
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/rt/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.min
+    chown system system /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/background/cpu.uclamp.max
+    chmod 664 /dev/cpuctl/background/cpu.uclamp.max
+
+    # set default uclamp value for foreground/top-app/rt/background (only affects EAS)
+    write /dev/cpuctl/foreground/cpu.uclamp.min 20
+    write /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/top-app/cpu.uclamp.min 50
+    write /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/rt/cpu.uclamp.min 60
+    write /dev/cpuctl/rt/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/background/cpu.uclamp.max 50
 
 on late-fs && property:vendor.skip.charger_not_need=0
     # Start keymaster/gatekeeper service
     start vendor.gatekeeper-1-0-${ro.boot.keystore}
-    start vendor.keymaster-4-0-${ro.boot.keystore}
+    start vendor.keymint-${ro.boot.keystore}
     setprop vendor.powerhal.init 1
 
     # Wait for keymaster
@@ -153,6 +158,10 @@ on early-boot && property:vendor.skip.charger_not_need=0
     setprop wifi.direct.interface p2p-dev-wlan0
     start vendor.wifi_hal_legacy
 
+service vsidaemon /vendor/bin/vsidaemon
+    class main
+    user root
+
 on boot && property:vendor.skip.charger_not_need=0
     start audioserver
     start mediadrm
@@ -216,8 +225,6 @@ on post-fs && property:vendor.skip.charger_not_need=0
 
 on post-fs-data && property:vendor.skip.charger_not_need=0
     setprop vold.post_fs_data_done 1
-    # create temp node for secure storage proxy
-    mkdir /data/vendor/ss 0700 system system
 
     # tmp dir for opencl Compiler
     setprop vendor.TMPDIR /data/vendor/.opencl-cache
@@ -226,6 +233,7 @@ on post-fs-data && property:vendor.skip.charger_not_need=0
 on zygote-start && property:vendor.skip.charger_not_need=0
     # Create the directories used by the Wireless subsystem
     mkdir /data/vendor/wifi 0771 wifi wifi
+    mkdir /data/vendor/wifi/wifi_dumps 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
 
@@ -236,7 +244,9 @@ service early_init_sh /vendor/bin/init.insmod.sh /vendor/etc/early.init.cfg vend
     disabled
     oneshot
 
-on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+on post-fs-data && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+    # create temp node for secure storage proxy
+    mkdir /data/vendor/ss 0700 system system
     start storageproxyd
 
 service storageproxyd /vendor/bin/storageproxyd -p /data/vendor/ss -r /dev/mmcblk0rpmb -d /dev/trusty-ipc-dev0
diff --git a/imx8m/bigcypress_8mq/init.usb.rc b/imx8m/bigcypress_8mq/init.usb.rc
index 12fe7841..65db2c16 100644
--- a/imx8m/bigcypress_8mq/init.usb.rc
+++ b/imx8m/bigcypress_8mq/init.usb.rc
@@ -48,5 +48,7 @@ on early-boot
     write /sys/module/libcomposite/parameters/disable_l1_for_hs "y"
     symlink /config/usb_gadget/g1/configs/b.1 /config/usb_gadget/g1/os_desc/b.1
 
+    setprop vendor.usb.sysfs_path /sys/devices/platform/soc@0/38100000.usb/
+
 on boot
     setprop sys.usb.configfs 2
diff --git a/imx8m/bigcypress_8mq/manifest.xml b/imx8m/bigcypress_8mq/manifest.xml
index c6b7c705..2184af31 100644
--- a/imx8m/bigcypress_8mq/manifest.xml
+++ b/imx8m/bigcypress_8mq/manifest.xml
@@ -1,5 +1,5 @@
 <manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
+    <kernel  target-level="6" />
     <hal format="hidl">
 	<name>android.hardware.graphics.allocator</name>
         <transport>hwbinder</transport>
@@ -24,28 +24,6 @@
        <transport>hwbinder</transport>
        <fqname>@2.4::ICameraProvider/external/0</fqname>
     </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>4.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.3</version>
-        <interface>
-            <name>ICryptoFactory</name>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-        </interface>
-        <fqname>@1.3::ICryptoFactory/clearkey</fqname>
-        <fqname>@1.3::IDrmFactory/clearkey</fqname>
-    </hal>
     <hal format="hidl">
         <name>android.hardware.gatekeeper</name>
         <transport>hwbinder</transport>
@@ -99,7 +77,7 @@
     <hal format="hidl">
         <name>android.hardware.audio</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+        <version>7.0</version>
         <interface>
             <name>IDevicesFactory</name>
             <instance>default</instance>
@@ -108,7 +86,7 @@
     <hal format="hidl">
         <name>android.hardware.audio.effect</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+        <version>7.0</version>
         <interface>
             <name>IEffectsFactory</name>
             <instance>default</instance>
@@ -141,4 +119,20 @@
             <instance>default</instance>
         </interface>
     </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IKeyMintDevice/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IRemotelyProvisionedComponent/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.secureclock</name>
+       <fqname>ISecureClock/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.sharedsecret</name>
+       <fqname>ISharedSecret/default</fqname>
+    </hal>
 </manifest>
diff --git a/imx8m/bigcypress_8mq/overlay/frameworks/base/core/res/res/values/config.xml b/imx8m/bigcypress_8mq/overlay/frameworks/base/core/res/res/values/config.xml
index 4722b491..4f0f1a54 100644
--- a/imx8m/bigcypress_8mq/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/imx8m/bigcypress_8mq/overlay/frameworks/base/core/res/res/values/config.xml
@@ -185,6 +185,12 @@
     <!-- This device is not "voice capable"; it's data-only. -->
     <bool name="config_voice_capable">false</bool>
 
+    <!-- Flag indicating whether the current device allows data.
+        If true, this means that the device supports data connectivity through
+        the telephony network.
+        This can be overridden to false for devices that support voice and/or sms . -->
+    <bool name="config_mobile_data_capable">false</bool>
+
     <!-- Boolean indicating whether system support sustained performance mode. -->
     <bool name="config_sustainedPerformanceModeSupported">true</bool>
 
diff --git a/imx8m/bigcypress_8mq/powerhint_imx8mq.json b/imx8m/bigcypress_8mq/powerhint_imx8mq.json
index 3d7db6ab..e540d9a7 100644
--- a/imx8m/bigcypress_8mq/powerhint_imx8mq.json
+++ b/imx8m/bigcypress_8mq/powerhint_imx8mq.json
@@ -25,7 +25,7 @@
     },
     {
       "Name": "TASchedtuneBoost",
-      "Path": "/dev/stune/top-app/schedtune.boost",
+      "Path": "/dev/cpuctl/top-app/cpu.uclamp.min",
       "Values": [
         "60",
         "10"
diff --git a/imx8m/bigcypress_8mq/required_hardware.xml b/imx8m/bigcypress_8mq/required_hardware.xml
index aef0450a..3981b852 100644
--- a/imx8m/bigcypress_8mq/required_hardware.xml
+++ b/imx8m/bigcypress_8mq/required_hardware.xml
@@ -30,4 +30,5 @@
     <feature name="android.software.companion_device_setup" />
     <feature name="android.software.autofill" />
     <feature name="android.software.secure_lock_screen" />
+    <feature name="android.hardware.keystore.app_attest_key" />
 </permissions>
diff --git a/imx8m/bigcypress_8mq/sepolicy/genfs_contexts b/imx8m/bigcypress_8mq/sepolicy/genfs_contexts
index 232e6da2..2d043cac 100644
--- a/imx8m/bigcypress_8mq/sepolicy/genfs_contexts
+++ b/imx8m/bigcypress_8mq/sepolicy/genfs_contexts
@@ -12,5 +12,7 @@ genfscon sysfs /devices/platform/soc@0/30800000.bus/30a00000.mipi-dsi/30a00000.m
 genfscon sysfs /devices/platform/soc@0/30800000.bus/30be0000.ethernet/net               u:object_r:sysfs_net:s0
 genfscon sysfs /devices/platform/soc@0/33c00000.pcie/pci0001:00/0001:00:00.0/0001:01:00.0/net u:object_r:sysfs_net:s0
 
-genfscon sysfs /devices/platform/backlight/backlight/backlight u:object_r:sysfs_leds:s0
+# for usb gadget HAL to add watch on the sysfs path of usb controller
+genfscon sysfs /devices/platform/soc@0/38100000.usb                                     u:object_r:sysfs_usb_device:s0
 
+genfscon sysfs /devices/platform/backlight/backlight/backlight u:object_r:sysfs_leds:s0
diff --git a/imx8m/bigcypress_8mq/task_profiles.json b/imx8m/bigcypress_8mq/task_profiles.json
new file mode 100644
index 00000000..449a5054
--- /dev/null
+++ b/imx8m/bigcypress_8mq/task_profiles.json
@@ -0,0 +1,644 @@
+{
+  "Attributes": [
+    {
+      "Name": "LowCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "background/cpus"
+    },
+    {
+      "Name": "HighCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "foreground/cpus"
+    },
+    {
+      "Name": "MaxCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "top-app/cpus"
+    },
+    {
+      "Name": "MemLimit",
+      "Controller": "memory",
+      "File": "memory.limit_in_bytes"
+    },
+    {
+      "Name": "MemSoftLimit",
+      "Controller": "memory",
+      "File": "memory.soft_limit_in_bytes"
+    },
+    {
+      "Name": "MemSwappiness",
+      "Controller": "memory",
+      "File": "memory.swappiness"
+    },
+    {
+      "Name": "UClampMin",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.min"
+    },
+    {
+      "Name": "UClampMax",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.max"
+    },
+    {
+      "Name": "UClampLatencySensitive",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.latency_sensitive"
+    },
+    {
+      "Name": "FreezerState",
+      "Controller": "freezer",
+      "File": "cgroup.freeze"
+    }
+  ],
+
+  "Profiles": [
+    {
+      "Name": "HighEnergySaving",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Frozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Unfrozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "RealtimePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "rt"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CameraServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NNApiHALPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "nnapi-hal"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CpuPolicySpread",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CpuPolicyPack",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "VrKernelCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/performance"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/performance"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityMax",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServiceCapacityRestricted",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "restricted"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CameraServiceCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "TimerSlackHigh",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "40000000"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "TimerSlackNormal",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "50000"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "SFMainPolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SFRenderEnginePolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "PerfBoost",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "50%",
+            "Clamp": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "PerfClamp",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "0",
+            "Clamp": "30%"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "16MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "150"
+
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "512MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "100"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SystemMemoryProcess",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "memory",
+            "Path": "system"
+          }
+        }
+      ]
+    }
+  ],
+
+  "AggregateProfiles": [
+    {
+      "Name": "SCHED_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "SCHED_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_SYSTEM",
+      "Profiles": [ "ServicePerformance", "LowIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_RT_APP",
+      "Profiles": [ "RealtimePerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "ProcessCapacityLow", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "CPUSET_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "ProcessCapacityHigh", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "ProcessCapacityMax", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_SYSTEM",
+      "Profiles": [ "ServiceCapacityLow", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_RESTRICTED",
+      "Profiles": [ "ServiceCapacityRestricted", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "Dex2OatBootComplete",
+      "Profiles": [ "SCHED_SP_BACKGROUND" ]
+    }
+  ]
+}
diff --git a/imx8m/bigcypress_8mq/thermal_info_config_imx8mq.json b/imx8m/bigcypress_8mq/thermal_info_config_imx8mq.json
index 758490bf..32aec548 100755
--- a/imx8m/bigcypress_8mq/thermal_info_config_imx8mq.json
+++ b/imx8m/bigcypress_8mq/thermal_info_config_imx8mq.json
@@ -12,9 +12,9 @@
                 80.0,
                 82.0,
                 86.0,
-                90.0,
+                88.0,
                 "NAN",
-                "NAN"
+                90.0
             ],
             "HotHysteresis":[
                 2.0,
@@ -39,7 +39,7 @@
                 "NAN",
                 "NAN",
                 "NAN",
-                "NAN"
+                100.0
             ],
             "VrThreshold":"NAN",
             "Multiplier":0.001,
diff --git a/imx8m/bigcypress_8mq/ueventd.nxp.rc b/imx8m/bigcypress_8mq/ueventd.nxp.rc
index a267eeba..732baf93 100644
--- a/imx8m/bigcypress_8mq/ueventd.nxp.rc
+++ b/imx8m/bigcypress_8mq/ueventd.nxp.rc
@@ -11,6 +11,9 @@
 /dev/watchdog             0660   system     root
 /dev/mmcblk0rpmb          0600   system     system
 /dev/trusty-ipc-dev0      0660   system     drmrpc
+/dev/dma_heap/reserved    0666   system     system
+/dev/dma_heap/reserved-uncached    0666   system     system
+/dev/dma_heap/secure      0666   system     system
 
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_temp 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_temp 0660 system system
@@ -18,6 +21,8 @@
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_hyst 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_hyst 0660 system system
 
+/dev/dmabuf_imx           0664   system     system
+
 /dev/usb/lp0              0666   root         root
 
 #KIOSK LED
diff --git a/imx8m/evk_a100/AndroidBoard.mk b/imx8m/evk_a100/AndroidBoard.mk
deleted file mode 100644
index 84e328fe..00000000
--- a/imx8m/evk_a100/AndroidBoard.mk
+++ /dev/null
@@ -1,7 +0,0 @@
-LOCAL_PATH := $(call my-dir)
-
-include device/idtech/common/build/dtbo.mk
-include device/idtech/common/build/imx-recovery.mk
-include device/idtech/common/build/gpt.mk
-include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/media-profile/media-profile.mk
-include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/sensor/fsl-sensor.mk
diff --git a/imx8m/evk_a100/AndroidUboot.mk b/imx8m/evk_a100/AndroidUboot.mk
deleted file mode 100644
index 53e81435..00000000
--- a/imx8m/evk_a100/AndroidUboot.mk
+++ /dev/null
@@ -1,59 +0,0 @@
-# uboot.imx in android combine scfw.bin and uboot.bin
-MAKE += SHELL=/bin/bash
-
-ifneq ($(AARCH64_GCC_CROSS_COMPILE),)
-  ATF_CROSS_COMPILE := $(strip $(AARCH64_GCC_CROSS_COMPILE))
-else
-  $(error shell env AARCH64_GCC_CROSS_COMPILE is not set)
-endif
-
-define build_imx_uboot
-	$(hide) echo Building i.MX U-Boot with firmware; \
-	cp $(UBOOT_OUT)/u-boot-nodtb.$(strip $(1)) $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(UBOOT_OUT)/spl/u-boot-spl.bin  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(UBOOT_OUT)/tools/mkimage  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/mkimage_uboot; \
-	if [ `echo $(2) | cut -d '-' -f2` = "ddr4" ]; then \
-		cp $(UBOOT_OUT)/arch/arm/dts/imx8mn-ddr4-evk.dtb $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-		cp $(FSL_PROPRIETARY_PATH)/linux-firmware-imx/firmware/ddr/synopsys/ddr4* $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	else \
-		cp $(UBOOT_OUT)/arch/arm/dts/imx8mn-evk.dtb  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-		cp $(FSL_PROPRIETARY_PATH)/linux-firmware-imx/firmware/ddr/synopsys/lpddr4_pmu_train* $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	fi; \
-	$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ PLAT=`echo $(2) | cut -d '-' -f1` clean; \
-	if [ `echo $(2) | cut -d '-' -f3` = "trusty" ]; then \
-		cp $(FSL_PROPRIETARY_PATH)/fsl-proprietary/uboot-firmware/imx8m/tee-imx8mn.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B SPD=trusty 1>/dev/null || exit 1; \
-	else \
-		if [ -f $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin ] ; then \
-			rm -rf $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-		fi; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B 1>/dev/null || exit 1; \
-	fi; \
-	cp $(IMX_PATH)/arm-trusted-firmware/build/`echo $(2) | cut -d '-' -f1`/release/bl31.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/bl31.bin; \
-	$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ clean; \
-	if [ `echo $(2) | cut -d '-' -f2` = "ddr4" ]; then \
-		if [ `echo $(2) | rev | cut -d '-' -f1 | rev` != "dual" ]; then \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MN flash_ddr4_evk || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MN print_fit_hab_ddr4 || exit 1; \
-		else \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MN flash_ddr4_evk_no_hdmi_dual_bootloader || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MN PRINT_FIT_HAB_OFFSET=0x0 print_fit_hab_ddr4 || exit 1; \
-		fi; \
-	else \
-		if [ `echo $(2) | rev | cut -d '-' -f1 | rev` != "dual" ]; then \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MN flash_spl_uboot || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MN print_fit_hab || exit 1; \
-		else \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MN flash_evk_no_hdmi_dual_bootloader || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MN PRINT_FIT_HAB_OFFSET=0x0 print_fit_hab || exit 1; \
-		fi; \
-	fi; \
-	if [ `echo $(2) | rev | cut -d '-' -f1 | rev` != "dual" ]; then \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/flash.bin $(UBOOT_COLLECTION)/u-boot-$(strip $(2)).imx; \
-	else \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/flash.bin $(UBOOT_COLLECTION)/spl-$(strip $(2)).bin; \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/u-boot-ivt.itb $(UBOOT_COLLECTION)/bootloader-$(strip $(2)).img; \
-	fi;
-endef
-
-
diff --git a/imx8m/evk_a100/BoardConfig.mk b/imx8m/evk_a100/BoardConfig.mk
deleted file mode 100644
index 70dda5fd..00000000
--- a/imx8m/evk_a100/BoardConfig.mk
+++ /dev/null
@@ -1,174 +0,0 @@
-#
-# SoC-specific compile-time definitions.
-#
-
-BOARD_SOC_TYPE := IMX8MN
-BOARD_SOM_TYPE := a100
-BOARD_TYPE := DEVBOARD
-BOARD_MAIN_DISPLAY_ROTATION := 0
-BOARD_HAVE_VPU := false
-HAVE_FSL_IMX_GPU2D := false
-HAVE_FSL_IMX_GPU3D := true
-HAVE_FSL_IMX_IPU := false
-HAVE_FSL_IMX_PXP := false
-BOARD_KERNEL_BASE := 0x40400000
-TARGET_GRALLOC_VERSION := v3
-TARGET_HIGH_PERFORMANCE := true
-TARGET_USES_HWC2 := true
-TARGET_HWCOMPOSER_VERSION := v2.0
-USE_OPENGL_RENDERER := true
-TARGET_HAVE_VULKAN := true
-ENABLE_CFI=false
-
-SOONG_CONFIG_IMXPLUGIN += \
-                        BOARD_HAVE_VPU
-
-SOONG_CONFIG_IMXPLUGIN_BOARD_SOC_TYPE = IMX8MN
-SOONG_CONFIG_IMXPLUGIN_BOARD_HAVE_VPU = false
-SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_ONLY = false
-
-#
-# Product-specific compile-time definitions.
-#
-
-IMX_DEVICE_PATH := device/idtech/imx8m/evk_a100
-
-include device/idtech/imx8m/BoardConfigCommon.mk
-
-BUILD_TARGET_FS ?= ext4
-TARGET_USERIMAGES_USE_EXT4 := true
-
-TARGET_RECOVERY_FSTAB = $(IMX_DEVICE_PATH)/fstab.freescale
-
-# Support gpt
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  BOARD_BPT_INPUT_FILES += device/idtech/common/partition/device-partitions-14.4GB-ab_super.bpt
-  ADDITION_BPT_PARTITION = partition-table-28GB:device/idtech/common/partition/device-partitions-28GB-ab_super.bpt \
-                           partition-table-dual:device/idtech/common/partition/device-partitions-14.4GB-ab-dual-bootloader_super.bpt \
-                           partition-table-28GB-dual:device/idtech/common/partition/device-partitions-28GB-ab-dual-bootloader_super.bpt
-else
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    BOARD_BPT_INPUT_FILES += device/idtech/common/partition/device-partitions-13GB-ab-no-product.bpt
-    ADDITION_BPT_PARTITION = partition-table-28GB:device/idtech/common/partition/device-partitions-28GB-ab-no-product.bpt \
-                             partition-table-dual:device/idtech/common/partition/device-partitions-13GB-ab-dual-bootloader-no-product.bpt \
-                             partition-table-28GB-dual:device/idtech/common/partition/device-partitions-28GB-ab-dual-bootloader-no-product.bpt
-  else
-    BOARD_BPT_INPUT_FILES += device/idtech/common/partition/device-partitions-14.4GB-ab.bpt
-    ADDITION_BPT_PARTITION = partition-table-28GB:device/idtech/common/partition/device-partitions-28GB-ab.bpt \
-                             partition-table-dual:device/idtech/common/partition/device-partitions-14.4GB-ab-dual-bootloader.bpt \
-                             partition-table-28GB-dual:device/idtech/common/partition/device-partitions-28GB-ab-dual-bootloader.bpt
-  endif
-endif
-
-# Vendor Interface manifest and compatibility
-DEVICE_MANIFEST_FILE := $(IMX_DEVICE_PATH)/manifest.xml
-ifneq (,$(filter userdebug,$(TARGET_BUILD_VARIANT)))
-DEVICE_MANIFEST_FILE += $(IMX_DEVICE_PATH)/manifest_userdebug.xml
-endif
-DEVICE_MATRIX_FILE := $(IMX_DEVICE_PATH)/compatibility_matrix.xml
-
-TARGET_BOOTLOADER_BOARD_NAME := EVK
-
-USE_OPENGL_RENDERER := true
-
-BOARD_WLAN_DEVICE            := bcmdhd
-WPA_SUPPLICANT_VERSION       := VER_0_8_X
-BOARD_WPA_SUPPLICANT_DRIVER  := NL80211
-BOARD_HOSTAPD_DRIVER         := NL80211
-BOARD_HOSTAPD_PRIVATE_LIB               := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
-BOARD_WPA_SUPPLICANT_PRIVATE_LIB        := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
-
-WIFI_DRIVER_FW_PATH_PARAM := "/sys/module/brcmfmac/parameters/alternative_fw_path"
-
-#BOARD_USE_SENSOR_FUSION := true
-BOARD_USE_ST_SENSOR_INPUT := true
-
-# we don't support sparse image.
-TARGET_USERIMAGES_SPARSE_EXT_DISABLED := false
-
-BOARD_BLUETOOTH_BDROID_BUILDCFG_INCLUDE_DIR := $(IMX_DEVICE_PATH)/bluetooth
-
-# BCM 1MW BT
-BOARD_HAVE_BLUETOOTH_BCM := true
-
-BOARD_HAVE_USB_CAMERA := true
-BOARD_HAVE_USB_MJPEG_CAMERA := false
-
-USE_ION_ALLOCATOR := true
-USE_GPU_ALLOCATOR := false
-
-BOARD_AVB_ENABLE := true
-BOARD_AVB_ALGORITHM := SHA256_RSA2048
-BOARD_AVB_KEY_PATH := device/idtech/common/security/idt_testkey_rsa2048.pem
-TARGET_USES_MKE2FS := true
-
-# define frame buffer count
-NUM_FRAMEBUFFER_SURFACE_BUFFERS := 3
-
-CMASIZE=800M
-
-# NXP default config
-BOARD_KERNEL_CMDLINE := init=/init androidboot.console=ttymxc1 androidboot.hardware=freescale firmware_class.path=/vendor/firmware loop.max_part=7
-
-# memory config
-BOARD_KERNEL_CMDLINE += transparent_hugepage=never
-
-# display config
-BOARD_KERNEL_CMDLINE += androidboot.lcd_density=294 androidboot.primary_display=imx-drm
-
-# wifi config
-BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN
-
-# low memory device build config
-ifeq ($(LOW_MEMORY),true)
-BOARD_KERNEL_CMDLINE += cma=320M@0x400M-0xb80M androidboot.displaymode=720p galcore.contiguousSize=33554432
-else
-BOARD_KERNEL_CMDLINE += cma=$(CMASIZE)@0x400M-0xb80M
-endif
-
-ifeq ($(TARGET_USERIMAGES_USE_UBIFS),true)
-ifeq ($(TARGET_USERIMAGES_USE_EXT4),true)
-$(error "TARGET_USERIMAGES_USE_UBIFS and TARGET_USERIMAGES_USE_EXT4 config open in same time, please only choose one target file system image")
-endif
-endif
-
-LOWER_BOARD_TYPE  = $(shell echo $(BOARD_TYPE) | tr A-Z a-z)
-LOWER_BOARD_SOC_TYPE  = $(shell echo $(BOARD_SOC_TYPE) | tr A-Z a-z)
-BOARD_PREBUILT_DTBOIMAGE := out/target/product/evk_a100/dtbo-$(BOARD_SOM_TYPE)-$(LOWER_BOARD_TYPE).img
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    TARGET_BOARD_DTS_CONFIG := imx8mn-ddr4:imx8mn-ddr4-evk-no-product.dtb
-  else
-    # imx8mn with MIPI-HDMI display, BCM wifi and support trusty
-    TARGET_BOARD_DTS_CONFIG := imx8mn-ddr4:imx8mn-ddr4-evk.dtb
-    TARGET_BOARD_DTS_CONFIG += imx8mn:imx8mn-evk.dtb
-    # imx8mn with MIPI panel display and BCM wifi
-    TARGET_BOARD_DTS_CONFIG += imx8mn-ddr4-mipi-panel:imx8mn-ddr4-evk-rm67191.dtb
-    # imx8mn with MIPI-HDMI display and BCM wifi and M7 image
-    TARGET_BOARD_DTS_CONFIG += imx8mn-ddr4-rpmsg:imx8mn-ddr4-evk-rpmsg.dtb
-    # imx8mn with MIPI panel display and BCM wifi
-    TARGET_BOARD_DTS_CONFIG += imx8mn-mipi-panel:imx8mn-evk-rm67191.dtb
-    # imx8mn with MIPI-HDMI display and BCM wifi and M7 image
-    TARGET_BOARD_DTS_CONFIG += imx8mn-rpmsg:imx8mn-evk-rpmsg.dtb
-  endif
-else
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    TARGET_BOARD_DTS_CONFIG := imx8mn-ddr4:imx8mn-ddr4-evk-no-product-no-dynamic_partition.dtb
-  else
-    TARGET_BOARD_DTS_CONFIG := imx8mn-ddr4:imx8mn-ddr4-evk-no-dynamic_partition.dtb
-  endif
-endif
-
-BOARD_SEPOLICY_DIRS := \
-       device/idtech/imx8m/sepolicy \
-       $(IMX_DEVICE_PATH)/sepolicy
-
-TARGET_BOARD_KERNEL_HEADERS := device/idtech/common/kernel-headers
-
-ALL_DEFAULT_INSTALLED_MODULES += $(BOARD_VENDOR_KERNEL_MODULES)
-
-BOARD_USES_METADATA_PARTITION := true
-BOARD_ROOT_EXTRA_FOLDERS += metadata
-
-BOARD_PLAT_PRIVATE_SEPOLICY_DIR := device/idtech/imx8m/sepolicy_system/private
diff --git a/imx8m/evk_a100/SharedBoardConfig.mk b/imx8m/evk_a100/SharedBoardConfig.mk
deleted file mode 100644
index d8ce857d..00000000
--- a/imx8m/evk_a100/SharedBoardConfig.mk
+++ /dev/null
@@ -1,20 +0,0 @@
-KERNEL_NAME := Image
-TARGET_KERNEL_ARCH := arm64
-
-#Enable this to config 1GB ddr on evk_imx8mn
-#LOW_MEMORY := true
-
-#Enable this to include trusty support
-PRODUCT_IMX_TRUSTY := true
-
-#Enable this to disable product partition build.
-#IMX_NO_PRODUCT_PARTITION := true
-
-# BCM fmac wifi driver module
-BOARD_VENDOR_KERNEL_MODULES += \
-    $(KERNEL_OUT)/drivers/net/wireless/broadcom/brcm80211/brcmfmac/brcmfmac.ko \
-    $(KERNEL_OUT)/drivers/net/wireless/broadcom/brcm80211/brcmutil/brcmutil.ko
-
-# mipi-panel touch driver module
-BOARD_VENDOR_KERNEL_MODULES += \
-    $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko
diff --git a/imx8m/evk_a100/UbootKernelBoardConfig.mk b/imx8m/evk_a100/UbootKernelBoardConfig.mk
deleted file mode 100644
index c5e552f2..00000000
--- a/imx8m/evk_a100/UbootKernelBoardConfig.mk
+++ /dev/null
@@ -1,27 +0,0 @@
-# from BoardConfig.mk
-TARGET_BOOTLOADER_POSTFIX := bin
-UBOOT_POST_PROCESS := true
-
-# u-boot target for a100 devboard
-TARGET_BOOTLOADER_CONFIG := imx8mn-devboard:imx8mn_a100_devboard_android_defconfig
-TARGET_BOOTLOADER_CONFIG += imx8mn-devboard-dual:imx8mn_a100_devboard_android_dual_defconfig
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-  TARGET_BOOTLOADER_CONFIG += imx8mn-devboard-trusty:imx8mn_a100_devboard_android_trusty_defconfig
-  TARGET_BOOTLOADER_CONFIG += imx8mn-devboard-trusty-secure-unlock:imx8mn_a100_devboard_android_trusty_secure_unlock_defconfig
-  TARGET_BOOTLOADER_CONFIG += imx8mn-devboard-trusty-dual:imx8mn_a100_devboard_android_trusty_dual_defconfig
-endif
-
-# u-boot target used by uuu for a100 devboard
-TARGET_BOOTLOADER_CONFIG += imx8mn-devboard-evk-uuu:imx8mn_a100_devboard_android_uuu_defconfig
-
-TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
-TARGET_KERNEL_ADDITION_DEFCONF := android_addition_defconfig
-TARGET_KERNEL_SECURE_DEFCONF ?= android_secure_defconfig
-
-
-# absolute path is used, not the same as relative path used in AOSP make
-TARGET_DEVICE_DIR := $(patsubst %/, %, $(dir $(realpath $(lastword $(MAKEFILE_LIST)))))
-
-# define bootloader rollback index
-BOOTLOADER_RBINDEX ?= 0
-
diff --git a/imx8m/evk_a100/android_addition_defconfig b/imx8m/evk_a100/android_addition_defconfig
deleted file mode 100644
index af03a131..00000000
--- a/imx8m/evk_a100/android_addition_defconfig
+++ /dev/null
@@ -1,251 +0,0 @@
-CONFIG_WLAN_VENDOR_NXP=y
-CONFIG_MXMWIFIEX=m
-CONFIG_CLD_HL_SDIO_CORE=y
-CONFIG_IDG_SPI=y
-# CONFIG_USB_NET_QMI_WWAN is not set
-CONFIG_SINGLE_LOGO=y
-CONFIG_SPLASH_SCREEN_CENTERED=y
-CONFIG_USB_SERIAL=y
-CONFIG_USB_SERIAL_OPTION=y
-CONFIG_INPUT_VL53L1X_ULD=y
-CONFIG_SND_SOC_IMX_RT5640=y
-CONFIG_SND_SOC_RT5640=y
-CONFIG_KEYBOARD_MATRIX=y
-CONFIG_TYPEC_HD3SS3220=y
-CONFIG_MXC_DUAL_MIPI_CAMERA=y
-CONFIG_MXC_CAMERA_OV2685_MIPI_V2=y
-CONFIG_INPUT_ST=y
-CONFIG_INPUT_ECOMPASS=y
-CONFIG_INPUT_LSM303AGR=y
-CONFIG_INPUT_LSM303AGR_I2C=y
-CONFIG_TOUCHSCREEN_GOODIX=y
-CONFIG_DRM_PANEL_DATAIMAGE_5INCHLCM=y
-CONFIG_DEBUG_FS=y
-CONFIG_PPP=y
-CONFIG_PPP_ASYNC=y
-CONFIG_PPP_SYNC_TTY=y
-
-CONFIG_PARAVIRT=y
-CONFIG_NETFILTER_XT_TARGET_CT=y
-CONFIG_MVMDIO=y
-CONFIG_MDIO_BITBANG=y
-CONFIG_I2C_SLAVE=y
-CONFIG_GPIOLIB=y
-CONFIG_GPIO_GENERIC_PLATFORM=y
-CONFIG_POWER_RESET_BRCMSTB=y
-CONFIG_REGULATOR=y
-CONFIG_DRM_I2C_CH7006=m
-CONFIG_DRM_I2C_SIL164=m
-CONFIG_TMPFS=y
-CONFIG_BCM_FLEXRM_MBOX=y
-CONFIG_PHY_SAMSUNG_USB2=y
-CONFIG_ARM_TIMER_SP804=y
-CONFIG_COMMON_CLK_VERSATILE=y
-CONFIG_CLK_SP810=y
-CONFIG_USB_SNP_UDC_PLAT=y
-CONFIG_USB_BDC_UDC=y
-CONFIG_BCM_SBA_RAID=m
-
-# CONFIG_KVM is not set
-# CONFIG_MTD_UBI is not set
-# CONFIG_VGA_ARB is not set
-# CONFIG_ARCH_SUNXI is not set
-# CONFIG_ARCH_ALPINE is not set
-# CONFIG_ARCH_BCM2835 is not set
-# CONFIG_ARCH_BCM_IPROC is not set
-# CONFIG_ARCH_BERLIN is not set
-# CONFIG_ARCH_BRCMSTB is not set
-# CONFIG_ARCH_EXYNOS is not set
-# CONFIG_ARCH_LAYERSCAPE is not set
-# CONFIG_ARCH_LG1K is not set
-# CONFIG_ARCH_HISI is not set
-# CONFIG_ARCH_MEDIATEK is not set
-# CONFIG_ARCH_MESON is not set
-# CONFIG_ARCH_MVEBU is not set
-# CONFIG_ARCH_QCOM is not set
-# CONFIG_ARCH_ROCKCHIP is not set
-# CONFIG_ARCH_SEATTLE is not set
-# CONFIG_ARCH_RENESAS is not set
-# CONFIG_ARCH_R8A7795 is not set
-# CONFIG_ARCH_R8A7796 is not set
-# CONFIG_ARCH_STRATIX10 is not set
-# CONFIG_ARCH_TEGRA is not set
-# CONFIG_ARCH_SPRD is not set
-# CONFIG_ARCH_THUNDER is not set
-# CONFIG_ARCH_THUNDER2 is not set
-# CONFIG_ARCH_UNIPHIER is not set
-# CONFIG_ARCH_VEXPRESS is not set
-# CONFIG_ARCH_XGENE is not set
-# CONFIG_ARCH_ZX is not set
-# CONFIG_ARCH_ZYNQMP is not set
-# CONFIG_ARCH_TEGRA_132_SOC is not set
-# CONFIG_ARCH_TEGRA_210_SOC is not set
-# CONFIG_ARCH_TEGRA_186_SOC is not set
-# CONFIG_PCI_HISI is not set
-# CONFIG_PCIE_KIRIN is not set
-# CONFIG_PCI_AARDVARK is not set
-# CONFIG_PCIE_RCAR is not set
-# CONFIG_PCIE_ROCKCHIP is not set
-# CONFIG_XEN is not set
-# CONFIG_SPI_FSL_QUADSPI is not set
-# CONFIG_XEN_BLKDEV_BACKEND is not set
-# CONFIG_AHCI_MVEBU is not set
-# CONFIG_SATA_RCAR is not set
-# CONFIG_NET_XGENE is not set
-# CONFIG_MVNETA is not set
-# CONFIG_MVPP2 is not set
-# CONFIG_RAVB is not set
-# CONFIG_MESON_GXL_PHY is not set
-# CONFIG_XEN_NETDEV_BACKEND is not set
-# CONFIG_INPUT_PM8941_PWRKEY is not set
-# CONFIG_INPUT_HISI_POWERKEY is not set
-# CONFIG_SERIAL_8250_BCM2835AUX is not set
-# CONFIG_SERIAL_8250_MT6577 is not set
-# CONFIG_SERIAL_8250_UNIPHIER is not set
-# CONFIG_SERIAL_MESON is not set
-# CONFIG_SERIAL_MESON_CONSOLE is not set
-# CONFIG_SERIAL_SAMSUNG is not set
-# CONFIG_SERIAL_SAMSUNG_CONSOLE is not set
-# CONFIG_SERIAL_TEGRA is not set
-# CONFIG_SERIAL_SH_SCI is not set
-# CONFIG_SERIAL_SH_SCI_NR_UARTS is not set
-# CONFIG_SERIAL_SH_SCI_CONSOLE is not set
-# CONFIG_SERIAL_MSM is not set
-# CONFIG_SERIAL_MSM_CONSOLE is not set
-# CONFIG_SERIAL_XILINX_PS_UART is not set
-# CONFIG_SERIAL_XILINX_PS_UART_CONSOLE is not set
-# CONFIG_SERIAL_MVEBU_UART is not set
-# CONFIG_I2C_BCM2835 is not set
-# CONFIG_I2C_MESON is not set
-# CONFIG_I2C_MV64XXX is not set
-# CONFIG_I2C_PXA is not set
-# CONFIG_I2C_QUP is not set
-# CONFIG_I2C_SH_MOBILE is not set
-# CONFIG_I2C_TEGRA is not set
-# CONFIG_I2C_UNIPHIER_F is not set
-# CONFIG_I2C_RCAR is not set
-# CONFIG_SPI_BCM2835 is not set
-# CONFIG_SPI_BCM2835AUX is not set
-# CONFIG_SPI_MESON_SPICC is not set
-# CONFIG_SPI_ORION is not set
-# CONFIG_SPI_ROCKCHIP is not set
-# CONFIG_SPI_QUP is not set
-# CONFIG_SPI_S3C64XX is not set
-# CONFIG_PINCTRL_MAX77620 is not set
-# CONFIG_PINCTRL_IPQ8074 is not set
-# CONFIG_PINCTRL_MSM8916 is not set
-# CONFIG_PINCTRL_MSM8994 is not set
-# CONFIG_PINCTRL_MSM8996 is not set
-# CONFIG_PINCTRL_QDF2XXX is not set
-# CONFIG_PINCTRL_QCOM_SPMI_PMIC is not set
-# CONFIG_GPIO_RCAR is not set
-# CONFIG_GPIO_XGENE_SB is not set
-# CONFIG_POWER_RESET_MSM is not set
-# CONFIG_ROCKCHIP_THERMAL is not set
-# CONFIG_EXYNOS_THERMAL is not set
-# CONFIG_S3C2410_WATCHDOG is not set
-# CONFIG_MESON_GXBB_WATCHDOG is not set
-# CONFIG_MESON_WATCHDOG is not set
-# CONFIG_RENESAS_WDT is not set
-# CONFIG_UNIPHIER_WATCHDOG is not set
-# CONFIG_BCM2835_WDT is not set
-# CONFIG_MFD_AXP20X_RSB is not set
-# CONFIG_MFD_EXYNOS_LPASS is not set
-# CONFIG_MFD_HI655X_PMIC is not set
-# CONFIG_MFD_SPMI_PMIC is not set
-# CONFIG_REGULATOR_AXP20X is not set
-# CONFIG_REGULATOR_HI655X is not set
-# CONFIG_REGULATOR_QCOM_SMD_RPM is not set
-# CONFIG_RPMSG is not set
-# CONFIG_IR_MESON is not set
-# CONFIG_VIDEO_SAMSUNG_S5P_JPEG is not set
-# CONFIG_VIDEO_SAMSUNG_S5P_MFC is not set
-# CONFIG_VIDEO_SAMSUNG_EXYNOS_GSC is not set
-# CONFIG_VIDEO_RENESAS_FCP is not set
-# CONFIG_VIDEO_RENESAS_VSP1 is not set
-# CONFIG_ROCKCHIP_ANALOGIX_DP is not set
-# CONFIG_ROCKCHIP_CDN_DP is not set
-# CONFIG_ROCKCHIP_DW_HDMI is not set
-# CONFIG_ROCKCHIP_DW_MIPI_DSI is not set
-# CONFIG_ROCKCHIP_INNO_HDMI is not set
-# CONFIG_SND_BCM2835_SOC_I2S is not set
-# CONFIG_SND_SOC_SAMSUNG is not set
-# CONFIG_SND_SOC_RCAR is not set
-# CONFIG_DRM_NOUVEAU is not set
-# CONFIG_DRM_EXYNOS is not set
-# CONFIG_DRM_EXYNOS5433_DECON is not set
-# CONFIG_DRM_EXYNOS7_DECON is not set
-# CONFIG_DRM_EXYNOS_DSI is not set
-# CONFIG_DRM_EXYNOS_DP is not set
-# CONFIG_DRM_EXYNOS_HDMI is not set
-# CONFIG_DRM_EXYNOS_MIC is not set
-# CONFIG_DRM_ROCKCHIP is not set
-# CONFIG_DRM_RCAR_DU is not set
-# CONFIG_DRM_RCAR_LVDS is not set
-# CONFIG_DRM_RCAR_VSP is not set
-# CONFIG_DRM_TEGRA is not set
-# CONFIG_DRM_VC4 is not set
-# CONFIG_DRM_MESON is not set
-# CONFIG_USB_XHCI_TEGRA is not set
-# CONFIG_USB_EHCI_MSM is not set
-# CONFIG_USB_EHCI_EXYNOS is not set
-# CONFIG_USB_OHCI_EXYNOS is not set
-# CONFIG_USB_RENESAS_USBHS is not set
-# CONFIG_USB_QCOM_8X16_PHY is not set
-# CONFIG_RASPBERRYPI_FIRMWARE is not set
-# CONFIG_PHY_SUN4I_USB is not set
-# CONFIG_PHY_HI6220_USB is not set
-# CONFIG_PHY_RCAR_GEN3_USB2 is not set
-# CONFIG_PHY_ROCKCHIP_EMMC is not set
-# CONFIG_PHY_ROCKCHIP_INNO_USB2 is not set
-# CONFIG_PHY_ROCKCHIP_PCIE is not set
-# CONFIG_PHY_TEGRA_XUSB is not set
-# CONFIG_QCOM_L2_PMU is not set
-# CONFIG_QCOM_L3_PMU is not set
-# CONFIG_PWM_MESON is not set
-# CONFIG_PWM_ROCKCHIP is not set
-# CONFIG_PWM_SAMSUNG is not set
-# CONFIG_PWM_TEGRA is not set
-# CONFIG_QCOM_SMEM is not set
-# CONFIG_QCOM_SMD_RPM is not set
-# CONFIG_QCOM_SMP2P is not set
-# CONFIG_QCOM_SMSM is not set
-# CONFIG_ROCKCHIP_PM_DOMAINS is not set
-# CONFIG_ARCH_TEGRA_132_SOC is not set
-# CONFIG_ARCH_TEGRA_210_SOC is not set
-# CONFIG_ARCH_TEGRA_186_SOC is not set
-# CONFIG_EXYNOS_ADC is not set
-# CONFIG_ROCKCHIP_SARADC is not set
-# CONFIG_PWM_BCM2835 is not set
-# CONFIG_RPMSG_QCOM_SMD is not set
-# CONFIG_RASPBERRYPI_POWER is not set
-# CONFIG_BCM2835_MBOX is not set
-# CONFIG_HI6220_MBOX is not set
-# CONFIG_ROCKCHIP_IOMMU is not set
-# CONFIG_HWSPINLOCK_QCOM is not set
-# CONFIG_COMMON_CLK_QCOM is not set
-# CONFIG_QCOM_CLK_SMD_RPM is not set
-# CONFIG_IPQ_GCC_8074 is not set
-# CONFIG_MSM_GCC_8916 is not set
-# CONFIG_MSM_GCC_8994 is not set
-# CONFIG_MSM_MMCC_8996 is not set
-# CONFIG_USB_RENESAS_USBHS_UDC is not set
-# CONFIG_MMC_SDHCI_OF_ESDHC is not set
-# CONFIG_XEN_GNTDEV is not set
-# CONFIG_XEN_GRANT_DEV_ALLOC is not set
-# CONFIG_RCAR_DMAC is not set
-# CONFIG_TEGRA20_APB_DMA is not set
-# CONFIG_QCOM_BAM_DMA is not set
-# CONFIG_K3_DMA is not set
-# CONFIG_DMA_BCM2835 is not set
-# CONFIG_RTC_DRV_XGENE is not set
-# CONFIG_RTC_DRV_TEGRA is not set
-# CONFIG_RTC_DRV_S3C is not set
-# CONFIG_MMC_DW_ROCKCHIP is not set
-# CONFIG_MMC_SUNXI is not set
-# CONFIG_MMC_BCM2835 is not set
-# CONFIG_MMC_SDHCI_TEGRA is not set
-# CONFIG_MMC_MESON_GX is not set
-# CONFIG_MMC_SDHCI_MSM is not set
-# CONFIG_MMC_SDHI is not set
-# CONFIG_MMC_DW_EXYNOS is not set
diff --git a/imx8m/evk_a100/android_secure_defconfig b/imx8m/evk_a100/android_secure_defconfig
deleted file mode 100644
index 9dea4bc9..00000000
--- a/imx8m/evk_a100/android_secure_defconfig
+++ /dev/null
@@ -1,2 +0,0 @@
-# CONFIG_SERIAL_IMX_CONSOLE is not set
-# CONFIG_DEBUG_FS is not set
diff --git a/imx8m/evk_a100/app_whitelist.xml b/imx8m/evk_a100/app_whitelist.xml
deleted file mode 100644
index 0084b334..00000000
--- a/imx8m/evk_a100/app_whitelist.xml
+++ /dev/null
@@ -1,36 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
-
-<!--
-/* Copyright (c) 2017, The Linux Foundation. All rights reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions are
- * met:
- *     * Redistributions of source code must retain the above copyright
- *       notice, this list of conditions and the following disclaimer.
- *     * Redistributions in binary form must reproduce the above
- *       copyright notice, this list of conditions and the following
- *       disclaimer in the documentation and/or other materials provided
- *       with the distribution.
- *     * Neither the name of The Linux Foundation nor the names of its
- *       contributors may be used to endorse or promote products derived
- *       from this software without specific prior written permission.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESS OR IMPLIED
- * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT
- * ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
- * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
- * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
- * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
- * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
- * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
- * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
- * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
- */
--->
-
-<config>
-    <!-- deskclock need to freely run in the background -->
-    <allow-in-power-save package="com.android.deskclock" />
-</config>
diff --git a/imx8m/evk_a100/audio_effects.xml b/imx8m/evk_a100/audio_effects.xml
deleted file mode 100644
index a1c1fc2a..00000000
--- a/imx8m/evk_a100/audio_effects.xml
+++ /dev/null
@@ -1,26 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<audio_effects_conf version="2.0" xmlns="http://schemas.android.com/audio/audio_effects_conf/v2_0">
-    <libraries>
-        <library name="bundle" path="libbundlewrapper.so"/>
-        <library name="reverb" path="libreverbwrapper.so"/>
-        <library name="visualizer" path="libvisualizer.so"/>
-        <library name="downmix" path="libdownmix.so"/>
-        <library name="loudness_enhancer" path="libldnhncr.so"/>
-        <library name="dynamics_processing" path="libdynproc.so"/>
-    </libraries>
-
-    <effects>
-        <effect name="bassboost" library="bundle" uuid="8631f300-72e2-11df-b57e-0002a5d5c51b"/>
-        <effect name="virtualizer" library="bundle" uuid="1d4033c0-8557-11df-9f2d-0002a5d5c51b"/>
-        <effect name="equalizer" library="bundle" uuid="ce772f20-847d-11df-bb17-0002a5d5c51b"/>
-        <effect name="volume" library="bundle" uuid="119341a0-8469-11df-81f9-0002a5d5c51b"/>
-        <effect name="reverb_env_aux" library="reverb" uuid="4a387fc0-8ab3-11df-8bad-0002a5d5c51b"/>
-        <effect name="reverb_env_ins" library="reverb" uuid="c7a511a0-a3bb-11df-860e-0002a5d5c51b"/>
-        <effect name="reverb_pre_aux" library="reverb" uuid="f29a1400-a3bb-11df-8ddc-0002a5d5c51b"/>
-        <effect name="reverb_pre_ins" library="reverb" uuid="172cdf00-a3bc-11df-a72f-0002a5d5c51b"/>
-        <effect name="visualizer" library="visualizer" uuid="d069d9e0-8329-11df-9168-0002a5d5c51b"/>
-        <effect name="downmix" library="downmix" uuid="93f04452-e4fe-41cc-91f9-e475b6d1d69f"/>
-        <effect name="loudness_enhancer" library="loudness_enhancer" uuid="fa415329-2034-4bea-b5dc-5b381c8d1e2c"/>
-        <effect name="dynamics_processing" library="dynamics_processing" uuid="e0e6539b-1781-7261-676f-6d7573696340"/>
-    </effects>
-</audio_effects_conf>
diff --git a/imx8m/evk_a100/audio_policy_configuration.xml b/imx8m/evk_a100/audio_policy_configuration.xml
deleted file mode 100644
index b853c565..00000000
--- a/imx8m/evk_a100/audio_policy_configuration.xml
+++ /dev/null
@@ -1,115 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
-<!-- Copyright (C) 2017 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
-    <globalConfiguration speaker_drc_enabled="true"/>
-
-    <modules>
-        <module name="primary" halVersion="2.0">
-            <attachedDevices>
-                <item>Speaker</item>
-                <item>Wired Headphones</item>
-                <item>Built-In Mic</item>
-                <item>Wired-In Headsets</item>
-            </attachedDevices>
-            <defaultOutputDevice>Wired Headphones</defaultOutputDevice>
-            <defaultInputDevice>Wired-In Headsets</defaultInputDevice>
-            <mixPorts>
-                <mixPort name="primary output" role="source" flags="AUDIO_OUTPUT_FLAG_PRIMARY">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-                <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_HW_AV_SYNC">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000,96000,192000,384000,768000"
-                             channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_QUAD,AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
-                    <profile name="" format="AUDIO_FORMAT_PCM_FLOAT"
-                             samplingRates="48000,96000,192000,384000,768000"
-                             channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_QUAD,AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
-                </mixPort>
-                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
-                    <profile name="" format="AUDIO_FORMAT_DSD"
-                             samplingRates="2822400,5644800,11289600,22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-                <mixPort name="bt sco output" role="source">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="16000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-
-                <mixPort name="primary input" role="sink">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
-                </mixPort>
-            </mixPorts>
-            <devicePorts>
-                <devicePort tagName="Speaker" type="AUDIO_DEVICE_OUT_SPEAKER" role="sink" >
-                </devicePort>
-                <devicePort tagName="Wired Headphones" type="AUDIO_DEVICE_OUT_WIRED_HEADPHONE" role="sink">
-                </devicePort>
-                <devicePort tagName="Line-Out" type="AUDIO_DEVICE_OUT_LINE" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO Headset" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO_HEADSET" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO CarKit" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO_CARKIT" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO" role="sink">
-                </devicePort>
-
-                <devicePort tagName="Built-In Mic" type="AUDIO_DEVICE_IN_BUILTIN_MIC" role="source">
-                </devicePort>
-                <devicePort tagName="Spdif-In" type="AUDIO_DEVICE_IN_AUX_DIGITAL" role="source">
-                </devicePort>
-                <devicePort tagName="Wired-In Headsets" type="AUDIO_DEVICE_IN_WIRED_HEADSET" role="source">
-                </devicePort>
-                <devicePort tagName="BT SCO Headset Mic" type="AUDIO_DEVICE_IN_BLUETOOTH_SCO_HEADSET" role="source">
-                </devicePort>
-            </devicePorts>
-            <routes>
-                <route type="mix" sink="Speaker"
-                       sources="primary output"/>
-                <route type="mix" sink="Wired Headphones"
-                       sources="dsd output,esai output,primary output"/>
-                <route type="mix" sink="Line-Out"
-                       sources="dsd output,esai output,primary output"/>
-                <route type="mix" sink="BT SCO Headset"
-                       sources="bt sco output"/>
-                <route type="mix" sink="BT SCO CarKit"
-                       sources="bt sco output"/>
-                <route type="mix" sink="BT SCO"
-                       sources="bt sco output"/>
-
-                <route type="mix" sink="primary input"
-                       sources="Wired-In Headsets,Built-In Mic,Spdif-In,BT SCO Headset Mic"/>
-            </routes>
-        </module>
-
-        <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
-
-        <!-- Usb Audio HAL -->
-        <xi:include href="usb_audio_policy_configuration.xml"/>
-
-        <!-- Remote Submix Audio HAL -->
-        <xi:include href="r_submix_audio_policy_configuration.xml"/>
-
-    </modules>
-
-    <!-- Volume section -->
-    <xi:include href="audio_policy_volumes.xml"/>
-    <xi:include href="default_volume_tables.xml"/>
-
-</audioPolicyConfiguration>
diff --git a/imx8m/evk_a100/bluetooth/bdroid_buildcfg.h b/imx8m/evk_a100/bluetooth/bdroid_buildcfg.h
deleted file mode 100644
index 606e9abb..00000000
--- a/imx8m/evk_a100/bluetooth/bdroid_buildcfg.h
+++ /dev/null
@@ -1,34 +0,0 @@
-/*
- * Copyright (C) 2012 The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-/* Copyright (C) 2015-2016 Freescale Semiconductor, Inc. */
-/* Copyright 2017-2018 NXP */
-
-#ifndef _BDROID_BUILDCFG_H
-#define _BDROID_BUILDCFG_H
-
-#define BTM_DEF_LOCAL_NAME "iMX8"
-
-// Disables Interleave scan
-#define BTA_HOST_INTERLEAVE_SEARCH  FALSE
-// skips conn update at conn completion
-#define BTA_BLE_SKIP_CONN_UPD  TRUE
-// Disables read remote device feature
-#define BTA_SKIP_BLE_READ_REMOTE_FEAT TRUE
-
-//Enable A2DPSink AVRCPController
-#define BTA_AV_SINK_INCLUDED TRUE
-#endif
diff --git a/imx8m/evk_a100/camera_config_imx8mn.json b/imx8m/evk_a100/camera_config_imx8mn.json
deleted file mode 100644
index b3713f24..00000000
--- a/imx8m/evk_a100/camera_config_imx8mn.json
+++ /dev/null
@@ -1,44 +0,0 @@
-{
-  "__readme": [
-    "Basic Camera HAL v3 configuration."
-  ],
-
-  "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "CPU",
-
-  "camera_metadata": [
-    {
-      "camera_type": "back",
-      "camera_name": "mxc-isi-cap",
-      "orientation": "0",
-      "buffer_type": "dma",
-      "ActiveArrayWidth": "1920",
-      "ActiveArrayHeight": "1080",
-      "PixelArrayWidth": "1920",
-      "PixelArrayHeight": "1080",
-      "PhysicalWidth": "2.688",
-      "PhysicalHeight": "1.512",
-      "FocalLength": "3.42",
-      "MaxJpegSize": "4194304",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000"
-    },
-    {
-      "camera_type": "front",
-      "camera_name": "uvc",
-      "orientation": "0",
-      "buffer_type": "dma",
-      "ActiveArrayWidth": "1920",
-      "ActiveArrayHeight": "1080",
-      "PixelArrayWidth": "1920",
-      "PixelArrayHeight": "1080",
-      "PhysicalWidth": "2.688",
-      "PhysicalHeight": "1.512",
-      "FocalLength": "3.42",
-      "MaxJpegSize": "4194304",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000"
-    }
-  ]
-}
diff --git a/imx8m/evk_a100/compatibility_matrix.xml b/imx8m/evk_a100/compatibility_matrix.xml
deleted file mode 100644
index 67ab2209..00000000
--- a/imx8m/evk_a100/compatibility_matrix.xml
+++ /dev/null
@@ -1,62 +0,0 @@
-<compatibility-matrix version="1.0" type="device">
-    <hal format="hidl" optional="false">
-        <name>android.frameworks.schedulerservice</name>
-        <version>1.0</version>
-        <interface>
-            <name>ISchedulingPolicyService</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.frameworks.sensorservice</name>
-        <version>1.0</version>
-        <interface>
-            <name>ISensorManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.allocator</name>
-        <version>1.0</version>
-        <interface>
-            <name>IAllocator</name>
-            <instance>ashmem</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.manager</name>
-        <version>1.0</version>
-        <interface>
-            <name>IServiceManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.memory</name>
-        <version>1.0</version>
-        <interface>
-            <name>IMapper</name>
-            <instance>ashmem</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.token</name>
-        <version>1.0</version>
-        <interface>
-            <name>ITokenManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.system.wifi.keystore</name>
-        <version>1.0</version>
-        <interface>
-            <name>IKeystore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="native" optional="false">
-        <name>netutils-wrapper</name>
-        <version>1.0</version>
-    </hal>
-</compatibility-matrix>
diff --git a/imx8m/evk_a100/early.init.cfg b/imx8m/evk_a100/early.init.cfg
deleted file mode 100644
index 7403f68b..00000000
--- a/imx8m/evk_a100/early.init.cfg
+++ /dev/null
@@ -1,4 +0,0 @@
-insmod vendor/lib/modules/brcmutil.ko
-insmod vendor/lib/modules/brcmfmac.ko
-insmod vendor/lib/modules/wlan.ko
-insmod vendor/lib/modules/synaptics_dsx_i2c.ko
diff --git a/imx8m/evk_a100/evk_8mn.mk b/imx8m/evk_a100/evk_8mn.mk
deleted file mode 100644
index ad643048..00000000
--- a/imx8m/evk_a100/evk_8mn.mk
+++ /dev/null
@@ -1,348 +0,0 @@
-# This is a FSL Android Reference Design platform based on i.MX8QP ARD board
-# It will inherit from FSL core product which in turn inherit from Google generic
-
-IMX_DEVICE_PATH := device/fsl/imx8m/evk_8mn
-
-# configs shared between uboot, kernel and Android rootfs
-include $(IMX_DEVICE_PATH)/SharedBoardConfig.mk
-
--include device/fsl/common/imx_path/ImxPathConfig.mk
-include device/fsl/imx8m/ProductConfigCommon.mk
-
-ifneq ($(wildcard $(IMX_DEVICE_PATH)/fstab.freescale),)
-$(shell touch $(IMX_DEVICE_PATH)/fstab.freescale)
-endif
-
-# Overrides
-PRODUCT_NAME := evk_8mn
-PRODUCT_DEVICE := evk_8mn
-PRODUCT_MODEL := EVK_8MN
-
-PRODUCT_FULL_TREBLE_OVERRIDE := true
-
-#Enable this to choose 32 bit user space build
-#IMX8_BUILD_32BIT_ROOTFS := true
-
-#Enable this to use dynamic partitions for the readonly partitions not touched by bootloader
-TARGET_USE_DYNAMIC_PARTITIONS ?= true
-#If the device is retrofit to have dynamic partition feature, set this variable to true to build
-#the images and OTA package. Here is a demo to update 10.0.0_1.0.0 to 10.0.0_2.0.0 or higher
-TARGET_USE_RETROFIT_DYNAMIC_PARTITION ?= false
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  PRODUCT_USE_DYNAMIC_PARTITIONS := true
-  BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
-  BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
-  ifeq ($(TARGET_USE_RETROFIT_DYNAMIC_PARTITION),true)
-    PRODUCT_RETROFIT_DYNAMIC_PARTITIONS := true
-    BOARD_SUPER_PARTITION_METADATA_DEVICE := system
-    ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 2952790016
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-    else
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor product
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 1610612736
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-      BOARD_SUPER_PARTITION_PRODUCT_DEVICE_SIZE := 1879048192
-    endif
-  endif
-endif
-
-# Include keystore attestation keys and certificates.
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
--include $(IMX_SECURITY_PATH)/attestation/imx_attestation.mk
-endif
-
-# Include Android Go config for low memory device.
-ifeq ($(LOW_MEMORY),true)
-$(call inherit-product, build/target/product/go_defaults.mk)
-endif
-
-# Copy device related config and binary to board
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/mcu-sdk/imx8mn/imx8mn_mcu_demo.img:imx8mn_mcu_demo.img \
-    $(IMX_DEVICE_PATH)/app_whitelist.xml:system/etc/sysconfig/app_whitelist.xml \
-    $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
-    $(IMX_DEVICE_PATH)/usb_audio_policy_configuration-direct-output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/usb_audio_policy_configuration-direct-output.xml \
-    $(IMX_DEVICE_PATH)/fstab.freescale:$(TARGET_COPY_OUT_VENDOR)/etc/fstab.freescale \
-    $(IMX_DEVICE_PATH)/init.imx8mn.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.imx8mn.rc \
-    $(IMX_DEVICE_PATH)/init.recovery.freescale.rc:root/init.recovery.freescale.rc \
-    $(IMX_DEVICE_PATH)/early.init.cfg:$(TARGET_COPY_OUT_VENDOR)/etc/early.init.cfg \
-    $(IMX_DEVICE_PATH)/init.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.rc \
-    $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.usb.rc \
-    $(IMX_DEVICE_PATH)/required_hardware.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/required_hardware.xml \
-    $(IMX_DEVICE_PATH)/ueventd.freescale.rc:$(TARGET_COPY_OUT_VENDOR)/ueventd.rc \
-    $(LINUX_FIRMWARE_IMX_PATH)/linux-firmware-imx/firmware/sdma/sdma-imx7d.bin:$(TARGET_COPY_OUT_VENDOR)/firmware/imx/sdma/sdma-imx7d.bin \
-    device/fsl/common/init/init.insmod.sh:$(TARGET_COPY_OUT_VENDOR)/bin/init.insmod.sh \
-    device/fsl/common/wifi/p2p_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/p2p_supplicant_overlay.conf \
-    device/fsl/common/wifi/wpa_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/wpa_supplicant_overlay.conf
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/dynamic_partiton_tools/lpmake:lpmake \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/dynamic_partiton_tools/lpmake.exe:lpmake.exe
-endif
-
-# Audio card json
-PRODUCT_COPY_FILES += \
-    device/fsl/common/audio-json/wm8524_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/wm8524_config.json \
-    device/fsl/common/audio-json/spdif_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/spdif_config.json \
-    device/fsl/common/audio-json/micfil_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/micfil_config.json \
-    device/fsl/common/audio-json/btsco_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/btsco_config.json \
-    device/fsl/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_COPY_FILES += \
-    device/fsl/common/security/rpmb_key_test.bin:rpmb_key_test.bin \
-    device/fsl/common/security/testkey_public_rsa4096.bin:testkey_public_rsa4096.bin
-endif
-
-PRODUCT_COPY_FILES += \
-    device/fsl/imx8m/evk_8mn/camera_config_imx8mn.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/camera_config_imx8mn.json
-
-# ONLY devices that meet the CDD's requirements may declare these features
-PRODUCT_COPY_FILES += \
-    frameworks/native/data/etc/android.hardware.audio.output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.audio.output.xml \
-    frameworks/native/data/etc/android.hardware.bluetooth_le.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.bluetooth_le.xml \
-    frameworks/native/data/etc/android.hardware.camera.front.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.front.xml \
-    frameworks/native/data/etc/android.hardware.camera.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.xml \
-    frameworks/native/data/etc/android.hardware.ethernet.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.ethernet.xml \
-    frameworks/native/data/etc/android.hardware.screen.landscape.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.landscape.xml \
-    frameworks/native/data/etc/android.hardware.screen.portrait.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.portrait.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.distinct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.distinct.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.xml \
-    frameworks/native/data/etc/android.hardware.usb.accessory.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.accessory.xml \
-    frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
-    frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
-    frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
-    frameworks/native/data/etc/android.software.app_widgets.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.app_widgets.xml \
-    frameworks/native/data/etc/android.software.backup.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.backup.xml \
-    frameworks/native/data/etc/android.software.device_admin.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.device_admin.xml \
-    frameworks/native/data/etc/android.software.managed_users.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.managed_users.xml \
-    frameworks/native/data/etc/android.software.print.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.print.xml \
-    frameworks/native/data/etc/android.software.sip.voip.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.sip.voip.xml \
-    frameworks/native/data/etc/android.software.verified_boot.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.verified_boot.xml \
-    frameworks/native/data/etc/android.software.voice_recognizers.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.voice_recognizers.xml \
-    frameworks/native/data/etc/android.software.activities_on_secondary_displays.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.activities_on_secondary_displays.xml \
-    frameworks/native/data/etc/android.software.picture_in_picture.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.picture_in_picture.xml
-
-# Vendor seccomp policy files for media components:
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/seccomp/mediacodec-seccomp.policy:vendor/etc/seccomp_policy/mediacodec.policy \
-    $(IMX_DEVICE_PATH)/seccomp/mediaextractor-seccomp.policy:vendor/etc/seccomp_policy/mediaextractor.policy
-
-PRODUCT_COPY_FILES += \
-    device/fsl/imx8m/evk_8mn/powerhint_imx8mn.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/powerhint_imx8mn.json
-
-# fastboot_imx_flashall scripts, fsl-sdcard-partition script uuu_imx_android_flash scripts
-PRODUCT_COPY_FILES += \
-    device/fsl/common/tools/fastboot_imx_flashall.bat:fastboot_imx_flashall.bat \
-    device/fsl/common/tools/fastboot_imx_flashall.sh:fastboot_imx_flashall.sh \
-    device/fsl/common/tools/fsl-sdcard-partition.sh:fsl-sdcard-partition.sh \
-    device/fsl/common/tools/uuu_imx_android_flash.bat:uuu_imx_android_flash.bat \
-    device/fsl/common/tools/uuu_imx_android_flash.sh:uuu_imx_android_flash.sh
-
-# Copy media_codecs.xml for 1GB evk_imx8mn board
-ifeq ($(LOW_MEMORY),true)
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/media-profile/imx8mn/media_codecs_no_vpu.xml:$(TARGET_COPY_OUT_VENDOR)/etc/media_codecs.xml
-endif
-
-USE_XML_AUDIO_POLICY_CONF := 1
-
-DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
-
-PRODUCT_CHARACTERISTICS := tablet
-
-PRODUCT_AAPT_CONFIG += xlarge large tvdpi hdpi xhdpi xxhdpi
-
-# GPU openCL g2d
-PRODUCT_COPY_FILES += \
-    $(IMX_PATH)/imx/opencl-2d/cl_g2d.cl:$(TARGET_COPY_OUT_VENDOR)/etc/cl_g2d.cl
-
-# HWC2 HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.composer@2.3-service
-
-# Gralloc HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.mapper@2.0-impl-2.1 \
-    android.hardware.graphics.allocator@2.0-impl \
-    android.hardware.graphics.allocator@2.0-service
-
-# RenderScript HAL
-PRODUCT_PACKAGES += \
-    android.hardware.renderscript@1.0-impl
-
-PRODUCT_PACKAGES += \
-    libEGL_VIVANTE \
-    libGLESv1_CM_VIVANTE \
-    libGLESv2_VIVANTE \
-    gralloc_viv.imx \
-    libGAL \
-    libGLSLC \
-    libVSC \
-    libgpuhelper \
-    libSPIRV_viv \
-    libvulkan_VIVANTE \
-    vulkan.imx \
-    libCLC \
-    libLLVM_viv \
-    libOpenCL \
-    libg2d-opencl \
-    libg2d-viv \
-    libOpenVX \
-    libOpenVXU \
-    libNNVXCBinary-evis \
-    libNNVXCBinary-evis2 \
-    libNNVXCBinary-lite \
-    libOvx12VXCBinary-evis \
-    libOvx12VXCBinary-evis2 \
-    libOvx12VXCBinary-lite \
-    libNNGPUBinary-evis \
-    libNNGPUBinary-evis2 \
-    libNNGPUBinary-lite \
-    libNNGPUBinary-ulite \
-    libNNArchPerf \
-    libarchmodelSw \
-    gatekeeper.imx
-
-# Neural Network HAL and Lib
-PRODUCT_PACKAGES += \
-    libovxlib \
-    libnnrt \
-    android.hardware.neuralnetworks@1.2-service-vsi-npu-server
-
-PRODUCT_PACKAGES += \
-    android.hardware.audio@5.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@5.0-impl:32 \
-    android.hardware.power@1.3-service.imx \
-    android.hardware.light@2.0-impl \
-    android.hardware.light@2.0-service \
-    android.hardware.configstore@1.1-service \
-    configstore@1.1.policy
-
-# Thermal HAL
-PRODUCT_PACKAGES += \
-    android.hardware.thermal@2.0-service.imx
-PRODUCT_COPY_FILES += \
-    device/fsl/imx8m/evk_8mn/thermal_info_config_imx8mn.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mn.json
-
-# Usb HAL
-PRODUCT_PACKAGES += \
-    android.hardware.usb@1.1-service.imx
-
-# Bluetooth HAL
-PRODUCT_PACKAGES += \
-    android.hardware.bluetooth@1.0-impl \
-    android.hardware.bluetooth@1.0-service
-
-# NXP 8987 Bluetooth vendor config
-PRODUCT_PACKAGES += \
-    bt_vendor.conf
-
-# WiFi HAL
-PRODUCT_PACKAGES += \
-    android.hardware.wifi@1.0-service \
-    wifilogd \
-    wificond
-
-# NXP 8987 Wifi and Bluetooth Combo Firmware
-PRODUCT_COPY_FILES += \
-    vendor/nxp/imx-firmware/nxp/FwImage_8987/sdiouart8987_combo_v0.bin:vendor/firmware/sdiouart8987_combo_v0.bin
-
-# Wifi regulatory
-PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
-
-# Keymaster HAL
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@3.0-service.trusty
-endif
-
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@3.0-impl \
-    android.hardware.keymaster@3.0-service
-
-# DRM HAL
-TARGET_ENABLE_MEDIADRM_64 := true
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.0-impl \
-    android.hardware.drm@1.0-service
-
-# new gatekeeper HAL
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-impl \
-    android.hardware.gatekeeper@1.0-service
-
-ifneq ($(BUILD_TARGET_FS),ubifs)
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.frp.pst=/dev/block/by-name/presistdata
-endif
-
-# ro.product.first_api_level indicates the first api level the device has commercially launched on.
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.product.first_api_level=28
-
-PRODUCT_PACKAGES += \
-    DirectAudioPlayer
-
-# Add oem unlocking option in settings.
-PRODUCT_PROPERTY_OVERRIDES += ro.frp.pst=/dev/block/by-name/presistdata
-PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
-
-# Add Trusty OS backed gatekeeper and secure storage proxy
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    gatekeeper.trusty \
-    storageproxyd
-endif
-
-#Dumpstate HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.dumpstate@1.0-service.imx
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-#Oemlock HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.oemlock@1.0-service.imx
-endif
-
-# Specify rollback index for bootloader and for AVB
-ifneq ($(AVB_RBINDEX),)
-BOARD_AVB_ROLLBACK_INDEX := $(AVB_RBINDEX)
-else
-BOARD_AVB_ROLLBACK_INDEX := 0
-endif
-
-ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-$(call inherit-product, $(SRC_TARGET_DIR)/product/gsi_keys.mk)
-PRODUCT_PACKAGES += \
-    adb_debug.prop
-endif
-
-IMX-DEFAULT-G2D-LIB := libg2d-opencl
-
-ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
-ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
-INSTALL_64BIT_LIBRARY := true
-endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
-endif
-
-# imx c2 codec binary
-PRODUCT_PACKAGES += \
-    c2_component_register \
-    c2_component_register_ms \
-    c2_component_register_ra
-
-$(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
diff --git a/imx8m/evk_a100/evk_a100.mk b/imx8m/evk_a100/evk_a100.mk
deleted file mode 100644
index 6c39d175..00000000
--- a/imx8m/evk_a100/evk_a100.mk
+++ /dev/null
@@ -1,369 +0,0 @@
-# This is a FSL Android Reference Design platform based on i.MX8QP ARD board
-# It will inherit from FSL core product which in turn inherit from Google generic
-
-IMX_DEVICE_PATH := device/idtech/imx8m/evk_a100
-
-# configs shared between uboot, kernel and Android rootfs
-include $(IMX_DEVICE_PATH)/SharedBoardConfig.mk
-
--include device/idtech/common/imx_path/ImxPathConfig.mk
-include device/idtech/imx8m/ProductConfigCommon.mk
-
-ifneq ($(wildcard $(IMX_DEVICE_PATH)/fstab.freescale),)
-$(shell touch $(IMX_DEVICE_PATH)/fstab.freescale)
-endif
-
-# Overrides
-PRODUCT_NAME := evk_a100
-PRODUCT_DEVICE := evk_a100
-PRODUCT_MODEL := EVK_A100
-
-PRODUCT_FULL_TREBLE_OVERRIDE := true
-
-#Enable this to choose 32 bit user space build
-#IMX8_BUILD_32BIT_ROOTFS := true
-
-#Enable this to use dynamic partitions for the readonly partitions not touched by bootloader
-TARGET_USE_DYNAMIC_PARTITIONS ?= true
-#If the device is retrofit to have dynamic partition feature, set this variable to true to build
-#the images and OTA package. Here is a demo to update 10.0.0_1.0.0 to 10.0.0_2.0.0 or higher
-TARGET_USE_RETROFIT_DYNAMIC_PARTITION ?= false
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  PRODUCT_USE_DYNAMIC_PARTITIONS := true
-  BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
-  BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
-  ifeq ($(TARGET_USE_RETROFIT_DYNAMIC_PARTITION),true)
-    PRODUCT_RETROFIT_DYNAMIC_PARTITIONS := true
-    BOARD_SUPER_PARTITION_METADATA_DEVICE := system
-    ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 2952790016
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-    else
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor product
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 1610612736
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-      BOARD_SUPER_PARTITION_PRODUCT_DEVICE_SIZE := 1879048192
-    endif
-  endif
-endif
-
-#Enable this to config 1GB ddr on evk_a100
-#LOW_MEMORY := true
-
-# Include keystore attestation keys and certificates.
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
--include $(IMX_SECURITY_PATH)/attestation/imx_attestation.mk
-endif
-
-# Include Android Go config for low memory device.
-ifeq ($(LOW_MEMORY),true)
-$(call inherit-product, build/target/product/go_defaults.mk)
-endif
-
-# Copy device related config and binary to board
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/mcu-sdk/imx8mn/imx8mn_mcu_demo.img:imx8mn_mcu_demo.img \
-    $(IMX_DEVICE_PATH)/app_whitelist.xml:system/etc/sysconfig/app_whitelist.xml \
-    $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
-    $(IMX_DEVICE_PATH)/usb_audio_policy_configuration-direct-output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/usb_audio_policy_configuration-direct-output.xml \
-    $(IMX_DEVICE_PATH)/fstab.freescale:$(TARGET_COPY_OUT_VENDOR)/etc/fstab.freescale \
-    $(IMX_DEVICE_PATH)/init.imx8mn.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.imx8mn.rc \
-    $(IMX_DEVICE_PATH)/init.recovery.freescale.rc:root/init.recovery.freescale.rc \
-    $(IMX_DEVICE_PATH)/early.init.cfg:$(TARGET_COPY_OUT_VENDOR)/etc/early.init.cfg \
-    $(IMX_DEVICE_PATH)/init.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.rc \
-    $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.usb.rc \
-    $(IMX_DEVICE_PATH)/required_hardware.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/required_hardware.xml \
-    $(IMX_DEVICE_PATH)/ueventd.freescale.rc:$(TARGET_COPY_OUT_VENDOR)/ueventd.rc \
-    $(LINUX_FIRMWARE_IMX_PATH)/linux-firmware-imx/firmware/sdma/sdma-imx7d.bin:$(TARGET_COPY_OUT_VENDOR)/firmware/imx/sdma/sdma-imx7d.bin \
-    device/idtech/common/init/init.insmod.sh:$(TARGET_COPY_OUT_VENDOR)/bin/init.insmod.sh \
-    device/idtech/common/wifi/p2p_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/p2p_supplicant_overlay.conf \
-    device/idtech/common/wifi/bcm_wpa_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/wpa_supplicant_overlay.conf \
-    device/idtech/common/prebuilts/spl_tab.img:$(PRODUCT_OUT)/spl_tab.img \
-    device/idtech/common/prebuilts/mem_info.img:$(PRODUCT_OUT)/mem_info.img \
-    device/idtech/common/prebuilts/mem_info.txt:$(PRODUCT_OUT)/mem_info.txt
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/dynamic_partiton_tools/lpmake:lpmake \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/dynamic_partiton_tools/lpmake.exe:lpmake.exe
-endif
-
-# Audio card json
-PRODUCT_COPY_FILES += \
-    device/idtech/common/audio-json/wm8524_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/wm8524_config.json \
-    device/idtech/common/audio-json/spdif_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/spdif_config.json \
-    device/idtech/common/audio-json/micfil_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/micfil_config.json \
-    device/idtech/common/audio-json/btsco_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/btsco_config.json \
-    device/idtech/common/audio-json/rt5640_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/rt5640_config.json \
-    device/idtech/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_COPY_FILES += \
-    device/idtech/common/security/rpmb_key_test.bin:rpmb_key_test.bin \
-    device/idtech/common/security/testkey_public_rsa4096.bin:testkey_public_rsa4096.bin
-endif
-
-PRODUCT_COPY_FILES += \
-    device/idtech/imx8m/evk_a100/camera_config_imx8mn.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/camera_config_imx8mn.json
-
-# ONLY devices that meet the CDD's requirements may declare these features
-PRODUCT_COPY_FILES += \
-    frameworks/native/data/etc/android.hardware.audio.output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.audio.output.xml \
-    frameworks/native/data/etc/android.hardware.bluetooth_le.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.bluetooth_le.xml \
-    frameworks/native/data/etc/android.hardware.camera.front.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.front.xml \
-    frameworks/native/data/etc/android.hardware.camera.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.xml \
-    frameworks/native/data/etc/android.hardware.ethernet.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.ethernet.xml \
-    frameworks/native/data/etc/android.hardware.screen.landscape.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.landscape.xml \
-    frameworks/native/data/etc/android.hardware.screen.portrait.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.portrait.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.distinct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.distinct.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.xml \
-    frameworks/native/data/etc/android.hardware.usb.accessory.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.accessory.xml \
-    frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
-    frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
-    frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
-    frameworks/native/data/etc/android.software.app_widgets.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.app_widgets.xml \
-    frameworks/native/data/etc/android.software.backup.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.backup.xml \
-    frameworks/native/data/etc/android.software.device_admin.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.device_admin.xml \
-    frameworks/native/data/etc/android.software.managed_users.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.managed_users.xml \
-    frameworks/native/data/etc/android.software.print.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.print.xml \
-    frameworks/native/data/etc/android.software.sip.voip.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.sip.voip.xml \
-    frameworks/native/data/etc/android.software.verified_boot.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.verified_boot.xml \
-    frameworks/native/data/etc/android.software.voice_recognizers.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.voice_recognizers.xml \
-    frameworks/native/data/etc/android.software.activities_on_secondary_displays.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.activities_on_secondary_displays.xml \
-    frameworks/native/data/etc/android.software.picture_in_picture.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.picture_in_picture.xml
-
-# Vendor seccomp policy files for media components:
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/seccomp/mediacodec-seccomp.policy:vendor/etc/seccomp_policy/mediacodec.policy \
-    $(IMX_DEVICE_PATH)/seccomp/mediaextractor-seccomp.policy:vendor/etc/seccomp_policy/mediaextractor.policy
-
-PRODUCT_COPY_FILES += \
-    device/idtech/imx8m/evk_a100/powerhint_imx8mn.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/powerhint_imx8mn.json
-
-# fastboot_imx_flashall scripts, fsl-sdcard-partition script uuu_imx_android_flash scripts
-PRODUCT_COPY_FILES += \
-    device/idtech/common/tools/fastboot_imx_flashall.bat:fastboot_imx_flashall.bat \
-    device/idtech/common/tools/fastboot_imx_flashall.sh:fastboot_imx_flashall.sh \
-    device/idtech/common/tools/fsl-sdcard-partition.sh:fsl-sdcard-partition.sh \
-    device/idtech/common/tools/uuu_imx_android_flash.bat:uuu_imx_android_flash.bat \
-    device/idtech/common/tools/uuu_imx_android_flash.sh:uuu_imx_android_flash.sh
-
-# Copy media_codecs.xml for 1GB evk_a100 board
-ifeq ($(LOW_MEMORY),true)
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/media-profile/imx8mn/media_codecs_no_vpu.xml:$(TARGET_COPY_OUT_VENDOR)/etc/media_codecs.xml
-endif
-
-USE_XML_AUDIO_POLICY_CONF := 1
-
-DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
-
-PRODUCT_CHARACTERISTICS := tablet
-
-PRODUCT_AAPT_CONFIG += xlarge large tvdpi hdpi xhdpi xxhdpi
-
-# GPU openCL g2d
-PRODUCT_COPY_FILES += \
-    $(IMX_PATH)/imx/opencl-2d/cl_g2d.cl:$(TARGET_COPY_OUT_VENDOR)/etc/cl_g2d.cl
-
-# HWC2 HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.composer@2.3-service
-
-# Gralloc HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.mapper@2.0-impl-2.1 \
-    android.hardware.graphics.allocator@2.0-impl \
-    android.hardware.graphics.allocator@2.0-service
-
-# RenderScript HAL
-PRODUCT_PACKAGES += \
-    android.hardware.renderscript@1.0-impl
-
-PRODUCT_PACKAGES += \
-    libEGL_VIVANTE \
-    libGLESv1_CM_VIVANTE \
-    libGLESv2_VIVANTE \
-    gralloc_viv.imx \
-    libGAL \
-    libGLSLC \
-    libVSC \
-    libgpuhelper \
-    libSPIRV_viv \
-    libvulkan_VIVANTE \
-    vulkan.imx \
-    libCLC \
-    libLLVM_viv \
-    libOpenCL \
-    libg2d-opencl \
-    libg2d-viv \
-    libOpenVX \
-    libOpenVXU \
-    libNNVXCBinary-evis \
-    libNNVXCBinary-evis2 \
-    libNNVXCBinary-lite \
-    libOvx12VXCBinary-evis \
-    libOvx12VXCBinary-evis2 \
-    libOvx12VXCBinary-lite \
-    libNNGPUBinary-evis \
-    libNNGPUBinary-evis2 \
-    libNNGPUBinary-lite \
-    libNNGPUBinary-ulite \
-    libNNArchPerf \
-    libarchmodelSw \
-    gatekeeper.imx
-
-# Neural Network HAL and Lib
-PRODUCT_PACKAGES += \
-    libovxlib \
-    libnnrt \
-    android.hardware.neuralnetworks@1.2-service-vsi-npu-server
-
-PRODUCT_PACKAGES += \
-    android.hardware.audio@5.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@5.0-impl:32 \
-    android.hardware.power@1.3-service.imx \
-    android.hardware.light@2.0-impl \
-    android.hardware.light@2.0-service \
-    android.hardware.sensors@1.0-impl \
-    android.hardware.sensors@1.0-convert \
-    android.hardware.sensors@1.0-service \
-    android.hardware.configstore@1.1-service \
-    configstore@1.1.policy
-
-# Thermal HAL
-PRODUCT_PACKAGES += \
-    android.hardware.thermal@2.0-service.imx
-PRODUCT_COPY_FILES += \
-    device/idtech/imx8m/evk_a100/thermal_info_config_imx8mn.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mn.json
-
-# Usb HAL
-PRODUCT_PACKAGES += \
-    android.hardware.usb@1.1-service.imx
-
-# Bluetooth HAL
-PRODUCT_PACKAGES += \
-    android.hardware.bluetooth@1.0-impl \
-    android.hardware.bluetooth@1.0-service
-
-# BCM Bluetooth vendor config
-PRODUCT_PACKAGES += \
-    bt_vendor.conf
-
-# BCM 1MW Bluetooth Firmware
-PRODUCT_COPY_FILES += \
-    vendor/nxp/imx-firmware/cyw-wifi-bt/1MW_CYW43455/BCM4345C0.1MW.hcd:$(TARGET_COPY_OUT_VENDOR)/firmware/brcm/CYW4345C0.1MW.hcd
-
-# WiFi HAL
-PRODUCT_PACKAGES += \
-    android.hardware.wifi@1.0-service \
-    wifilogd \
-    wificond
-
-# BCM 1MW Wifi Firmware
-PRODUCT_COPY_FILES += \
-    vendor/nxp/imx-firmware/cyw-wifi-bt/1MW_CYW43455/brcmfmac43455-sdio.bin:$(TARGET_COPY_OUT_VENDOR)/firmware/brcm/brcmfmac43455-sdio.bin \
-    vendor/nxp/imx-firmware/cyw-wifi-bt/1MW_CYW43455/brcmfmac43455-sdio.clm_blob:$(TARGET_COPY_OUT_VENDOR)/firmware/brcm/brcmfmac43455-sdio.clm_blob \
-    vendor/nxp/imx-firmware/cyw-wifi-bt/1MW_CYW43455/brcmfmac43455-sdio.txt:$(TARGET_COPY_OUT_VENDOR)/firmware/brcm/brcmfmac43455-sdio.txt
-
-# Wifi regulatory
-PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
-
-# Keymaster HAL
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@3.0-service.trusty
-endif
-
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@3.0-impl \
-    android.hardware.keymaster@3.0-service
-
-# DRM HAL
-TARGET_ENABLE_MEDIADRM_64 := true
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.0-impl \
-    android.hardware.drm@1.0-service
-
-# new gatekeeper HAL
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-impl \
-    android.hardware.gatekeeper@1.0-service
-
-ifneq ($(BUILD_TARGET_FS),ubifs)
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.frp.pst=/dev/block/by-name/presistdata
-endif
-
-# ro.product.first_api_level indicates the first api level the device has commercially launched on.
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.product.first_api_level=28
-
-PRODUCT_PACKAGES += \
-    DirectAudioPlayer
-
-# Add oem unlocking option in settings.
-PRODUCT_PROPERTY_OVERRIDES += ro.frp.pst=/dev/block/by-name/presistdata
-PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
-
-# Add Trusty OS backed gatekeeper and secure storage proxy
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    gatekeeper.trusty \
-    storageproxyd
-endif
-
-#Dumpstate HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.dumpstate@1.0-service.imx
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-#Oemlock HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.oemlock@1.0-service.imx
-endif
-
-# Multi-Display launcher
-PRODUCT_PACKAGES += \
-    MultiClientInputMethod
-
-# Specify rollback index for bootloader and for AVB
-ifneq ($(AVB_RBINDEX),)
-BOARD_AVB_ROLLBACK_INDEX := $(AVB_RBINDEX)
-else
-BOARD_AVB_ROLLBACK_INDEX := 0
-endif
-
-ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-$(call inherit-product, $(SRC_TARGET_DIR)/product/gsi_keys.mk)
-PRODUCT_PACKAGES += \
-    adb_debug.prop
-endif
-
-IMX-DEFAULT-G2D-LIB := libg2d-opencl
-
-ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
-ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
-INSTALL_64BIT_LIBRARY := true
-endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
-endif
-
-# imx c2 codec binary
-PRODUCT_PACKAGES += \
-    c2_component_register \
-    c2_component_register_ms \
-    c2_component_register_ra
-
-$(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
-
diff --git a/imx8m/evk_a100/init.imx8mn.rc b/imx8m/evk_a100/init.imx8mn.rc
deleted file mode 100755
index 9eabc266..00000000
--- a/imx8m/evk_a100/init.imx8mn.rc
+++ /dev/null
@@ -1,53 +0,0 @@
-on early-boot
-
-    # Set OpenGLES version
-    setprop ro.opengles.version 196609
-
-    # Set GPU 3D minimum clock to 3/64
-    write /sys/bus/platform/drivers/galcore/gpu3DMinClock 3
-
-    # Set NN reject model by weights md5
-    setprop WEIGHT_MD5_CHECK 1
-
-    # change for FSL specific service
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
-    chmod 0440 /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
-
-on property:sys.boot_completed=1
-    # Set default CPU frequency governor
-    # configure governor settings for little cluster
-    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "schedutil"
-    # The rate-limit tunable in the schedutil governor applies to transitions to both lower and higher frequencies
-    # Set up and down limit to 200us/200us
-    write /sys/devices/system/cpu/cpufreq/schedutil/up_rate_limit_us 200
-    write /sys/devices/system/cpu/cpufreq/schedutil/down_rate_limit_us 200
-
-on property:sys.boot_completed=1
-    # update cpuset now that processors are up
-    write /dev/cpuset/foreground/cpus 0-3
-
-    # top-app gets all cpus
-    write /dev/cpuset/top-app/cpus 0-3
-
-    #background contains a small subset (generally one little core)
-    write /dev/cpuset/background/cpus 0
-
-    # add system-background cpuset, a new cpuset for system services
-    # that should not run on larger cores
-    # system-background is for system tasks that should only run on
-    # little cores, not on bigs to be used only by init
-    write /dev/cpuset/system-background/cpus 0-2
-
-on init
-    #IDtech added for AB ota update bootloader
-    symlink   /dev/block/mmcblk2boot0p1   /dev/block/by-name/spl_a
-    symlink   /dev/block/mmcblk2boot1p1   /dev/block/by-name/spl_b
-    symlink   /dev/block/mmcblk2boot0p2   /dev/block/by-name/spl_bak_a
-    symlink   /dev/block/mmcblk2boot1p2   /dev/block/by-name/spl_bak_b
diff --git a/imx8m/evk_a100/init.rc b/imx8m/evk_a100/init.rc
deleted file mode 100644
index bd433731..00000000
--- a/imx8m/evk_a100/init.rc
+++ /dev/null
@@ -1,322 +0,0 @@
-import /vendor/etc/init/hw/init.${ro.hardware}.usb.rc
-import /vendor/etc/init/hw/init.${ro.hardware}.${ro.boot.soc_type}.rc
-import /init.idtech.rc
-
-on early-init
-    # mount the debugfs
-    mount debugfs none /sys/kernel/debug/ mode=0755
-
-    # Mount binderfs
-    mkdir /dev/binderfs
-    mount binder binder /dev/binderfs stats=global
-    chmod 0755 /dev/binderfs
-
-    symlink /dev/binderfs/binder /dev/binder
-    symlink /dev/binderfs/hwbinder /dev/hwbinder
-    symlink /dev/binderfs/vndbinder /dev/vndbinder
-
-    chmod 0666 /dev/binderfs/hwbinder
-    chmod 0666 /dev/binderfs/binder
-    chmod 0666 /dev/binderfs/vndbinder
-
-
-on early-init
-    start early_init_sh
-
-    # Due keymaster start very early so set prop here
-    # Also gatekeeper share same role for keymaster
-    setprop ro.hardware.keystore ${ro.boot.keystore}
-    setprop ro.hardware.gatekeeper ${ro.boot.keystore}
-    setprop vendor.storageproxyd ${ro.boot.keystore}
-
-on init
-    start watchdogd
-
-    # Support legacy paths
-    symlink /sdcard /mnt/sdcard
-    symlink /sdcard /storage/sdcard0
-
-    # setup the global environment
-    export CORE_REGISTER_FILE /vendor/etc/core_register
-    export COMPONENT_REGISTER_FILE /vendor/etc/component_register
-    export CONTENTPIPE_REGISTER_FILE /vendor/etc/contentpipe_register
-
-    # disable cursor blink for fbcon, if no splash screen support
-    write /sys/class/graphics/fbcon/cursor_blink 0
-
-    # deattch the fbcon as hdmi hotplug conflict with fbcon
-    write /sys/class/vtconsole/vtcon1/bind 0
-
-    chown system system /dev/stune/top-app/schedtune.boost
-    chmod 664 /dev/stune/top-app/schedtune.boost
-    chown system system /dev/stune/top-app/schedtune.prefer_idle
-    chmod 664 /dev/stune/top-app/schedtune.prefer_idle
-    chown system system /dev/stune/foreground/schedtune.boost
-    chmod 664 /dev/stune/foreground/schedtune.boost
-    chown system system /dev/stune/foreground/schedtune.prefer_idle
-    chmod 664 /dev/stune/foreground/schedtune.prefer_idle
-    chown system system /dev/stune/schedtune.boost
-    chmod 664 /dev/stune/schedtune.boost
-
-    # set default schedTune value for foreground/top-app (only affects EAS)
-    write /dev/stune/foreground/schedtune.boost 10
-    write /dev/stune/foreground/schedtune.prefer_idle 1
-    write /dev/stune/top-app/schedtune.boost 40
-    write /dev/stune/top-app/schedtune.prefer_idle 1
-    write /dev/stune/rt/schedtune.boost 50
-    write /dev/stune/rt/schedtune.prefer_idle 1
-
-on late-fs
-    # Start keymaster service
-    start vendor.keymaster-3-0-${ro.boot.keystore}
-    setprop vendor.powerhal.init 1
-
-    mount_all /vendor/etc/fstab.freescale --late
-
-on late-fs && property:vendor.storageproxyd=trusty
-    start vendor.oemlock-1-0
-
-on early-boot
-    # For evk_8mn, when swap used about 400M, upgrade the level.
-    setprop ro.lmk.upgrade_pressure 80
-    setprop ro.lmk.downgrade_pressure 95
-    setprop ro.lmk.critical_upgrade true
-
-    # Set the host name which used in console
-    export HOSTNAME evk_a100
-
-    # Set permission for IIM node
-    symlink /dev/mxs_viim /dev/mxc_mem
-
-    # Enable Tethering in the Settings
-    setprop ro.tether.denied false
-
-    setprop hwc.stretch.filter  1
-
-    # fsl omx graphic manager media framework property
-    setprop rw.VIDEO_RENDER_NAME video_render.surface
-    setprop media.fsl_codec.flag 7
-
-    setprop camera.disable_zsl_mode 1
-
-    #Enable GPU 2D do CSC on imx8mn platform
-    setprop vendor.camera.2d.enable true
-
-   # Tweak the mmc device read ahead buffer size
-    write /sys/block/mmcblk1/queue/read_ahead_kb 2048
-    write /sys/block/mmcblk2/queue/read_ahead_kb 2048
-
-    # Set period_us for usb audio
-    setprop ro.audio.usb.period_us 20000
-
-    # Wifi firmware reload path
-    chown wifi wifi /sys/module/brcmfmac/parameters/alternative_fw_path
-
-    # Prepare for wifi
-    setprop wifi.interface wlan0
-    setprop wifi.direct.interface p2p-dev-wlan0
-
-    # Prepare for bluetooth
-    chmod 665 /sys/class/rfkill/rfkill0/state
-    chown bluetooth bluetooth /sys/class/rfkill/rfkill0/state
-    write /sys/class/rfkill/rfkill0/state 0
-
-    setprop persist.service.bdroid.bdaddr 22:22:67:C6:69:73
-
-    # Use ro.boot.lcd_density to override ro.sf.lcd_density
-    setprop ro.sf.lcd_density ${ro.boot.lcd_density}
-
-    # prepare for ril
-    setprop ro.ril.wake_lock_timeout 300
-
-    # Set tracefs permission to 755
-    chmod 0755 /sys/kernel/debug/tracing
-
-    # Set sw_sync group to graphics and set permission to 664
-    chown root graphics /sys/kernel/debug/sync/sw_sync
-    chmod 0664 /sys/kernel/debug/sync/sw_sync
-
-    # Default backlight device
-    #setprop hw.backlight.dev "32e10000.dsi_controller.0"
-    setprop hw.backlight.dev "backlight"
-    # Chmod/chown FSL specific sys entry
-    #chown system system /sys/class/backlight/32e10000.dsi_controller.0/brightness
-    #chmod 0660 /sys/class/backlight/32e10000.dsi_controller.0/brightness
-    chown system system /sys/class/backlight/backlight/brightness
-    chmod 0660 /sys/class/backlight/backlight/brightness
-
-    # For PWM2-4
-    chown system system /sys/class/backlight/pwm_2/brightness
-    chown system system /sys/class/backlight/pwm_3/brightness
-    chown system system /sys/class/backlight/pwm_4/brightness
-    chmod 0660 /sys/class/backlight/pwm_2/brightness
-    chmod 0660 /sys/class/backlight/pwm_3/brightness
-    chmod 0660 /sys/class/backlight/pwm_4/brightness
-
-    # Set light sensor sysfs path and light sensor threshold lux value
-    setprop ro.hardware.lightsensor "/sys/class/i2c-dev/i2c-0/device/0-0044/"
-    setprop ro.lightsensor.threshold  20
-
-    # Dectect DSF streams when scanning media
-    setprop ro.FSL_DSF_PARSER 1
-
-    # Allow DSD file(duration larger than 10s) can play
-    setprop audio.offload.min.duration.secs 10
-
-    # Enlarge limition of audio buffer allocation
-    setprop ro.af.client_heap_size_kbyte 32768
-
-    # enlarge media max memory size to 3G.
-    setprop ro.media.maxmem 3221225471
-
-    start vendor.wifi_hal_legacy
-
-
-service wpa_supplicant /vendor/bin/hw/wpa_supplicant \
-    -O/data/vendor/wifi/wpa/sockets -puse_p2p_group_interface=1 \
-    -g@android:wpa_wlan0
-    interface android.hardware.wifi.supplicant@1.0::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.1::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.2::ISupplicant default
-    class main
-    socket wpa_wlan0 dgram 660 wifi wifi
-    disabled
-    oneshot
-
-service sensor_fusion /vendor/bin/fsl_sensor_fusion
-    class late_start
-    seclabel u:r:sensors:s0
-    user system
-    group input
-    oneshot
-
-service vendor.sensors-hal-1-0 /vendor/bin/hw/android.hardware.sensors@1.0-service
-    class hal
-    user system
-    group system wakelock input root
-    capabilities BLOCK_SUSPEND SYS_NICE
-
-# Set watchdog timer to 30 seconds and pet it every 10 seconds to get a 20 second margin
-service watchdogd /system/bin/watchdogd 10 20
-    class core
-    seclabel u:r:watchdogd:s0
-
-service dhcpcd_wlan0 /system/bin/dhcpcd -aABDKL
-    class main
-    disabled
-    oneshot
-
-service dhcpcd_p2p /system/bin/dhcpcd -aABKL
-    class main
-    disabled
-    oneshot
-
-service dhcpcd_eth0 /system/bin/dhcpcd -ABKL eth0
-    class main
-    disabled
-    oneshot
-
-service dhcpcd_bt-pan /system/bin/dhcpcd -ABKL
-    class main
-    disabled
-    oneshot
-
-service iprenew_wlan0 /system/bin/dhcpcd -n
-    class main
-    disabled
-    oneshot
-
-service iprenew_p2p /system/bin/dhcpcd -n
-    class main
-    disabled
-    oneshot
-
-service iprenew_eth0 /system/bin/dhcpcd -n eth0
-    class main
-    disabled
-    oneshot
-
-service iprenew_bt-pan /system/bin/dhcpcd -n
-    class main
-    disabled
-    oneshot
-
-# bugreport is triggered by holding down volume down, volume up and power
-service bugreport /system/bin/dumpstate -d -p -B -z \
-        -o /data/user_de/0/com.android.shell/files/bugreports/bugreport
-    class main
-    disabled
-    oneshot
-    keycodes 114 115 116
-
-on boot
-    start audioserver
-    start mediadrm
-    start media
-    start drm
-
-on fs
-# mount ext4 partitions
-    mount_all /vendor/etc/fstab.freescale --early
-
-    # Adjust parameters for dm-verity device
-    write /sys/block/dm-0/queue/read_ahead_kb 4096
-
-    # Update dm-verity state and set partition.*.verified properties
-    verity_update_state
-
-on verity-logging
-    exec u:r:slideshow:s0 -- /sbin/slideshow warning/verity_red_1 warning/verity_red_2
-
-on post-fs
-    # Set netd memlock rlimit to 8MB
-    setrlimit 8 8388608 8388608
-
-    # Turn on swap
-    swapon_all /vendor/etc/fstab.freescale
-
-    # Swap in only 1 page at a time
-    write /proc/sys/vm/page-cluster 0
-
-    # Grant permission for fetching available_pages info of statsd
-    chown system system /proc/pagetypeinfo
-    chmod 0440 /proc/pagetypeinfo
-
-on post-fs-data
-    setprop vold.post_fs_data_done 1
-    # create temp node for secure storage proxy
-    mkdir /data/vendor/ss 0700 system system
-
-    # tmp dir for opencl Compiler
-    setprop TMPDIR /data/vendor/.opencl-cache
-    mkdir /data/vendor/.opencl-cache 0771 system camera
-
-on zygote-start
-    # Create the directories used by the Wireless subsystem
-    mkdir /data/misc/wifi 0770 wifi wifi
-    mkdir /data/misc/wifi/wpa_supplicant 0770 wifi wifi
-    mkdir /data/vendor/wifi 0771 wifi wifi
-    mkdir /data/vendor/wifi/wpa 0770 wifi wifi
-    mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
-    mkdir /data/misc/dhcp 0770 dhcp dhcp
-    chown dhcp dhcp /data/misc/dhcp
-
-service early_init_sh /vendor/bin/init.insmod.sh /vendor/etc/early.init.cfg sys.all.early_init.ready
-    class main
-    user root
-    group root system
-    disabled
-    oneshot
-
-on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty
-    start storageproxyd
-
-service storageproxyd /vendor/bin/storageproxyd -p /data/vendor/ss -r /dev/mmcblk2rpmb -d /dev/trusty-ipc-dev0
-   group system
-
-on property:ro.boot.vendor.sysrq=1
-    write /proc/sys/kernel/sysrq 1
-
-# setenv append_bootargs androidboot.usb.debugging=1
-on property:ro.boot.usb.debugging=1
-    setprop persist.sys.usb.config adb
diff --git a/imx8m/evk_a100/init.recovery.freescale.rc b/imx8m/evk_a100/init.recovery.freescale.rc
deleted file mode 100644
index db84a9ea..00000000
--- a/imx8m/evk_a100/init.recovery.freescale.rc
+++ /dev/null
@@ -1,5 +0,0 @@
-on init
-    # disable cursor blink for fbcon, if no splash screen support
-    write /sys/class/graphics/fbcon/cursor_blink 0
-
-    setprop sys.usb.configfs 1
diff --git a/imx8m/evk_a100/init.usb.rc b/imx8m/evk_a100/init.usb.rc
deleted file mode 100644
index aa27af45..00000000
--- a/imx8m/evk_a100/init.usb.rc
+++ /dev/null
@@ -1,52 +0,0 @@
-#
-# Copyright (C) 2016 The Android Open-Source Project
-# Copyright 2018 NXP
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-#      http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.
-#
-
-on early-boot
-    mount configfs none /config
-    mkdir /config/usb_gadget/g1 0770
-    mkdir /config/usb_gadget/g1/strings/0x409 0770
-    write /config/usb_gadget/g1/bcdUSB 0x0200
-    write /config/usb_gadget/g1/idVendor 0x18d1
-    write /config/usb_gadget/g1/bcdDevice 0x0440
-    write /config/usb_gadget/g1/strings/0x409/serialnumber ${ro.serialno}
-    write /config/usb_gadget/g1/strings/0x409/manufacturer ${ro.product.manufacturer}
-    write /config/usb_gadget/g1/strings/0x409/product ${ro.product.model}
-    mkdir /config/usb_gadget/g1/functions/mass_storage.0
-    mkdir /config/usb_gadget/g1/functions/accessory.gs2
-    mkdir /config/usb_gadget/g1/functions/audio_source.gs3
-    mkdir /config/usb_gadget/g1/functions/rndis.gs4
-    mkdir /config/usb_gadget/g1/functions/midi.gs5
-    mkdir /config/usb_gadget/g1/functions/ffs.adb
-    mkdir /config/usb_gadget/g1/functions/ffs.mtp
-    mkdir /config/usb_gadget/g1/functions/ffs.ptp
-    mkdir /config/usb_gadget/g1/configs/b.1 0770
-    mkdir /config/usb_gadget/g1/configs/b.1/strings/0x409 0770
-    write /config/usb_gadget/g1/os_desc/b_vendor_code 0x1
-    write /config/usb_gadget/g1/os_desc/qw_sign "MSFT100"
-    mkdir /dev/usb-ffs 0775 shell shell
-    mkdir /dev/usb-ffs/adb 0770 shell shell
-    mount functionfs adb /dev/usb-ffs/adb rmode=0770,fmode=0660,uid=2000,gid=2000
-    mkdir /dev/usb-ffs/mtp 0770 mtp mtp
-    mkdir /dev/usb-ffs/ptp 0770 mtp mtp
-    mount functionfs mtp /dev/usb-ffs/mtp rmode=0770,fmode=0660,uid=1024,gid=1024,no_disconnect=1
-    mount functionfs ptp /dev/usb-ffs/ptp rmode=0770,fmode=0660,uid=1024,gid=1024,no_disconnect=1
-    setprop sys.usb.mtp.device_type 3
-    setprop vendor.usb.config ${sys.usb.controller}
-    write /sys/module/libcomposite/parameters/disable_l1_for_hs "y"
-    symlink /config/usb_gadget/g1/configs/b.1 /config/usb_gadget/g1/os_desc/b.1
-
-on boot
-    setprop sys.usb.configfs 2
diff --git a/imx8m/evk_a100/manifest.xml b/imx8m/evk_a100/manifest.xml
deleted file mode 100644
index 0cc1b570..00000000
--- a/imx8m/evk_a100/manifest.xml
+++ /dev/null
@@ -1,247 +0,0 @@
-<manifest version="1.0" type="device" target-level="4">
-    <hal format="hidl">
-	<name>android.hardware.graphics.allocator</name>
-        <transport>hwbinder</transport>
-	<impl level="generic"></impl>
-	<version>2.0</version>
-	<interface>
-	    <name>IAllocator</name>
-	    <instance>default</instance>
-	</interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.composer</name>
-        <transport>hwbinder</transport>
-        <version>2.3</version>
-        <interface>
-            <name>IComposer</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>3.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>ICryptoFactory</name>
-            <instance>default</instance>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.gatekeeper</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IGatekeeper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.mapper</name>
-        <transport arch="32+64">passthrough</transport>
-        <impl level="generic"></impl>
-        <version>2.1</version>
-        <interface>
-            <name>IMapper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.renderscript</name>
-        <transport arch="32+64">passthrough</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.sensors</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>ISensors</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.configstore</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>ISurfaceFlingerConfigs</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.c2</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IComponentStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.omx</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IOmx</name>
-            <instance>default</instance>
-        </interface>
-        <interface>
-            <name>IOmxStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-       <name>android.hardware.wifi</name>
-       <transport>hwbinder</transport>
-       <version>1.3</version>
-       <interface>
-           <name>IWifi</name>
-           <instance>default</instance>
-       </interface>
-    </hal>
-    <hal format="hidl">
-       <name>android.hardware.wifi.supplicant</name>
-       <transport>hwbinder</transport>
-       <version>1.2</version>
-       <interface>
-           <name>ISupplicant</name>
-           <instance>default</instance>
-       </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.wifi.hostapd</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>IHostapd</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-       <name>android.hardware.camera.provider</name>
-	<transport>hwbinder</transport>
-	<impl level="generic"></impl>
-	<version>2.4</version>
-	<interface>
-	    <name>ICameraProvider</name>
-	    <instance>legacy/0</instance>
-	</interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.light</name>
-        <transport>hwbinder</transport>
-        <version>2.0</version>
-        <interface>
-            <name>ILight</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio</name>
-        <transport>hwbinder</transport>
-        <version>5.0</version>
-        <interface>
-            <name>IDevicesFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio.effect</name>
-        <transport>hwbinder</transport>
-		<version>5.0</version>
-        <interface>
-            <name>IEffectsFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.usb</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>IUsb</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.usb.gadget</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IUsbGadget</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.bluetooth</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IBluetoothHci</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.dumpstate</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDumpstateDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.oemlock</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IOemLock</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.health</name>
-        <transport>hwbinder</transport>
-        <version>2.0</version>
-        <interface>
-            <name>IHealth</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>nxp.hardware.display</name>
-            <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDisplay</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.neuralnetworks</name>
-        <transport>hwbinder</transport>
-        <version>1.2</version>
-        <interface>
-            <name>IDevice</name>
-            <instance>vsi-npu</instance>
-        </interface>
-    </hal>
-</manifest>
diff --git a/imx8m/evk_a100/manifest_userdebug.xml b/imx8m/evk_a100/manifest_userdebug.xml
deleted file mode 100644
index 0b8b4d89..00000000
--- a/imx8m/evk_a100/manifest_userdebug.xml
+++ /dev/null
@@ -1,12 +0,0 @@
-<manifest version="1.0" type="device" target-level="4">
-    <kernel  target-level="5" />
-    <hal format="hidl">
-        <name>android.hardware.memtrack</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IMemtrack</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-</manifest>
diff --git a/imx8m/evk_a100/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png b/imx8m/evk_a100/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/evk_a100/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/evk_a100/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png b/imx8m/evk_a100/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/evk_a100/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/evk_a100/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png b/imx8m/evk_a100/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/evk_a100/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/evk_a100/overlay/frameworks/base/core/res/res/values/config.xml b/imx8m/evk_a100/overlay/frameworks/base/core/res/res/values/config.xml
deleted file mode 100644
index 74da26b7..00000000
--- a/imx8m/evk_a100/overlay/frameworks/base/core/res/res/values/config.xml
+++ /dev/null
@@ -1,212 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-/*
-** Copyright 2011, The Android Open Source Project
-**
-** Licensed under the Apache License, Version 2.0 (the "License");
-** you may not use this file except in compliance with the License.
-** You may obtain a copy of the License at
-**
-**     http://www.apache.org/licenses/LICENSE-2.0
-**
-** Unless required by applicable law or agreed to in writing, software
-** distributed under the License is distributed on an "AS IS" BASIS,
-** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-** See the License for the specific language governing permissions and
-** limitations under the License.
-*/
--->
-
-<!-- These resources are around just to allow their values to be customized
-     for different hardware and product builds. -->
-<resources>
-
-    <!--For Android we support eth0 now -->
-    <string translatable="false" name="config_ethernet_iface_regex">eth0</string>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         USB interfaces.  If the device doesn't want to support tething over USB this should
-         be empty.  An example would be "usb.*" -->
-     <string-array translatable="false" name="config_tether_usb_regexs">
-       <item>usb0</item>
-     </string-array>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         Wifi interfaces.  If the device doesn't want to support tethering over Wifi this
-         should be empty.  An example would be "softap.*" -->
-    <string-array translatable="false" name="config_tether_wifi_regexs">
-      <item>"wlan0"</item>
-    </string-array>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         bluetooth interfaces.  If the device doesn't want to support tethering over bluetooth this
-         should be empty. -->
-    <string-array translatable="false" name="config_tether_bluetooth_regexs">
-        <item>"bt-pan"</item>
-        </string-array>
-
-    <!-- Array of ConnectivityManager.TYPE_xxxx values allowable for tethering -->
-    <!-- Common options are [1, 4] for TYPE_WIFI and TYPE_MOBILE_DUN or
-    <!== [0,1,5,7,9] for TYPE_MOBILE, TYPE_WIFI, TYPE_MOBILE_HIPRI, TYPE_BLUETOOTH and TYPE_ETHERNET -->
-    <integer-array translatable="false" name="config_tether_upstream_types">
-        <item>0</item>
-        <item>1</item>
-        <item>5</item>
-        <item>9</item>
-    </integer-array>
-
-    <!-- Flag indicating whether we should enable the automatic brightness in Settings.
-         config_hardware_automatic_brightness_available is not set, so we will use software implementation -->
-    <bool name="config_automatic_brightness_available">true</bool>
-
-    <!-- An Array of "[ConnectivityManager connectionType],
-                      [# simultaneous connection types]"  -->
-    <string-array translatable="false" name="radioAttributes">
-        <item>"1,1"</item>
-        <item>"9,1"</item>
-    </string-array>
-
-    <!-- An Array of "[Connection name],[ConnectivityManager.TYPE_xxxx],
-         [associated radio-type],[priority],[restoral-timer(ms)],[dependencyMet]  -->
-    <!-- the 5th element "resore-time" indicates the number of milliseconds to delay
-         before automatically restore the default connection.  Set -1 if the connection
-         does not require auto-restore. -->
-    <!-- the 6th element indicates boot-time dependency-met value. -->
-    <string-array translatable="false" name="networkAttributes">
-        <item>"wifi,1,1,1,-1,true"</item>
-        <item>"bluetooth,7,7,2,-1,true"</item>
-        <item>"ethernet,9,9,2,-1,true"</item>
-    </string-array>
-
-    <!-- Array of light sensor LUX values to define our levels for auto backlight brightness support.
-         The N entries of this array define N + 1 zones as follows:
-
-         Zone 0:        0 <= LUX < array[0]
-         Zone 1:        array[0] <= LUX < array[1]
-         ...
-         Zone N:        array[N - 1] <= LUX < array[N]
-         Zone N + 1:    array[N] <= LUX < infinity
-
-         Must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessLevels">
-        <item>5</item>
-        <item>15</item>
-        <item>50</item>
-        <item>100</item>
-        <item>200</item>
-        <item>400</item>
-        <item>1000</item>
-        <item>2000</item>
-        <item>3000</item>
-        <item>5000</item>
-        <item>10000</item>
-        <item>30000</item>
-    </integer-array>
-
-    <!-- Array of output values for LCD backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessLcdBacklightValues">
-        <item>5</item>    <!-- 0-5 -->
-        <item>20</item>   <!-- 5-15 -->
-        <item>30</item>   <!-- 15-50 -->
-        <item>40</item>   <!-- 50-100 -->
-        <item>50</item>   <!-- 100-200 -->
-        <item>60</item>   <!-- 200-400 -->
-        <item>70</item>   <!-- 400-1000 -->
-        <item>80</item>   <!-- 1000-2000 -->
-        <item>130</item>  <!-- 2000-3000 -->
-        <item>180</item>  <!-- 3000-5000 -->
-        <item>255</item>  <!-- 5000-10000 -->
-        <item>255</item>  <!-- 10000-30000 -->
-        <item>255</item>  <!-- 30000+ -->
-    </integer-array>
-
-    <!-- Array of output values for button backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessButtonBacklightValues">
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-    </integer-array>
-
-    <!-- Array of output values for keyboard backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessKeyboardBacklightValues">
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-    </integer-array>
-
-    <integer name="config_screenBrightnessDim">5</integer>
-
-    <!--  Maximum number of supported users -->
-    <integer name="config_multiuserMaximumUsers">8</integer>
-    <!--  Whether Multiuser UI should be shown -->
-    <bool name="config_enableMultiUserUI">true</bool>
-
-    <!-- Whether a software navigation bar should be shown. NOTE: in the future this may be
-         autodetected from the Configuration. -->
-    <bool name="config_showNavigationBar">true</bool>
-
-    <!-- This device is not "voice capable"; it's data-only. -->
-    <bool name="config_voice_capable">false</bool>
-
-    <!-- Boolean indicating whether the wifi chipset has dual frequency band support -->
-    <bool translatable="false" name="config_wifi_dual_band_support">true</bool>
-
-    <!-- Boolean indicating whether system support sustained performance mode. -->
-    <bool name="config_sustainedPerformanceModeSupported">true</bool>
-
-    <!-- Enable 802.11ac for Wifi hotspot (SAP) -->
-    <bool translatable="false" name="config_wifi_softap_ieee80211ac_supported">true</bool>
-
-    <!-- Enable ACS (auto channel selection) for Wifi hotspot (SAP) -->
-    <bool translatable="false" name="config_wifi_softap_acs_supported">true</bool>
-
-    <!-- Boolean indicating whether 802.11r Fast BSS Transition is enabled on this platform -->
-    <bool translatable="false" name="config_wifi_fast_bss_transition_enabled">true</bool>
-
-    <!-- Boolean indicating whether the wifi chipset has background scan support -->
-    <bool translatable="false" name="config_wifi_background_scan_support">true</bool>
-
-    <!-- Indicates that connected MAC randomization is supported on this device -->
-    <bool translatable="false" name="config_wifi_connected_mac_randomization_supported">true</bool>
-
-    <!-- Indicates that p2p MAC randomization is supported on this device -->
-    <bool translatable="false" name="config_wifi_p2p_mac_randomization_supported">true</bool>
-
-</resources>
diff --git a/imx8m/evk_a100/overlay/frameworks/base/core/res/res/xml/power_profile.xml b/imx8m/evk_a100/overlay/frameworks/base/core/res/res/xml/power_profile.xml
deleted file mode 100644
index 2104fe62..00000000
--- a/imx8m/evk_a100/overlay/frameworks/base/core/res/res/xml/power_profile.xml
+++ /dev/null
@@ -1,27 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-**
-** Copyright 2009, The Android Open Source Project
-*  Copyright (C) 2016 Freescale Semiconductor, Inc.
-**
-** Licensed under the Apache License, Version 2.0 (the "License")
-** you may not use this file except in compliance with the License.
-** You may obtain a copy of the License at
-**
-**     http://www.apache.org/licenses/LICENSE-2.0
-**
-** Unless required by applicable law or agreed to in writing, software
-** distributed under the License is distributed on an "AS IS" BASIS,
-** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-** See the License for the specific language governing permissions and
-** limitations under the License.
-*/
--->
-
-<device name="Android">
-  <array name="cpu.active">
-      <value>0.1</value>
-  </array>
-  <!-- This is the battery capacity in mAh -->
-  <item name="battery.capacity">4800</item>
-</device>
diff --git a/imx8m/evk_a100/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml b/imx8m/evk_a100/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml
deleted file mode 100644
index 660abbe5..00000000
--- a/imx8m/evk_a100/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml
+++ /dev/null
@@ -1,24 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-/**
- * Copyright (c) 2009, The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *     http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
--->
-<resources>
-    <!-- Default for Settings.Secure.USER_SETUP_COMPLETE -->
-    <bool name="def_user_setup_complete">true</bool>
-    <bool name="def_bluetooth_on">false</bool>
-    <bool name="def_stay_on_while_plugged_in">true</bool>
-</resources>
diff --git a/imx8m/evk_a100/overlay/packages/apps/Settings/res/values/bools.xml b/imx8m/evk_a100/overlay/packages/apps/Settings/res/values/bools.xml
deleted file mode 100644
index e9f565d3..00000000
--- a/imx8m/evk_a100/overlay/packages/apps/Settings/res/values/bools.xml
+++ /dev/null
@@ -1,19 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2009 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-  
-          http://www.apache.org/licenses/LICENSE-2.0
-  
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<resources>
-    <bool name="config_additional_system_update_setting_enable">true</bool>
-</resources>
diff --git a/imx8m/evk_a100/overlay/packages/apps/Settings/res/values/config.xml b/imx8m/evk_a100/overlay/packages/apps/Settings/res/values/config.xml
deleted file mode 100644
index dbf188dc..00000000
--- a/imx8m/evk_a100/overlay/packages/apps/Settings/res/values/config.xml
+++ /dev/null
@@ -1,22 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2007 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
-    <string name="additional_system_update" translatable="false">com.example.android.systemupdatersample</string>
-    <string name="additional_system_update_menu" translatable="false">com.example.android.systemupdatersample.ui.MainActivity</string>
-    <string name="config_work_policy_info_intent_action" translatable="false">com.google.android.settings.privacy.ACTION_SHOW_WORK_POLICY_INFO</string>
-
-</resources>
diff --git a/imx8m/evk_a100/powerhint_imx8mn.json b/imx8m/evk_a100/powerhint_imx8mn.json
deleted file mode 100644
index b1cbf9d4..00000000
--- a/imx8m/evk_a100/powerhint_imx8mn.json
+++ /dev/null
@@ -1,194 +0,0 @@
-{
-  "Nodes": [
-    {
-      "Name": "CPULittleClusterMaxFreq",
-      "Path": "/sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq",
-      "Values": [
-        "1500000",
-        "1400000",
-        "1200000"
-      ],
-      "DefaultIndex": 0,
-      "ResetOnInit": true
-    },
-    {
-      "Name": "CPULittleClusterMinFreq",
-      "Path": "/sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq",
-      "Values": [
-        "1500000",
-        "1400000",
-        "1200000"
-      ],
-      "ResetOnInit": true
-    },
-    {
-      "Name": "TASchedtuneBoost",
-      "Path": "/dev/stune/top-app/schedtune.boost",
-      "Values": [
-        "60",
-        "10"
-      ],
-      "DefaultIndex": 1,
-      "ResetOnInit": true
-    },
-    {
-      "Name": "PMQoSCpuDmaLatency",
-      "Path": "/dev/cpu_dma_latency",
-      "Values": [
-        "0",
-        "3000"
-      ],
-      "DefaultIndex": 1,
-      "HoldFd": true
-    },
-    {
-      "Name": "PowerHALMainState",
-      "Path": "vendor.powerhal.camera",
-      "Values": [
-        "CAMERA_STREAMING",
-        ""
-      ],
-      "Type": "Property"
-    },
-    {
-      "Name": "PowerHALAudioState",
-      "Path": "vendor.powerhal.audio",
-      "Values": [
-        "AUDIO_LOW_LATENCY",
-        ""
-      ],
-      "Type": "Property"
-    },
-    {
-      "Name": "PowerHALRenderingState",
-      "Path": "vendor.powerhal.rendering",
-      "Values": [
-        "EXPENSIVE_RENDERING",
-        ""
-      ],
-      "Type": "Property"
-    }
-  ],
-  "Actions": [
-    {
-      "PowerHint": "SUSTAINED_PERFORMANCE",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1400000"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "1400000"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "TASchedtuneBoost",
-      "Duration": 0,
-      "Value": "60"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 5000,
-      "Value": "1500000"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 5000,
-      "Value": "1500000"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 5000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 1000,
-      "Value": "1200000"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 1000,
-      "Value": "1200000"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 1000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "CAMERA_STREAMING",
-      "Node": "PowerHALMainState",
-      "Duration": 0,
-      "Value": "CAMERA_STREAMING"
-    },
-    {
-      "PowerHint": "CAMERA_STREAMING",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1400000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 1000,
-      "Value": "1200000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 1000,
-      "Value": "1500000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 1000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "LOW_POWER",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "1200000"
-    },
-    {
-      "PowerHint": "LOW_POWER",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1400000"
-    },
-    {
-      "PowerHint": "AUDIO_STREAMING",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 2000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "AUDIO_STREAMING",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 2000,
-      "Value": "1400000"
-    },
-    {
-      "PowerHint": "AUDIO_LOW_LATENCY",
-      "Node": "PowerHALAudioState",
-      "Duration": 0,
-      "Value": "AUDIO_LOW_LATENCY"
-    },
-    {
-      "PowerHint": "AUDIO_LOW_LATENCY",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 0,
-      "Value": "0"
-    }
-  ]
-}
diff --git a/imx8m/evk_a100/required_hardware.xml b/imx8m/evk_a100/required_hardware.xml
deleted file mode 100644
index f751b4ae..00000000
--- a/imx8m/evk_a100/required_hardware.xml
+++ /dev/null
@@ -1,34 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2009 The Android Open Source Project
-     Copyright 2018 NXP
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<!-- These are the hardware components that are included in i.MX reference board
--->
-<permissions>
-    <!-- This is Android and fully CTS compatible.  Basically this is for CTS tests to use. -->
-    <feature name="android.software.cts" />
-    <feature name="android.hardware.microphone" />
-    <feature name="android.hardware.camera.any" />
-    <feature name="android.software.cant_save_state" />
-    <feature name="android.software.home_screen" />
-    <feature name="android.software.input_methods" />
-    <feature name="android.hardware.location" />
-    <feature name="android.hardware.location.network" />
-    <feature name="android.hardware.bluetooth" />
-    <feature name="android.software.companion_device_setup" />
-    <feature name="android.software.autofill" />
-    <feature name="android.software.secure_lock_screen" />
-</permissions>
diff --git a/imx8m/evk_a100/seccomp/mediacodec-seccomp.policy b/imx8m/evk_a100/seccomp/mediacodec-seccomp.policy
deleted file mode 100644
index 9bac41bf..00000000
--- a/imx8m/evk_a100/seccomp/mediacodec-seccomp.policy
+++ /dev/null
@@ -1 +0,0 @@
-select: 1
diff --git a/imx8m/evk_a100/seccomp/mediaextractor-seccomp.policy b/imx8m/evk_a100/seccomp/mediaextractor-seccomp.policy
deleted file mode 100644
index abbef2c2..00000000
--- a/imx8m/evk_a100/seccomp/mediaextractor-seccomp.policy
+++ /dev/null
@@ -1,5 +0,0 @@
-uname: 1
-fchmodat: 1
-ftruncate64: 1
-readlinkat: 1
-pread64: 1
diff --git a/imx8m/evk_a100/sepolicy/file_contexts b/imx8m/evk_a100/sepolicy/file_contexts
deleted file mode 100644
index c32eb27f..00000000
--- a/imx8m/evk_a100/sepolicy/file_contexts
+++ /dev/null
@@ -1,49 +0,0 @@
-#sd boot
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/dtbo_[ab]        u:object_r:dtbo_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/boot_[ab]        u:object_r:boot_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/system_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/vendor_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/product_[ab]     u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/misc             u:object_r:misc_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/metadata         u:object_r:metadata_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/presistdata      u:object_r:frp_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/userdata         u:object_r:userdata_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/vbmeta_[ab]      u:object_r:vbmeta_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/super            u:object_r:super_block_device:s0
-
-#emmc boot
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/dtbo_[ab]        u:object_r:dtbo_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/boot_[ab]        u:object_r:boot_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/system_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/vendor_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/product_[ab]     u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/misc             u:object_r:misc_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/metadata         u:object_r:metadata_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/presistdata      u:object_r:frp_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/userdata         u:object_r:userdata_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/vbmeta_[ab]      u:object_r:vbmeta_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/super            u:object_r:super_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/bootloader_[ab]  u:object_r:bootloader_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/mem_info_[ab]    u:object_r:bootloader_block_device:s0
-
-# spl
-/dev/block/mmcblk2boot[01]            u:object_r:spl_block_device:s0
-/dev/block/mmcblk2boot[01]p[1-9]      u:object_r:spl_block_device:s0
-
-#peripheral
-/vendor/bin/magd                u:object_r:sensors_exec:s0
-/vendor/bin/fsl_sensor_fusion   u:object_r:sensors_exec:s0
-/dev/mma8x5x                    u:object_r:sensors_device:s0
-/dev/ttymxc[0-9]*               u:object_r:tty_device:s0
-/dev/FreescaleAccelerometer     u:object_r:sensors_device:s0
-/dev/FreescaleMagnetometer      u:object_r:sensors_device:s0
-/dev/FreescaleGyroscope         u:object_r:sensors_device:s0
-/dev/sda[0-8]*                  u:object_r:fuse:s0
-
-#Thermal HAL service
-/vendor/bin/hw/android\.hardware\.thermal@2\.0-service.imx         u:object_r:hal_thermal_default_exec:s0
-
-/vendor/bin/hw/android\.hardware\.media\.c2@1\.0-service    u:object_r:mediacodec_exec:s0
-
-#Neural Network HAL service
-/vendor/bin/hw/android\.hardware\.neuralnetworks@1\.2-service-vsi-npu-server      u:object_r:hal_neuralnetworks_imx_exec:s0
diff --git a/imx8m/evk_a100/sepolicy/genfs_contexts b/imx8m/evk_a100/sepolicy/genfs_contexts
deleted file mode 100644
index 0ebfcc66..00000000
--- a/imx8m/evk_a100/sepolicy/genfs_contexts
+++ /dev/null
@@ -1,12 +0,0 @@
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30a30000.i2c/i2c-1/1-0050/extcon   u:object_r:sysfs_extcon:s0
-genfscon sysfs /devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-rtc-lp/rtc/rtc0/hctosys     u:object_r:sysfs_rtc:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30a30000.i2c/i2c-1/1-0050/power_supply u:object_r:sysfs_batteryinfo:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30b50000.mmc/mmc_host/mmc1/mmc1:aaaa/block/mmcblk1 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30b60000.mmc/mmc_host/mmc2/mmc2:0001/block/mmcblk2 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30bb0000.spi/spi_master/spi3/spi3.0/mtd/mtd0/mtdblock0/ u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/32c00000.bus/32e10000.dsi_controller/32e10000.dsi_controller.0/backlight u:object_r:sysfs_leds:s0
-genfscon sysfs /devices/platform/backlight/backlight/backlight u:object_r:sysfs_leds:s0
-
-#sys/class/net
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30be0000.ethernet/net                                u:object_r:sysfs_net:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30b40000.mmc/mmc_host/mmc0/mmc0:0001/mmc0:0001:1/net u:object_r:sysfs_net:s0
diff --git a/imx8m/evk_a100/thermal_info_config_imx8mn.json b/imx8m/evk_a100/thermal_info_config_imx8mn.json
deleted file mode 100755
index 21b20736..00000000
--- a/imx8m/evk_a100/thermal_info_config_imx8mn.json
+++ /dev/null
@@ -1,55 +0,0 @@
-{
-    "Sensors":[
-        {
-            "Name":"cpu-thermal",
-            "Type":"CPU",
-            "HotThreshold":[
-                "NAN",
-                "NAN",
-                "NAN",
-                85.0,
-                95.0,
-                "NAN",
-                "NAN"
-            ],
-            "HotHysteresis":[
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        },
-        {
-            "Name":"battery",
-            "Type":"BATTERY",
-            "HotThreshold":[
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN"
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        }
-    ],
-    "CoolingDevices":[
-        {
-            "Name":"thermal-devfreq-0",
-            "Type":"GPU"
-        },
-        {
-            "Name":"thermal-cpufreq-0",
-            "Type":"CPU"
-        }
-    ]
-}
diff --git a/imx8m/evk_a100/ueventd.freescale.rc b/imx8m/evk_a100/ueventd.freescale.rc
deleted file mode 100644
index 1ec39fa4..00000000
--- a/imx8m/evk_a100/ueventd.freescale.rc
+++ /dev/null
@@ -1,26 +0,0 @@
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/presistdata 0600   system     system
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/presistdata 0600   system     system
-/dev/ttymxc0              0660   bluetooth  bluetooth
-/dev/snd/*                0660   system     audio
-/dev/video*               0660   system     camera
-/dev/mxc_hantro           0660   media      drmrpc
-/dev/mxc_hantro_h1        0660   media      drmrpc
-/dev/uinput               0660   system     bluetooth
-/dev/ion                  0666   media      drmrpc
-/dev/galcore	          0666 	 system     graphics
-/dev/graphics/fb0         0660   system     graphics
-/dev/watchdog             0660   system     root
-/dev/mmcblk2rpmb    0600   system     system
-/dev/trusty-ipc-dev0      0660   system     drmrpc
-
-/sys/devices/virtual/thermal/thermal_zone* trip_point_0_temp 0660 system system
-/sys/devices/virtual/thermal/thermal_zone* trip_point_1_temp 0660 system system
-
-/sys/devices/virtual/thermal/thermal_zone* trip_point_0_hyst 0660 system system
-/sys/devices/virtual/thermal/thermal_zone* trip_point_1_hyst 0660 system system
-
-#quectel port
-/dev/ttyUSB*              0660   radio        radio
-/dev/cdc-wdm*             0660   radio        radio
-/dev/qcqmi*               0660   radio        radio
-/dev/cdc-acm*             0660   radio        radio
diff --git a/imx8m/evk_a100/usb_audio_policy_configuration-direct-output.xml b/imx8m/evk_a100/usb_audio_policy_configuration-direct-output.xml
deleted file mode 100644
index b826785a..00000000
--- a/imx8m/evk_a100/usb_audio_policy_configuration-direct-output.xml
+++ /dev/null
@@ -1,56 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!-- Copyright (C) 2019 The Android Open Source Project
-     Copyright 2019 NXP
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-<!-- USB Audio HAL Audio Policy Configuration file -->
-
-<module name="usb" halVersion="2.0">
-    <mixPorts>
-        <mixPort name="usb_accessory output" role="source">
-            <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                     samplingRates="44100" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-        </mixPort>
-        <mixPort name="direct output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-            <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                     samplingRates="384000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-        </mixPort>
-        <mixPort name="usb_device output" role="source"/>
-        <mixPort name="usb_device input" role="sink"/>
-    </mixPorts>
-    <devicePorts>
-        <devicePort tagName="USB Host Out" type="AUDIO_DEVICE_OUT_USB_ACCESSORY" role="sink">
-            <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                     samplingRates="44100" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-        </devicePort>
-        <devicePort tagName="USB Device Out" type="AUDIO_DEVICE_OUT_USB_DEVICE" role="sink"/>
-        <devicePort tagName="USB Headset Out" type="AUDIO_DEVICE_OUT_USB_HEADSET" role="sink"/>
-        <devicePort tagName="USB Device In" type="AUDIO_DEVICE_IN_USB_DEVICE" role="source"/>
-        <devicePort tagName="USB Headset In" type="AUDIO_DEVICE_IN_USB_HEADSET" role="source"/>
-    </devicePorts>
-    <routes>
-        <route type="mix" sink="USB Host Out"
-               sources="usb_accessory output"/>
-        <route type="mix" sink="USB Device Out"
-               sources="usb_device output"/>
-        <route type="mix" sink="USB Headset Out"
-               sources="usb_device output"/>
-        <route type="mix" sink="usb_device input"
-               sources="USB Device In,USB Headset In"/>
-        <route type="mix" sink="USB Device Out"
-               sources="direct output"/>
-        <route type="mix" sink="USB Headset Out"
-               sources="direct output"/>
-    </routes>
-</module>
diff --git a/imx8m/evk_a200/AndroidBoard.mk b/imx8m/evk_a200/AndroidBoard.mk
deleted file mode 100644
index e9cf443e..00000000
--- a/imx8m/evk_a200/AndroidBoard.mk
+++ /dev/null
@@ -1,8 +0,0 @@
-LOCAL_PATH := $(call my-dir)
-
-include device/idtech/common/build/dtbo.mk
-include device/idtech/common/build/imx-recovery.mk
-include device/idtech/common/build/gpt.mk
-#TODO add imx8mp target
-include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/media-profile/media-profile.mk
-include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/sensor/fsl-sensor.mk
diff --git a/imx8m/evk_a200/AndroidUboot.mk b/imx8m/evk_a200/AndroidUboot.mk
deleted file mode 100644
index 9405e681..00000000
--- a/imx8m/evk_a200/AndroidUboot.mk
+++ /dev/null
@@ -1,42 +0,0 @@
-# uboot.imx in android combine scfw.bin and uboot.bin
-MAKE += SHELL=/bin/bash
-
-ifneq ($(AARCH64_GCC_CROSS_COMPILE),)
-ATF_CROSS_COMPILE := $(strip $(AARCH64_GCC_CROSS_COMPILE))
-else
-ATF_TOOLCHAIN_ABS := $(realpath prebuilts/gcc/$(HOST_PREBUILT_TAG)/aarch64/aarch64-linux-android-4.9/bin)
-ATF_CROSS_COMPILE := $(ATF_TOOLCHAIN_ABS)/aarch64-linux-androidkernel-
-endif
-
-define build_imx_uboot
-	$(hide) echo Building i.MX U-Boot with firmware; \
-	cp $(UBOOT_OUT)/u-boot-nodtb.$(strip $(1)) $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(UBOOT_OUT)/spl/u-boot-spl.bin  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(UBOOT_OUT)/tools/mkimage  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/mkimage_uboot; \
-	cp $(UBOOT_OUT)/arch/arm/dts/imx8mp-evk.dtb $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(FSL_PROPRIETARY_PATH)/linux-firmware-imx/firmware/ddr/synopsys/lpddr4_pmu_train* $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ PLAT=`echo $(2) | cut -d '-' -f1` clean; \
-	if [ `echo $(2) | cut -d '-' -f3` = "trusty" ]; then \
-		cp $(FSL_PROPRIETARY_PATH)/fsl-proprietary/uboot-firmware/imx8m/tee-imx8mp.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B SPD=trusty 1>/dev/null || exit 1; \
-	else \
-		if [ -f $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin ] ; then \
-			rm -rf $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-		fi; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B 1>/dev/null || exit 1; \
-	fi; \
-	cp $(IMX_PATH)/arm-trusted-firmware/build/`echo $(2) | cut -d '-' -f1`/release/bl31.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/bl31.bin; \
-	$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ clean; \
-	if [ `echo $(2) | rev | cut -d '-' -f1 | rev` = "dual" ]; then \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MP flash_evk_no_hdmi_dual_bootloader || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MP PRINT_FIT_HAB_OFFSET=0x0 print_fit_hab || exit 1; \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/flash.bin $(UBOOT_COLLECTION)/spl-$(strip $(2)).bin; \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/u-boot-ivt.itb $(UBOOT_COLLECTION)/bootloader-$(strip $(2)).img; \
-	else \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MP flash_evk || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MP print_fit_hab || exit 1; \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/flash.bin $(UBOOT_COLLECTION)/u-boot-$(strip $(2)).imx; \
-	fi;
-endef
-
-
diff --git a/imx8m/evk_a200/BoardConfig.mk b/imx8m/evk_a200/BoardConfig.mk
deleted file mode 100644
index 08d5c823..00000000
--- a/imx8m/evk_a200/BoardConfig.mk
+++ /dev/null
@@ -1,181 +0,0 @@
-#
-# SoC-specific compile-time definitions.
-#
-
-BOARD_SOC_TYPE := IMX8MP
-BOARD_SOM_TYPE := a200
-BOARD_TYPE := DEVBOARD
-BOARD_MAIN_DISPLAY_ROTATION := 0
-BOARD_HAVE_VPU := true
-BOARD_VPU_TYPE := hantro
-HAVE_FSL_IMX_GPU2D := false
-HAVE_FSL_IMX_GPU3D := true
-HAVE_FSL_IMX_IPU := false
-HAVE_FSL_IMX_PXP := false
-BOARD_KERNEL_BASE := 0x40400000
-TARGET_GRALLOC_VERSION := v3
-TARGET_HIGH_PERFORMANCE := true
-TARGET_USES_HWC2 := true
-TARGET_HWCOMPOSER_VERSION := v2.0
-USE_OPENGL_RENDERER := true
-TARGET_HAVE_VULKAN := true
-ENABLE_CFI=false
-
-SOONG_CONFIG_IMXPLUGIN += \
-                        BOARD_HAVE_VPU \
-                        BOARD_VPU_TYPE
-
-SOONG_CONFIG_IMXPLUGIN_BOARD_SOC_TYPE = IMX8MP
-SOONG_CONFIG_IMXPLUGIN_BOARD_HAVE_VPU = true
-SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_TYPE = hantro
-SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_ONLY = false
-
-#
-# Product-specific compile-time definitions.
-#
-
-IMX_DEVICE_PATH := device/idtech/imx8m/evk_a200
-
-include device/idtech/imx8m/BoardConfigCommon.mk
-
-BUILD_TARGET_FS ?= ext4
-TARGET_USERIMAGES_USE_EXT4 := true
-
-TARGET_RECOVERY_FSTAB = $(IMX_DEVICE_PATH)/fstab.freescale
-
-# Support gpt
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  BOARD_BPT_INPUT_FILES += device/idtech/common/partition/device-partitions-14.4GB-ab_super.bpt
-  ADDITION_BPT_PARTITION = partition-table-28GB:device/idtech/common/partition/device-partitions-28GB-ab_super.bpt \
-                           partition-table-dual:device/idtech/common/partition/device-partitions-14.4GB-ab-dual-bootloader_super.bpt \
-                           partition-table-28GB-dual:device/idtech/common/partition/device-partitions-28GB-ab-dual-bootloader_super.bpt
-else
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    BOARD_BPT_INPUT_FILES += device/idtech/common/partition/device-partitions-13GB-ab-no-product.bpt
-    ADDITION_BPT_PARTITION = partition-table-28GB:device/idtech/common/partition/device-partitions-28GB-ab-no-product.bpt \
-                             partition-table-dual:device/idtech/common/partition/device-partitions-13GB-ab-dual-bootloader-no-product.bpt \
-                             partition-table-28GB-dual:device/idtech/common/partition/device-partitions-28GB-ab-dual-bootloader-no-product.bpt
-  else
-    BOARD_BPT_INPUT_FILES += device/idtech/common/partition/device-partitions-14.4GB-ab.bpt
-    ADDITION_BPT_PARTITION = partition-table-28GB:device/idtech/common/partition/device-partitions-28GB-ab.bpt \
-                             partition-table-dual:device/idtech/common/partition/device-partitions-14.4GB-ab-dual-bootloader.bpt \
-                             partition-table-28GB-dual:device/idtech/common/partition/device-partitions-28GB-ab-dual-bootloader.bpt
-  endif
-endif
-
-# Vendor Interface manifest and compatibility
-DEVICE_MANIFEST_FILE := $(IMX_DEVICE_PATH)/manifest.xml
-ifneq (,$(filter userdebug,$(TARGET_BUILD_VARIANT)))
-DEVICE_MANIFEST_FILE += $(IMX_DEVICE_PATH)/manifest_userdebug.xml
-endif
-DEVICE_MATRIX_FILE := $(IMX_DEVICE_PATH)/compatibility_matrix.xml
-
-TARGET_BOOTLOADER_BOARD_NAME := EVK
-
-USE_OPENGL_RENDERER := true
-
-# NXP 8997 WIFI
-BOARD_WLAN_DEVICE            := nxp
-WPA_SUPPLICANT_VERSION       := VER_0_8_X
-BOARD_WPA_SUPPLICANT_DRIVER  := NL80211
-BOARD_HOSTAPD_DRIVER         := NL80211
-BOARD_HOSTAPD_PRIVATE_LIB               := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
-BOARD_WPA_SUPPLICANT_PRIVATE_LIB        := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
-
-WIFI_HIDL_FEATURE_DUAL_INTERFACE := true
-
-# NXP 8997 BT
-BOARD_HAVE_BLUETOOTH_NXP := true
-
-# NXP 8997 BT
-BOARD_HAVE_BLUETOOTH_NXP := true
-
-#BOARD_USE_SENSOR_FUSION := true
-BOARD_USE_ST_SENSOR_INPUT := true
-
-# we don't support sparse image.
-TARGET_USERIMAGES_SPARSE_EXT_DISABLED := false
-
-BOARD_BLUETOOTH_BDROID_BUILDCFG_INCLUDE_DIR := $(IMX_DEVICE_PATH)/bluetooth
-
-BOARD_HAVE_USB_CAMERA := true
-BOARD_HAVE_USB_MJPEG_CAMERA := false
-
-USE_ION_ALLOCATOR := true
-USE_GPU_ALLOCATOR := false
-
-BOARD_AVB_ENABLE := true
-BOARD_AVB_ALGORITHM := SHA256_RSA2048
-BOARD_AVB_KEY_PATH := device/idtech/common/security/idt_testkey_rsa2048.pem
-TARGET_USES_MKE2FS := true
-
-# define frame buffer count
-NUM_FRAMEBUFFER_SURFACE_BUFFERS := 3
-
-CMASIZE=800M
-# NXP default config
-BOARD_KERNEL_CMDLINE := init=/init androidboot.console=ttymxc1 androidboot.hardware=freescale firmware_class.path=/vendor/firmware loop.max_part=7
-
-# memory config
-BOARD_KERNEL_CMDLINE += transparent_hugepage=never
-
-# display config
-BOARD_KERNEL_CMDLINE += androidboot.lcd_density=240 androidboot.primary_display=imx-drm
-
-# wifi config
-BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN
-
-# low memory device build config
-ifeq ($(LOW_MEMORY),true)
-BOARD_KERNEL_CMDLINE += cma=320M@0x400M-0xb80M androidboot.displaymode=720p galcore.contiguousSize=33554432
-else
-BOARD_KERNEL_CMDLINE += cma=$(CMASIZE)@0x400M-0xb80M
-endif
-
-ifeq ($(TARGET_USERIMAGES_USE_UBIFS),true)
-ifeq ($(TARGET_USERIMAGES_USE_EXT4),true)
-$(error "TARGET_USERIMAGES_USE_UBIFS and TARGET_USERIMAGES_USE_EXT4 config open in same time, please only choose one target file system image")
-endif
-endif
-
-LOWER_BOARD_TYPE  = $(shell echo $(BOARD_TYPE) | tr A-Z a-z)
-LOWER_BOARD_SOC_TYPE  = $(shell echo $(BOARD_SOC_TYPE) | tr A-Z a-z)
-BOARD_PREBUILT_DTBOIMAGE := out/target/product/evk_a200/dtbo-$(BOARD_SOM_TYPE)-$(LOWER_BOARD_TYPE).img
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    TARGET_BOARD_DTS_CONFIG := imx8mp:imx8mp-evk-no-product.dtb
-  else
-    # Default use basler + ov5640
-    TARGET_BOARD_DTS_CONFIG := imx8mp:imx8mp-evk-basler-ov5640.dtb
-    # Only ov5640
-    TARGET_BOARD_DTS_CONFIG += imx8mp-ov5640:imx8mp-evk.dtb
-    # Only basler
-    TARGET_BOARD_DTS_CONFIG += imx8mp-basler:imx8mp-evk-basler.dtb
-    # Used to support mcu image
-    TARGET_BOARD_DTS_CONFIG += imx8mp-rpmsg:imx8mp-evk-rpmsg.dtb
-    # Support LVDS interface
-    TARGET_BOARD_DTS_CONFIG += imx8mp-lvds:imx8mp-evk-it6263-lvds-dual-channel.dtb
-    # Support LVDS panel
-    TARGET_BOARD_DTS_CONFIG += imx8mp-lvds-panel:imx8mp-evk-jdi-wuxga-lvds-panel.dtb
-    # Support MIPI panel
-    TARGET_BOARD_DTS_CONFIG += imx8mp-mipi-panel:imx8mp-evk-rm67191.dtb
-  endif
-else # no dynamic parition feature
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    TARGET_BOARD_DTS_CONFIG := imx8mp:imx8mp-evk-no-product-no-dynamic_partition.dtb
-  else
-    TARGET_BOARD_DTS_CONFIG := imx8mp:imx8mp-evk-no-dynamic_partition.dtb
-  endif
-endif
-
-BOARD_SEPOLICY_DIRS := \
-       device/idtech/imx8m/sepolicy \
-       $(IMX_DEVICE_PATH)/sepolicy
-
-TARGET_BOARD_KERNEL_HEADERS := device/idtech/common/kernel-headers
-
-ALL_DEFAULT_INSTALLED_MODULES += $(BOARD_VENDOR_KERNEL_MODULES)
-
-BOARD_USES_METADATA_PARTITION := true
-BOARD_ROOT_EXTRA_FOLDERS += metadata
diff --git a/imx8m/evk_a200/SharedBoardConfig.mk b/imx8m/evk_a200/SharedBoardConfig.mk
deleted file mode 100644
index a26166a1..00000000
--- a/imx8m/evk_a200/SharedBoardConfig.mk
+++ /dev/null
@@ -1,26 +0,0 @@
-KERNEL_NAME := Image
-TARGET_KERNEL_ARCH := arm64
-
-#Enable this to config 1GB ddr on evk_imx8mp
-#LOW_MEMORY := true
-
-#Enable this to include trusty support
-PRODUCT_IMX_TRUSTY := true
-
-#Enable this to disable product partition build.
-#IMX_NO_PRODUCT_PARTITION := true
-
-#NXP 8997 wifi driver module
-BOARD_VENDOR_KERNEL_MODULES += \
-    $(KERNEL_OUT)/drivers/net/wireless/marvell/mrvl8997/wlan_src/mlan.ko \
-    $(KERNEL_OUT)/drivers/net/wireless/marvell/mrvl8997/wlan_src/pcie8xxx.ko \
-# mipi-panel touch driver module
-BOARD_VENDOR_KERNEL_MODULES += \
-    $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko
-
-# isp vvcam driver module
-BOARD_VENDOR_KERNEL_MODULES += \
-    $(TARGET_OUT_INTERMEDIATES)/VVCAM_OBJ/vvcam-video.ko \
-    $(TARGET_OUT_INTERMEDIATES)/VVCAM_OBJ/vvcam-isp.ko \
-    $(TARGET_OUT_INTERMEDIATES)/VVCAM_OBJ/vvcam-dwe.ko \
-    $(TARGET_OUT_INTERMEDIATES)/VVCAM_OBJ/basler-camera-driver-vvcam.ko
diff --git a/imx8m/evk_a200/UbootKernelBoardConfig.mk b/imx8m/evk_a200/UbootKernelBoardConfig.mk
deleted file mode 100644
index e65f2311..00000000
--- a/imx8m/evk_a200/UbootKernelBoardConfig.mk
+++ /dev/null
@@ -1,24 +0,0 @@
-# from BoardConfig.mk
-TARGET_BOOTLOADER_POSTFIX := bin
-UBOOT_POST_PROCESS := true
-
-# u-boot target
-TARGET_BOOTLOADER_CONFIG := imx8mp-devboard:imx8mp_a200_devboard_android_defconfig
-TARGET_BOOTLOADER_CONFIG += imx8mp-devboard-trusty:imx8mp_a200_devboard_android_trusty_defconfig
-TARGET_BOOTLOADER_CONFIG += imx8mp-devboard-trusty-secure-unlock:imx8mp_a200_devboard_android_trusty_secure_unlock_defconfig
-TARGET_BOOTLOADER_CONFIG += imx8mp-devboard-dual:imx8mp_a200_devboard_android_dual_defconfig
-TARGET_BOOTLOADER_CONFIG += imx8mp-devboard-trusty-dual:imx8mp_a200_devboard_android_trusty_dual_defconfig
-TARGET_BOOTLOADER_CONFIG += imx8mp-devboard-evk-uuu:imx8mp_a200_devboard_android_uuu_defconfig
-
-TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
-
-TARGET_KERNEL_ADDITION_DEFCONF := android_addition_defconfig
-TARGET_KERNEL_SECURE_DEFCONF ?= android_secure_defconfig
-
-
-# absolute path is used, not the same as relative path used in AOSP make
-TARGET_DEVICE_DIR := $(patsubst %/, %, $(dir $(realpath $(lastword $(MAKEFILE_LIST)))))
-
-# define bootloader rollback index
-BOOTLOADER_RBINDEX ?= 0
-
diff --git a/imx8m/evk_a200/android_addition_defconfig b/imx8m/evk_a200/android_addition_defconfig
deleted file mode 100644
index 92a37046..00000000
--- a/imx8m/evk_a200/android_addition_defconfig
+++ /dev/null
@@ -1,250 +0,0 @@
-CONFIG_CLD_HL_SDIO_CORE=y
-CONFIG_IDG_SPI=y
-# CONFIG_USB_NET_QMI_WWAN is not set
-CONFIG_SINGLE_LOGO=y
-CONFIG_SPLASH_SCREEN_CENTERED=y
-CONFIG_USB_SERIAL=y
-CONFIG_USB_SERIAL_OPTION=y
-CONFIG_INPUT_VL53L1X_ULD=y
-CONFIG_SND_SOC_IMX_RT5640=y
-CONFIG_SND_SOC_RT5640=y
-CONFIG_KEYBOARD_MATRIX=y
-CONFIG_TYPEC_HD3SS3220=y
-CONFIG_MXC_DUAL_MIPI_CAMERA=y
-CONFIG_MXC_CAMERA_OV2685_MIPI_V2=y
-CONFIG_INPUT_ST=y
-CONFIG_INPUT_ECOMPASS=y
-CONFIG_INPUT_LSM303AGR=y
-CONFIG_INPUT_LSM303AGR_I2C=y
-CONFIG_TOUCHSCREEN_GOODIX=y
-CONFIG_DRM_PANEL_DATAIMAGE_5INCHLCM=y
-CONFIG_DEBUG_FS=y
-CONFIG_PPP=y
-CONFIG_PPP_ASYNC=y
-CONFIG_PPP_SYNC_TTY=y
-CONFIG_OF_OVERLAY=y
-
-CONFIG_PARAVIRT=y
-CONFIG_NETFILTER_XT_TARGET_CT=y
-CONFIG_MVMDIO=y
-CONFIG_MDIO_BITBANG=y
-CONFIG_I2C_SLAVE=y
-CONFIG_GPIOLIB=y
-CONFIG_GPIO_GENERIC_PLATFORM=y
-CONFIG_POWER_RESET_BRCMSTB=y
-CONFIG_REGULATOR=y
-CONFIG_DRM_I2C_CH7006=m
-CONFIG_DRM_I2C_SIL164=m
-CONFIG_TMPFS=y
-CONFIG_BCM_FLEXRM_MBOX=y
-CONFIG_PHY_SAMSUNG_USB2=y
-CONFIG_ARM_TIMER_SP804=y
-CONFIG_COMMON_CLK_VERSATILE=y
-CONFIG_CLK_SP810=y
-CONFIG_USB_SNP_UDC_PLAT=y
-CONFIG_USB_BDC_UDC=y
-CONFIG_BCM_SBA_RAID=m
-
-# CONFIG_KVM is not set
-# CONFIG_MTD_UBI is not set
-# CONFIG_VGA_ARB is not set
-# CONFIG_ARCH_SUNXI is not set
-# CONFIG_ARCH_ALPINE is not set
-# CONFIG_ARCH_BCM2835 is not set
-# CONFIG_ARCH_BCM_IPROC is not set
-# CONFIG_ARCH_BERLIN is not set
-# CONFIG_ARCH_BRCMSTB is not set
-# CONFIG_ARCH_EXYNOS is not set
-# CONFIG_ARCH_LAYERSCAPE is not set
-# CONFIG_ARCH_LG1K is not set
-# CONFIG_ARCH_HISI is not set
-# CONFIG_ARCH_MEDIATEK is not set
-# CONFIG_ARCH_MESON is not set
-# CONFIG_ARCH_MVEBU is not set
-# CONFIG_ARCH_QCOM is not set
-# CONFIG_ARCH_ROCKCHIP is not set
-# CONFIG_ARCH_SEATTLE is not set
-# CONFIG_ARCH_RENESAS is not set
-# CONFIG_ARCH_R8A7795 is not set
-# CONFIG_ARCH_R8A7796 is not set
-# CONFIG_ARCH_STRATIX10 is not set
-# CONFIG_ARCH_TEGRA is not set
-# CONFIG_ARCH_SPRD is not set
-# CONFIG_ARCH_THUNDER is not set
-# CONFIG_ARCH_THUNDER2 is not set
-# CONFIG_ARCH_UNIPHIER is not set
-# CONFIG_ARCH_VEXPRESS is not set
-# CONFIG_ARCH_XGENE is not set
-# CONFIG_ARCH_ZX is not set
-# CONFIG_ARCH_ZYNQMP is not set
-# CONFIG_ARCH_TEGRA_132_SOC is not set
-# CONFIG_ARCH_TEGRA_210_SOC is not set
-# CONFIG_ARCH_TEGRA_186_SOC is not set
-# CONFIG_PCI_HISI is not set
-# CONFIG_PCIE_KIRIN is not set
-# CONFIG_PCI_AARDVARK is not set
-# CONFIG_PCIE_RCAR is not set
-# CONFIG_PCIE_ROCKCHIP is not set
-# CONFIG_XEN is not set
-# CONFIG_SPI_FSL_QUADSPI is not set
-# CONFIG_XEN_BLKDEV_BACKEND is not set
-# CONFIG_AHCI_MVEBU is not set
-# CONFIG_SATA_RCAR is not set
-# CONFIG_NET_XGENE is not set
-# CONFIG_MVNETA is not set
-# CONFIG_MVPP2 is not set
-# CONFIG_RAVB is not set
-# CONFIG_MESON_GXL_PHY is not set
-# CONFIG_XEN_NETDEV_BACKEND is not set
-# CONFIG_INPUT_PM8941_PWRKEY is not set
-# CONFIG_INPUT_HISI_POWERKEY is not set
-# CONFIG_SERIAL_8250_BCM2835AUX is not set
-# CONFIG_SERIAL_8250_MT6577 is not set
-# CONFIG_SERIAL_8250_UNIPHIER is not set
-# CONFIG_SERIAL_MESON is not set
-# CONFIG_SERIAL_MESON_CONSOLE is not set
-# CONFIG_SERIAL_SAMSUNG is not set
-# CONFIG_SERIAL_SAMSUNG_CONSOLE is not set
-# CONFIG_SERIAL_TEGRA is not set
-# CONFIG_SERIAL_SH_SCI is not set
-# CONFIG_SERIAL_SH_SCI_NR_UARTS is not set
-# CONFIG_SERIAL_SH_SCI_CONSOLE is not set
-# CONFIG_SERIAL_MSM is not set
-# CONFIG_SERIAL_MSM_CONSOLE is not set
-# CONFIG_SERIAL_XILINX_PS_UART is not set
-# CONFIG_SERIAL_XILINX_PS_UART_CONSOLE is not set
-# CONFIG_SERIAL_MVEBU_UART is not set
-# CONFIG_I2C_BCM2835 is not set
-# CONFIG_I2C_MESON is not set
-# CONFIG_I2C_MV64XXX is not set
-# CONFIG_I2C_PXA is not set
-# CONFIG_I2C_QUP is not set
-# CONFIG_I2C_SH_MOBILE is not set
-# CONFIG_I2C_TEGRA is not set
-# CONFIG_I2C_UNIPHIER_F is not set
-# CONFIG_I2C_RCAR is not set
-# CONFIG_SPI_BCM2835 is not set
-# CONFIG_SPI_BCM2835AUX is not set
-# CONFIG_SPI_MESON_SPICC is not set
-# CONFIG_SPI_ORION is not set
-# CONFIG_SPI_ROCKCHIP is not set
-# CONFIG_SPI_QUP is not set
-# CONFIG_SPI_S3C64XX is not set
-# CONFIG_PINCTRL_MAX77620 is not set
-# CONFIG_PINCTRL_IPQ8074 is not set
-# CONFIG_PINCTRL_MSM8916 is not set
-# CONFIG_PINCTRL_MSM8994 is not set
-# CONFIG_PINCTRL_MSM8996 is not set
-# CONFIG_PINCTRL_QDF2XXX is not set
-# CONFIG_PINCTRL_QCOM_SPMI_PMIC is not set
-# CONFIG_GPIO_RCAR is not set
-# CONFIG_GPIO_XGENE_SB is not set
-# CONFIG_POWER_RESET_MSM is not set
-# CONFIG_ROCKCHIP_THERMAL is not set
-# CONFIG_EXYNOS_THERMAL is not set
-# CONFIG_S3C2410_WATCHDOG is not set
-# CONFIG_MESON_GXBB_WATCHDOG is not set
-# CONFIG_MESON_WATCHDOG is not set
-# CONFIG_RENESAS_WDT is not set
-# CONFIG_UNIPHIER_WATCHDOG is not set
-# CONFIG_BCM2835_WDT is not set
-# CONFIG_MFD_AXP20X_RSB is not set
-# CONFIG_MFD_EXYNOS_LPASS is not set
-# CONFIG_MFD_HI655X_PMIC is not set
-# CONFIG_MFD_SPMI_PMIC is not set
-# CONFIG_REGULATOR_AXP20X is not set
-# CONFIG_REGULATOR_HI655X is not set
-# CONFIG_REGULATOR_QCOM_SMD_RPM is not set
-# CONFIG_RPMSG is not set
-# CONFIG_IR_MESON is not set
-# CONFIG_VIDEO_SAMSUNG_S5P_JPEG is not set
-# CONFIG_VIDEO_SAMSUNG_S5P_MFC is not set
-# CONFIG_VIDEO_SAMSUNG_EXYNOS_GSC is not set
-# CONFIG_VIDEO_RENESAS_FCP is not set
-# CONFIG_VIDEO_RENESAS_VSP1 is not set
-# CONFIG_ROCKCHIP_ANALOGIX_DP is not set
-# CONFIG_ROCKCHIP_CDN_DP is not set
-# CONFIG_ROCKCHIP_DW_HDMI is not set
-# CONFIG_ROCKCHIP_DW_MIPI_DSI is not set
-# CONFIG_ROCKCHIP_INNO_HDMI is not set
-# CONFIG_SND_BCM2835_SOC_I2S is not set
-# CONFIG_SND_SOC_SAMSUNG is not set
-# CONFIG_SND_SOC_RCAR is not set
-# CONFIG_DRM_NOUVEAU is not set
-# CONFIG_DRM_EXYNOS is not set
-# CONFIG_DRM_EXYNOS5433_DECON is not set
-# CONFIG_DRM_EXYNOS7_DECON is not set
-# CONFIG_DRM_EXYNOS_DSI is not set
-# CONFIG_DRM_EXYNOS_DP is not set
-# CONFIG_DRM_EXYNOS_HDMI is not set
-# CONFIG_DRM_EXYNOS_MIC is not set
-# CONFIG_DRM_ROCKCHIP is not set
-# CONFIG_DRM_RCAR_DU is not set
-# CONFIG_DRM_RCAR_LVDS is not set
-# CONFIG_DRM_RCAR_VSP is not set
-# CONFIG_DRM_TEGRA is not set
-# CONFIG_DRM_VC4 is not set
-# CONFIG_DRM_MESON is not set
-# CONFIG_USB_XHCI_TEGRA is not set
-# CONFIG_USB_EHCI_MSM is not set
-# CONFIG_USB_EHCI_EXYNOS is not set
-# CONFIG_USB_OHCI_EXYNOS is not set
-# CONFIG_USB_RENESAS_USBHS is not set
-# CONFIG_USB_QCOM_8X16_PHY is not set
-# CONFIG_RASPBERRYPI_FIRMWARE is not set
-# CONFIG_PHY_SUN4I_USB is not set
-# CONFIG_PHY_HI6220_USB is not set
-# CONFIG_PHY_RCAR_GEN3_USB2 is not set
-# CONFIG_PHY_ROCKCHIP_EMMC is not set
-# CONFIG_PHY_ROCKCHIP_INNO_USB2 is not set
-# CONFIG_PHY_ROCKCHIP_PCIE is not set
-# CONFIG_PHY_TEGRA_XUSB is not set
-# CONFIG_QCOM_L2_PMU is not set
-# CONFIG_QCOM_L3_PMU is not set
-# CONFIG_PWM_MESON is not set
-# CONFIG_PWM_ROCKCHIP is not set
-# CONFIG_PWM_SAMSUNG is not set
-# CONFIG_PWM_TEGRA is not set
-# CONFIG_QCOM_SMEM is not set
-# CONFIG_QCOM_SMD_RPM is not set
-# CONFIG_QCOM_SMP2P is not set
-# CONFIG_QCOM_SMSM is not set
-# CONFIG_ROCKCHIP_PM_DOMAINS is not set
-# CONFIG_ARCH_TEGRA_132_SOC is not set
-# CONFIG_ARCH_TEGRA_210_SOC is not set
-# CONFIG_ARCH_TEGRA_186_SOC is not set
-# CONFIG_EXYNOS_ADC is not set
-# CONFIG_ROCKCHIP_SARADC is not set
-# CONFIG_PWM_BCM2835 is not set
-# CONFIG_RPMSG_QCOM_SMD is not set
-# CONFIG_RASPBERRYPI_POWER is not set
-# CONFIG_BCM2835_MBOX is not set
-# CONFIG_HI6220_MBOX is not set
-# CONFIG_ROCKCHIP_IOMMU is not set
-# CONFIG_HWSPINLOCK_QCOM is not set
-# CONFIG_COMMON_CLK_QCOM is not set
-# CONFIG_QCOM_CLK_SMD_RPM is not set
-# CONFIG_IPQ_GCC_8074 is not set
-# CONFIG_MSM_GCC_8916 is not set
-# CONFIG_MSM_GCC_8994 is not set
-# CONFIG_MSM_MMCC_8996 is not set
-# CONFIG_USB_RENESAS_USBHS_UDC is not set
-# CONFIG_MMC_SDHCI_OF_ESDHC is not set
-# CONFIG_XEN_GNTDEV is not set
-# CONFIG_XEN_GRANT_DEV_ALLOC is not set
-# CONFIG_RCAR_DMAC is not set
-# CONFIG_TEGRA20_APB_DMA is not set
-# CONFIG_QCOM_BAM_DMA is not set
-# CONFIG_K3_DMA is not set
-# CONFIG_DMA_BCM2835 is not set
-# CONFIG_RTC_DRV_XGENE is not set
-# CONFIG_RTC_DRV_TEGRA is not set
-# CONFIG_RTC_DRV_S3C is not set
-# CONFIG_MMC_DW_ROCKCHIP is not set
-# CONFIG_MMC_SUNXI is not set
-# CONFIG_MMC_BCM2835 is not set
-# CONFIG_MMC_SDHCI_TEGRA is not set
-# CONFIG_MMC_MESON_GX is not set
-# CONFIG_MMC_SDHCI_MSM is not set
-# CONFIG_MMC_SDHI is not set
-# CONFIG_MMC_DW_EXYNOS is not set
diff --git a/imx8m/evk_a200/android_secure_defconfig b/imx8m/evk_a200/android_secure_defconfig
deleted file mode 100644
index 9dea4bc9..00000000
--- a/imx8m/evk_a200/android_secure_defconfig
+++ /dev/null
@@ -1,2 +0,0 @@
-# CONFIG_SERIAL_IMX_CONSOLE is not set
-# CONFIG_DEBUG_FS is not set
diff --git a/imx8m/evk_a200/app_whitelist.xml b/imx8m/evk_a200/app_whitelist.xml
deleted file mode 100644
index 0084b334..00000000
--- a/imx8m/evk_a200/app_whitelist.xml
+++ /dev/null
@@ -1,36 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
-
-<!--
-/* Copyright (c) 2017, The Linux Foundation. All rights reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions are
- * met:
- *     * Redistributions of source code must retain the above copyright
- *       notice, this list of conditions and the following disclaimer.
- *     * Redistributions in binary form must reproduce the above
- *       copyright notice, this list of conditions and the following
- *       disclaimer in the documentation and/or other materials provided
- *       with the distribution.
- *     * Neither the name of The Linux Foundation nor the names of its
- *       contributors may be used to endorse or promote products derived
- *       from this software without specific prior written permission.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESS OR IMPLIED
- * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT
- * ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
- * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
- * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
- * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
- * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
- * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
- * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
- * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
- */
--->
-
-<config>
-    <!-- deskclock need to freely run in the background -->
-    <allow-in-power-save package="com.android.deskclock" />
-</config>
diff --git a/imx8m/evk_a200/audio_effects.xml b/imx8m/evk_a200/audio_effects.xml
deleted file mode 100644
index a1c1fc2a..00000000
--- a/imx8m/evk_a200/audio_effects.xml
+++ /dev/null
@@ -1,26 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<audio_effects_conf version="2.0" xmlns="http://schemas.android.com/audio/audio_effects_conf/v2_0">
-    <libraries>
-        <library name="bundle" path="libbundlewrapper.so"/>
-        <library name="reverb" path="libreverbwrapper.so"/>
-        <library name="visualizer" path="libvisualizer.so"/>
-        <library name="downmix" path="libdownmix.so"/>
-        <library name="loudness_enhancer" path="libldnhncr.so"/>
-        <library name="dynamics_processing" path="libdynproc.so"/>
-    </libraries>
-
-    <effects>
-        <effect name="bassboost" library="bundle" uuid="8631f300-72e2-11df-b57e-0002a5d5c51b"/>
-        <effect name="virtualizer" library="bundle" uuid="1d4033c0-8557-11df-9f2d-0002a5d5c51b"/>
-        <effect name="equalizer" library="bundle" uuid="ce772f20-847d-11df-bb17-0002a5d5c51b"/>
-        <effect name="volume" library="bundle" uuid="119341a0-8469-11df-81f9-0002a5d5c51b"/>
-        <effect name="reverb_env_aux" library="reverb" uuid="4a387fc0-8ab3-11df-8bad-0002a5d5c51b"/>
-        <effect name="reverb_env_ins" library="reverb" uuid="c7a511a0-a3bb-11df-860e-0002a5d5c51b"/>
-        <effect name="reverb_pre_aux" library="reverb" uuid="f29a1400-a3bb-11df-8ddc-0002a5d5c51b"/>
-        <effect name="reverb_pre_ins" library="reverb" uuid="172cdf00-a3bc-11df-a72f-0002a5d5c51b"/>
-        <effect name="visualizer" library="visualizer" uuid="d069d9e0-8329-11df-9168-0002a5d5c51b"/>
-        <effect name="downmix" library="downmix" uuid="93f04452-e4fe-41cc-91f9-e475b6d1d69f"/>
-        <effect name="loudness_enhancer" library="loudness_enhancer" uuid="fa415329-2034-4bea-b5dc-5b381c8d1e2c"/>
-        <effect name="dynamics_processing" library="dynamics_processing" uuid="e0e6539b-1781-7261-676f-6d7573696340"/>
-    </effects>
-</audio_effects_conf>
diff --git a/imx8m/evk_a200/audio_policy_configuration.xml b/imx8m/evk_a200/audio_policy_configuration.xml
deleted file mode 100644
index 250131bf..00000000
--- a/imx8m/evk_a200/audio_policy_configuration.xml
+++ /dev/null
@@ -1,123 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
-<!-- Copyright (C) 2017 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
-    <globalConfiguration speaker_drc_enabled="true"/>
-
-    <modules>
-        <module name="primary" halVersion="2.0">
-            <attachedDevices>
-                <item>Speaker</item>
-                <item>Built-In Mic</item>
-            </attachedDevices>
-            <defaultOutputDevice>Speaker</defaultOutputDevice>
-            <mixPorts>
-                <mixPort name="primary output" role="source" flags="AUDIO_OUTPUT_FLAG_PRIMARY">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-                <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_HW_AV_SYNC">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000,96000,192000,384000,768000"
-                             channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_QUAD,AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
-                    <profile name="" format="AUDIO_FORMAT_PCM_FLOAT"
-                             samplingRates="48000,96000,192000,384000,768000"
-                             channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_QUAD,AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
-                </mixPort>
-                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
-                    <profile name="" format="AUDIO_FORMAT_DSD"
-                             samplingRates="2822400,5644800,11289600,22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-                <mixPort name="hdmi output" role="source">
-                    <profile name="" format="AUDIO_FORMAT_PCM_8_24_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-                <mixPort name="bt sco output" role="source">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="16000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-
-                <mixPort name="primary input" role="sink">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
-                </mixPort>
-            </mixPorts>
-            <devicePorts>
-                <devicePort tagName="Speaker" type="AUDIO_DEVICE_OUT_SPEAKER" role="sink" >
-                </devicePort>
-                <devicePort tagName="Wired Headphones" type="AUDIO_DEVICE_OUT_WIRED_HEADPHONE" role="sink">
-                </devicePort>
-                <devicePort tagName="Wired Headset" type="AUDIO_DEVICE_OUT_WIRED_HEADSET" role="sink">
-                </devicePort>
-                <devicePort tagName="Line-Out" type="AUDIO_DEVICE_OUT_LINE" role="sink">
-                </devicePort>
-                <devicePort tagName="HDMI Out" type="AUDIO_DEVICE_OUT_AUX_DIGITAL" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO Headset" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO_HEADSET" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO CarKit" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO_CARKIT" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO" role="sink">
-                </devicePort>
-                <devicePort tagName="Built-In Mic" type="AUDIO_DEVICE_IN_BUILTIN_MIC" role="source">
-                </devicePort>
-                <devicePort tagName="Wired Headset Mic" type="AUDIO_DEVICE_IN_WIRED_HEADSET" role="source">
-                </devicePort>
-                <devicePort tagName="Spdif-In" type="AUDIO_DEVICE_IN_AUX_DIGITAL" role="source">
-                </devicePort>
-                <devicePort tagName="BT SCO Headset Mic" type="AUDIO_DEVICE_IN_BLUETOOTH_SCO_HEADSET" role="source">
-                </devicePort>
-            </devicePorts>
-            <routes>
-                <route type="mix" sink="Speaker"
-                       sources="primary output"/>
-                <route type="mix" sink="Wired Headphones"
-                       sources="dsd output,esai output,primary output"/>
-                <route type="mix" sink="Wired Headset"
-                       sources="dsd output,esai output,primary output"/>
-                <route type="mix" sink="Line-Out"
-                       sources="dsd output,esai output,primary output"/>
-                <route type="mix" sink="HDMI Out"
-                       sources="hdmi output"/>
-                <route type="mix" sink="BT SCO Headset"
-                       sources="bt sco output"/>
-                <route type="mix" sink="BT SCO CarKit"
-                       sources="bt sco output"/>
-                <route type="mix" sink="BT SCO"
-                       sources="bt sco output"/>
-
-                <route type="mix" sink="primary input"
-                       sources="Wired Headset Mic,Built-In Mic,Spdif-In,BT SCO Headset Mic"/>
-            </routes>
-        </module>
-
-        <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
-
-        <!-- Usb Audio HAL -->
-        <xi:include href="usb_audio_policy_configuration.xml"/>
-
-        <!-- Remote Submix Audio HAL -->
-        <xi:include href="r_submix_audio_policy_configuration.xml"/>
-
-    </modules>
-
-    <!-- Volume section -->
-    <xi:include href="audio_policy_volumes.xml"/>
-    <xi:include href="default_volume_tables.xml"/>
-
-</audioPolicyConfiguration>
diff --git a/imx8m/evk_a200/bluetooth/bdroid_buildcfg.h b/imx8m/evk_a200/bluetooth/bdroid_buildcfg.h
deleted file mode 100644
index 606e9abb..00000000
--- a/imx8m/evk_a200/bluetooth/bdroid_buildcfg.h
+++ /dev/null
@@ -1,34 +0,0 @@
-/*
- * Copyright (C) 2012 The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-/* Copyright (C) 2015-2016 Freescale Semiconductor, Inc. */
-/* Copyright 2017-2018 NXP */
-
-#ifndef _BDROID_BUILDCFG_H
-#define _BDROID_BUILDCFG_H
-
-#define BTM_DEF_LOCAL_NAME "iMX8"
-
-// Disables Interleave scan
-#define BTA_HOST_INTERLEAVE_SEARCH  FALSE
-// skips conn update at conn completion
-#define BTA_BLE_SKIP_CONN_UPD  TRUE
-// Disables read remote device feature
-#define BTA_SKIP_BLE_READ_REMOTE_FEAT TRUE
-
-//Enable A2DPSink AVRCPController
-#define BTA_AV_SINK_INCLUDED TRUE
-#endif
diff --git a/imx8m/evk_a200/camera_config_imx8mp.json b/imx8m/evk_a200/camera_config_imx8mp.json
deleted file mode 100644
index 5c4aa5b6..00000000
--- a/imx8m/evk_a200/camera_config_imx8mp.json
+++ /dev/null
@@ -1,45 +0,0 @@
-{
-  "__readme": [
-    "Basic Camera HAL v3 configuration."
-  ],
-
-  "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "GPU_3D",
-
-  "camera_metadata": [
-    {
-      "camera_type": "back",
-      "camera_name": "viv_v4l2_device",
-      "device_node": "/dev/video1",
-      "orientation": "0",
-      "buffer_type": "mmap",
-      "ActiveArrayWidth": "1920",
-      "ActiveArrayHeight": "1080",
-      "PixelArrayWidth": "1920",
-      "PixelArrayHeight": "1080",
-      "PhysicalWidth": "4.032",
-      "PhysicalHeight": "2.268",
-      "FocalLength": "4.0",
-      "MaxJpegSize": "4194304",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000"
-    },
-    {
-      "camera_type": "front",
-      "camera_name": "mxc-isi-cap",
-      "orientation": "0",
-      "buffer_type": "dma",
-      "ActiveArrayWidth": "2592",
-      "ActiveArrayHeight": "1944",
-      "PixelArrayWidth": "2592",
-      "PixelArrayHeight": "1944",
-      "PhysicalWidth": "3.6288",
-      "PhysicalHeight": "2.7216",
-      "FocalLength": "3.37",
-      "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000"
-    }
-  ]
-}
diff --git a/imx8m/evk_a200/compatibility_matrix.xml b/imx8m/evk_a200/compatibility_matrix.xml
deleted file mode 100644
index 67ab2209..00000000
--- a/imx8m/evk_a200/compatibility_matrix.xml
+++ /dev/null
@@ -1,62 +0,0 @@
-<compatibility-matrix version="1.0" type="device">
-    <hal format="hidl" optional="false">
-        <name>android.frameworks.schedulerservice</name>
-        <version>1.0</version>
-        <interface>
-            <name>ISchedulingPolicyService</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.frameworks.sensorservice</name>
-        <version>1.0</version>
-        <interface>
-            <name>ISensorManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.allocator</name>
-        <version>1.0</version>
-        <interface>
-            <name>IAllocator</name>
-            <instance>ashmem</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.manager</name>
-        <version>1.0</version>
-        <interface>
-            <name>IServiceManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.memory</name>
-        <version>1.0</version>
-        <interface>
-            <name>IMapper</name>
-            <instance>ashmem</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.token</name>
-        <version>1.0</version>
-        <interface>
-            <name>ITokenManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.system.wifi.keystore</name>
-        <version>1.0</version>
-        <interface>
-            <name>IKeystore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="native" optional="false">
-        <name>netutils-wrapper</name>
-        <version>1.0</version>
-    </hal>
-</compatibility-matrix>
diff --git a/imx8m/evk_a200/early.init.cfg b/imx8m/evk_a200/early.init.cfg
deleted file mode 100644
index 1f67ffd6..00000000
--- a/imx8m/evk_a200/early.init.cfg
+++ /dev/null
@@ -1,7 +0,0 @@
-insmod vendor/lib/modules/mlan.ko
-insmod vendor/lib/modules/pcie8xxx.ko sta_name=wlan uap_name=wlan wfd_name=p2p max_vir_bss=1 ps_mode=2 auto_ds=2 cfg80211_wext=0xf cal_data_cfg=none p2p_enh=1 fw_name=pcieuart8997_combo_v4.bin
-insmod vendor/lib/modules/synaptics_dsx_i2c.ko
-insmod /vendor/lib/modules/vvcam-video.ko
-insmod /vendor/lib/modules/vvcam-isp.ko
-insmod /vendor/lib/modules/vvcam-dwe.ko
-insmod /vendor/lib/modules/basler-camera-driver-vvcam.ko
diff --git a/imx8m/evk_a200/evk_8mp.mk b/imx8m/evk_a200/evk_8mp.mk
deleted file mode 100644
index 7d552bcb..00000000
--- a/imx8m/evk_a200/evk_8mp.mk
+++ /dev/null
@@ -1,453 +0,0 @@
-# This is a FSL Android Reference Design platform based on i.MX8QP ARD board
-# It will inherit from FSL core product which in turn inherit from Google generic
-
-IMX_DEVICE_PATH := device/nxp/imx8m/evk_8mp
-
-# configs shared between uboot, kernel and Android rootfs
-include $(IMX_DEVICE_PATH)/SharedBoardConfig.mk
-
--include device/nxp/common/imx_path/ImxPathConfig.mk
-include device/nxp/imx8m/ProductConfigCommon.mk
-
-ifneq ($(wildcard $(IMX_DEVICE_PATH)/fstab.nxp),)
-$(shell touch $(IMX_DEVICE_PATH)/fstab.nxp)
-endif
-
-# Overrides
-PRODUCT_NAME := evk_8mp
-PRODUCT_DEVICE := evk_8mp
-PRODUCT_MODEL := EVK_8MP
-
-PRODUCT_FULL_TREBLE_OVERRIDE := true
-PRODUCT_SOONG_NAMESPACES += vendor/nxp-opensource/imx/power
-PRODUCT_SOONG_NAMESPACES += hardware/google/pixel
-
-#Enable this to choose 32 bit user space build
-#IMX8_BUILD_32BIT_ROOTFS := true
-
-# Enable this to support vendor boot and boot header v3, this would be a MUST for GKI
-TARGET_USE_VENDOR_BOOT ?= true
-
-#Enable this to use dynamic partitions for the readonly partitions not touched by bootloader
-TARGET_USE_DYNAMIC_PARTITIONS ?= true
-#If the device is retrofit to have dynamic partition feature, set this variable to true to build
-#the images and OTA package. Here is a demo to update 10.0.0_1.0.0 to 10.0.0_2.0.0 or higher
-TARGET_USE_RETROFIT_DYNAMIC_PARTITION ?= false
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
-  PRODUCT_USE_DYNAMIC_PARTITIONS := true
-  BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
-  BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
-  ifeq ($(TARGET_USE_RETROFIT_DYNAMIC_PARTITION),true)
-    PRODUCT_RETROFIT_DYNAMIC_PARTITIONS := true
-    BOARD_SUPER_PARTITION_METADATA_DEVICE := system
-    ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 2952790016
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-    else
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor product
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 1610612736
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-      BOARD_SUPER_PARTITION_PRODUCT_DEVICE_SIZE := 1879048192
-    endif
-  endif
-endif
-
-# Include keystore attestation keys and certificates.
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
--include $(IMX_SECURITY_PATH)/attestation/imx_attestation.mk
-endif
-
-# Include Android Go config for low memory device.
-ifeq ($(LOW_MEMORY),true)
-$(call inherit-product, build/target/product/go_defaults.mk)
-endif
-
-# Copy device related config and binary to board
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/mcu-sdk/imx8mp/imx8mp_mcu_demo.img:imx8mp_mcu_demo.img \
-    $(IMX_DEVICE_PATH)/app_whitelist.xml:system/etc/sysconfig/app_whitelist.xml \
-    $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
-    $(IMX_DEVICE_PATH)/usb_audio_policy_configuration-direct-output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/usb_audio_policy_configuration-direct-output.xml \
-    $(IMX_DEVICE_PATH)/input-port-associations.xml:$(TARGET_COPY_OUT_VENDOR)/etc/input-port-associations.xml \
-    $(IMX_DEVICE_PATH)/fstab.nxp:$(TARGET_COPY_OUT_VENDOR)/etc/fstab.nxp \
-    $(IMX_DEVICE_PATH)/init.imx8mp.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.imx8mp.rc \
-    $(IMX_DEVICE_PATH)/init.recovery.nxp.rc:root/init.recovery.nxp.rc \
-    $(IMX_DEVICE_PATH)/early.init.cfg:$(TARGET_COPY_OUT_VENDOR)/etc/early.init.cfg \
-    $(IMX_DEVICE_PATH)/init.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.rc \
-    $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.usb.rc \
-    $(IMX_DEVICE_PATH)/required_hardware.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/required_hardware.xml \
-    $(IMX_DEVICE_PATH)/ueventd.nxp.rc:$(TARGET_COPY_OUT_VENDOR)/ueventd.rc \
-    $(LINUX_FIRMWARE_IMX_PATH)/linux-firmware-imx/firmware/sdma/sdma-imx7d.bin:$(TARGET_COPY_OUT_VENDOR)/firmware/imx/sdma/sdma-imx7d.bin \
-    device/nxp/common/init/init.insmod.sh:$(TARGET_COPY_OUT_VENDOR)/bin/init.insmod.sh \
-    device/nxp/common/wifi/p2p_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/p2p_supplicant_overlay.conf \
-    device/nxp/common/wifi/wpa_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/wpa_supplicant_overlay.conf
-
-# Copy isp files to board
-ISP_PROPRIETARY := $(FSL_PROPRIETARY_PATH)/fsl-proprietary/isp
-PRODUCT_COPY_FILES += \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/bin,$(TARGET_COPY_OUT_VENDOR)/bin) \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/lib64,$(TARGET_COPY_OUT_VENDOR)/lib64) \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/config,$(TARGET_COPY_OUT_VENDOR)/etc/configs/isp)
-
-# We load the fstab from device tree so this is not needed, but since no kernel modules are installed to vendor
-# boot ramdisk so far, we need this step to generate the vendor-ramdisk folder or build process would fail. This
-# can be deleted once we figure out what kernel modules should be put into the vendor boot ramdisk.
-ifeq ($(TARGET_USE_VENDOR_BOOT),true)
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/fstab.nxp:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/first_stage_ramdisk/fstab.nxp
-endif
-
-
-# Audio card json
-PRODUCT_COPY_FILES += \
-    device/nxp/common/audio-json/wm8960_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/wm8960_config.json \
-    device/nxp/common/audio-json/micfil_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/micfil_config.json \
-    device/nxp/common/audio-json/hdmi_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/hdmi_config.json \
-    device/nxp/common/audio-json/btsco_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/btsco_config.json \
-    device/nxp/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_COPY_FILES += \
-    device/nxp/common/security/rpmb_key_test.bin:rpmb_key_test.bin \
-    device/nxp/common/security/testkey_public_rsa4096.bin:testkey_public_rsa4096.bin
-endif
-
-PRODUCT_COPY_FILES += \
-    device/nxp/imx8m/evk_8mp/camera_config_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/camera_config_imx8mp.json \
-    device/nxp/imx8m/evk_8mp/ov5640_camera_config_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/ov5640_camera_config_imx8mp.json \
-    device/nxp/imx8m/evk_8mp/isp_camera_config_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/isp_camera_config_imx8mp.json \
-    device/nxp/imx8m/evk_8mp/external_camera_config.xml:$(TARGET_COPY_OUT_VENDOR)/etc/external_camera_config.xml
-
-# ONLY devices that meet the CDD's requirements may declare these features
-PRODUCT_COPY_FILES += \
-    frameworks/native/data/etc/android.hardware.audio.output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.audio.output.xml \
-    frameworks/native/data/etc/android.hardware.bluetooth_le.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.bluetooth_le.xml \
-    frameworks/native/data/etc/android.hardware.camera.external.xml:vendor/etc/permissions/android.hardware.camera.external.xml \
-    frameworks/native/data/etc/android.hardware.camera.front.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.front.xml \
-    frameworks/native/data/etc/android.hardware.camera.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.xml \
-    frameworks/native/data/etc/android.hardware.ethernet.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.ethernet.xml \
-    frameworks/native/data/etc/android.hardware.screen.landscape.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.landscape.xml \
-    frameworks/native/data/etc/android.hardware.screen.portrait.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.portrait.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.distinct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.distinct.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.xml \
-    frameworks/native/data/etc/android.hardware.usb.accessory.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.accessory.xml \
-    frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.software.vulkan.deqp.level-2020-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level-2020-03-01.xml \
-    frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
-    frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
-    frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
-    frameworks/native/data/etc/android.software.app_widgets.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.app_widgets.xml \
-    frameworks/native/data/etc/android.software.backup.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.backup.xml \
-    frameworks/native/data/etc/android.software.device_admin.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.device_admin.xml \
-    frameworks/native/data/etc/android.software.managed_users.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.managed_users.xml \
-    frameworks/native/data/etc/android.software.midi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.midi.xml \
-    frameworks/native/data/etc/android.software.print.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.print.xml \
-    frameworks/native/data/etc/android.software.sip.voip.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.sip.voip.xml \
-    frameworks/native/data/etc/android.software.verified_boot.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.verified_boot.xml \
-    frameworks/native/data/etc/android.software.voice_recognizers.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.voice_recognizers.xml \
-    frameworks/native/data/etc/android.software.activities_on_secondary_displays.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.activities_on_secondary_displays.xml \
-    frameworks/native/data/etc/android.software.picture_in_picture.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.picture_in_picture.xml
-
-# Vendor seccomp policy files for media components:
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/seccomp/mediacodec-seccomp.policy:vendor/etc/seccomp_policy/mediacodec.policy \
-    $(IMX_DEVICE_PATH)/seccomp/mediaextractor-seccomp.policy:vendor/etc/seccomp_policy/mediaextractor.policy \
-    device/nxp/common/seccomp_policy/codec2.vendor.base.policy:vendor/etc/seccomp_policy/codec2.vendor.base.policy \
-    device/nxp/common/seccomp_policy/codec2.vendor.ext.policy:vendor/etc/seccomp_policy/codec2.vendor.ext.policy
-
-PRODUCT_COPY_FILES += \
-    device/nxp/imx8m/evk_8mp/powerhint_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/powerhint_imx8mp.json
-
-# fastboot_imx_flashall scripts, fsl-sdcard-partition script uuu_imx_android_flash scripts
-PRODUCT_COPY_FILES += \
-    device/nxp/common/tools/fastboot_imx_flashall.bat:fastboot_imx_flashall.bat \
-    device/nxp/common/tools/fastboot_imx_flashall.sh:fastboot_imx_flashall.sh \
-    device/nxp/common/tools/imx-sdcard-partition.sh:imx-sdcard-partition.sh \
-    device/nxp/common/tools/uuu_imx_android_flash.bat:uuu_imx_android_flash.bat \
-    device/nxp/common/tools/uuu_imx_android_flash.sh:uuu_imx_android_flash.sh
-
-# Set permission for GMS packages
-PRODUCT_COPY_FILES += \
-	  device/nxp/imx8m/permissions/privapp-permissions-imx.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/privapp.permissions-imx.xml \
-
-USE_XML_AUDIO_POLICY_CONF := 1
-
-DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
-
-PRODUCT_CHARACTERISTICS := tablet
-
-PRODUCT_AAPT_CONFIG += xlarge large tvdpi hdpi xhdpi xxhdpi
-
-# GPU openCL g2d
-PRODUCT_COPY_FILES += \
-    $(IMX_PATH)/imx/opencl-2d/cl_g2d.cl:$(TARGET_COPY_OUT_VENDOR)/etc/cl_g2d.cl
-
-# HWC2 HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.composer@2.4-service
-
-# Charger Mode
-PRODUCT_PRODUCT_PROPERTIES += \
-    ro.charger.no_ui=false
-
-# Do not skip charger_not_need trigger by default
-PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
-    vendor.skip.charger_not_need=0
-
-# Gralloc HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.mapper@2.0-impl-2.1 \
-    android.hardware.graphics.allocator@2.0-impl \
-    android.hardware.graphics.allocator@2.0-service
-
-# RenderScript HAL
-PRODUCT_PACKAGES += \
-    android.hardware.renderscript@1.0-impl
-
-PRODUCT_PACKAGES += \
-    libEGL_VIVANTE \
-    libGLESv1_CM_VIVANTE \
-    libGLESv2_VIVANTE \
-    gralloc_viv.imx \
-    libGAL \
-    libGLSLC \
-    libVSC \
-    libgpuhelper \
-    libSPIRV_viv \
-    libvulkan_VIVANTE \
-    vulkan.imx \
-    libCLC \
-    libLLVM_viv \
-    libOpenCL \
-    libg2d-opencl \
-    libg2d-viv \
-    libOpenVX \
-    libOpenVXU \
-    libNNVXCBinary-evis \
-    libNNVXCBinary-evis2 \
-    libNNVXCBinary-lite \
-    libOvx12VXCBinary-evis \
-    libOvx12VXCBinary-evis2 \
-    libOvx12VXCBinary-lite \
-    libNNGPUBinary-evis \
-    libNNGPUBinary-evis2 \
-    libNNGPUBinary-lite \
-    libNNGPUBinary-ulite \
-    libNNArchPerf \
-    libarchmodelSw
-
-PRODUCT_PACKAGES += \
-    android.hardware.audio@6.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@6.0-impl:32 \
-    android.hardware.power@1.3-service.imx \
-    android.hardware.light@2.0-impl \
-    android.hardware.light@2.0-service \
-    android.hardware.configstore@1.1-service \
-    configstore@1.1.policy
-
-ifneq ($(IMX8MP_USES_GKI), true)
-# Thermal HAL
-PRODUCT_PACKAGES += \
-    android.hardware.thermal@2.0-service.imx
-PRODUCT_COPY_FILES += \
-    device/nxp/imx8m/evk_8mp/thermal_info_config_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mp.json
-endif
-
-# Neural Network HAL and lib
-PRODUCT_PACKAGES += \
-    libovxlib \
-    libnnrt \
-    android.hardware.neuralnetworks@1.2-service-vsi-npu-server
-
-# Usb HAL
-PRODUCT_PACKAGES += \
-    android.hardware.usb@1.1-service.imx
-
-# Bluetooth HAL
-PRODUCT_PACKAGES += \
-    android.hardware.bluetooth@1.0-impl \
-    android.hardware.bluetooth@1.0-service
-
-#nxp 8997 Bluetooth vendor config
-PRODUCT_PACKAGES += \
-    bt_vendor.conf
-
-# WiFi HAL
-PRODUCT_PACKAGES += \
-    android.hardware.wifi@1.0-service \
-    wifilogd \
-    wificond
-
-# WiFi RRO
-PRODUCT_PACKAGES += \
-    WifiOverlay
-
-# nxp 8997 wifi and bluetooth combo Firmware
-PRODUCT_COPY_FILES += \
-    vendor/nxp/imx-firmware/nxp/FwImage_8997/pcieuart8997_combo_v4.bin:vendor/firmware/pcieuart8997_combo_v4.bin \
-    vendor/nxp/imx-firmware/nxp/android_wifi_mod_para.conf:vendor/firmware/wifi_mod_para.conf
-
-# Wifi regulatory
-PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
-
-# Keymaster HAL
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service.trusty
-endif
-
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service-imx
-
-# DRM HAL
-TARGET_ENABLE_MEDIADRM_64 := true
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.0-impl \
-    android.hardware.drm@1.0-service
-
-# new gatekeeper HAL
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-service.software-imx
-
-ifneq ($(BUILD_TARGET_FS),ubifs)
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.frp.pst=/dev/block/by-name/presistdata
-endif
-
-PRODUCT_PACKAGES += \
-    libg1 \
-    libhantro \
-    libcodec \
-    libhantro_vc8000e
-
-# imx c2 codec binary
-PRODUCT_PACKAGES += \
-    lib_vpu_wrapper \
-    lib_imx_c2_videodec_common \
-    lib_imx_c2_videodec \
-    lib_imx_c2_vpuwrapper_dec \
-    lib_imx_c2_videoenc_common \
-    lib_imx_c2_videoenc \
-    lib_imx_c2_vpuwrapper_enc \
-    lib_imx_c2_process \
-    lib_imx_c2_process_dummy_post \
-    lib_imx_c2_process_g2d_pre \
-    c2_component_register \
-    c2_component_register_ms \
-    c2_component_register_ra
-
-# dsp decoder
-PRODUCT_PACKAGES += \
-    media_codecs_c2_dsp.xml \
-    media_codecs_c2_dsp_aacp.xml \
-    media_codecs_c2_dsp_wma.xml \
-    lib_dsp_aac_dec \
-    lib_dsp_bsac_dec \
-    lib_dsp_codec_wrap \
-    lib_dsp_mp3_dec \
-    lib_dsp_wrap_arm12_android \
-    lib_dsp_mp3_dec_ext \
-    lib_dsp_codec_wrap_ext \
-    lib_aacd_wrap_dsp \
-    lib_mp3d_wrap_dsp \
-    lib_wma10d_wrap_dsp \
-    c2_component_register_dsp \
-    c2_component_register_dsp_wma \
-    c2_component_register_dsp_aacp
-
-
-PRODUCT_PACKAGES += \
-    DirectAudioPlayer
-
-# Tensorflow lite camera demo
-PRODUCT_PACKAGES += \
-                    tflitecamerademo
-
-# Multi-Display launcher
-PRODUCT_PACKAGES += \
-    MultiDisplay
-
-# Add oem unlocking option in settings.
-PRODUCT_PROPERTY_OVERRIDES += ro.frp.pst=/dev/block/by-name/presistdata
-PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
-
-# Add Trusty OS backed gatekeeper and secure storage proxy
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-service.trusty \
-    storageproxyd
-endif
-
-#DRM Widevine 1.2 L3 support
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.0-impl \
-    android.hardware.drm@1.0-service \
-    android.hardware.drm@1.3-service.widevine \
-    android.hardware.drm@1.3-service.clearkey \
-    libwvdrmcryptoplugin \
-    libwvhidl \
-    libwvdrmengine \
-
-#Dumpstate HAL 1.1 support
-PRODUCT_PACKAGES += \
-    android.hardware.dumpstate@1.1-service.imx
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-#Oemlock HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.oemlock@1.0-service.imx
-endif
-
-# Specify rollback index for boot and vbmeta partitions
-ifneq ($(AVB_RBINDEX),)
-BOARD_AVB_ROLLBACK_INDEX := $(AVB_RBINDEX)
-else
-BOARD_AVB_ROLLBACK_INDEX := 0
-endif
-
-ifneq ($(AVB_BOOT_RBINDEX),)
-BOARD_AVB_BOOT_ROLLBACK_INDEX := $(AVB_BOOT_RBINDEX)
-else
-BOARD_AVB_BOOT_ROLLBACK_INDEX := 0
-endif
-
-IMX-DEFAULT-G2D-LIB := libg2d-opencl
-
-ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
-ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
-INSTALL_64BIT_LIBRARY := true
-endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_aacp_dec/imx_dsp_aacp_dec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_codec/imx_dsp_codec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_wma_dec/imx_dsp_wma_dec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp/imx_dsp_8mp.mk
-endif
-
-# Included GMS package
-$(call inherit-product-if-exists, vendor/partner_gms/products/gms.mk)
-PRODUCT_SOONG_NAMESPACES += vendor/partner_gms
-
-# Resume on Reboot support
-PRODUCT_PACKAGES += \
-    android.hardware.rebootescrow-service.default
-
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.rebootescrow.device=/dev/block/pmem0
-
-PRODUCT_SOONG_NAMESPACES += hardware/google/camera
-PRODUCT_SOONG_NAMESPACES += vendor/nxp-opensource/imx/camera
-
-$(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
-
-$(call inherit-product, $(SRC_TARGET_DIR)/product/emulated_storage.mk)
diff --git a/imx8m/evk_a200/evk_a200.mk b/imx8m/evk_a200/evk_a200.mk
deleted file mode 100644
index 3969a68c..00000000
--- a/imx8m/evk_a200/evk_a200.mk
+++ /dev/null
@@ -1,423 +0,0 @@
-# This is a FSL Android Reference Design platform based on i.MX8QP ARD board
-# It will inherit from FSL core product which in turn inherit from Google generic
-
-IMX_DEVICE_PATH := device/idtech/imx8m/evk_a200
-
-# configs shared between uboot, kernel and Android rootfs
-include $(IMX_DEVICE_PATH)/SharedBoardConfig.mk
-
--include device/idtech/common/imx_path/ImxPathConfig.mk
-include device/idtech/imx8m/ProductConfigCommon.mk
-
-ifneq ($(wildcard $(IMX_DEVICE_PATH)/fstab.freescale),)
-$(shell touch $(IMX_DEVICE_PATH)/fstab.freescale)
-endif
-
-# Overrides
-PRODUCT_NAME := evk_a200
-PRODUCT_DEVICE := evk_a200
-PRODUCT_MODEL := EVK_A200
-
-PRODUCT_FULL_TREBLE_OVERRIDE := true
-
-#Enable this to choose 32 bit user space build
-#IMX8_BUILD_32BIT_ROOTFS := true
-
-#Enable this to use dynamic partitions for the readonly partitions not touched by bootloader
-TARGET_USE_DYNAMIC_PARTITIONS ?= true
-#If the device is retrofit to have dynamic partition feature, set this variable to true to build
-#the images and OTA package. Here is a demo to update 10.0.0_1.0.0 to 10.0.0_2.0.0 or higher
-TARGET_USE_RETROFIT_DYNAMIC_PARTITION ?= false
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  PRODUCT_USE_DYNAMIC_PARTITIONS := true
-  BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
-  BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
-  ifeq ($(TARGET_USE_RETROFIT_DYNAMIC_PARTITION),true)
-    PRODUCT_RETROFIT_DYNAMIC_PARTITIONS := true
-    BOARD_SUPER_PARTITION_METADATA_DEVICE := system
-    ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 2952790016
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-    else
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor product
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 1610612736
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-      BOARD_SUPER_PARTITION_PRODUCT_DEVICE_SIZE := 1879048192
-    endif
-  endif
-endif
-
-# Include keystore attestation keys and certificates.
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
--include $(IMX_SECURITY_PATH)/attestation/imx_attestation.mk
-endif
-
-# Include Android Go config for low memory device.
-ifeq ($(LOW_MEMORY),true)
-$(call inherit-product, build/target/product/go_defaults.mk)
-endif
-
-# Copy device related config and binary to board
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/mcu-sdk/imx8mp/imx8mp_mcu_demo.img:imx8mp_mcu_demo.img \
-    $(IMX_DEVICE_PATH)/app_whitelist.xml:system/etc/sysconfig/app_whitelist.xml \
-    $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
-    $(IMX_DEVICE_PATH)/usb_audio_policy_configuration-direct-output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/usb_audio_policy_configuration-direct-output.xml \
-    $(IMX_DEVICE_PATH)/input-port-associations.xml:$(TARGET_COPY_OUT_VENDOR)/etc/input-port-associations.xml \
-    $(IMX_DEVICE_PATH)/fstab.freescale:$(TARGET_COPY_OUT_VENDOR)/etc/fstab.freescale \
-    $(IMX_DEVICE_PATH)/init.imx8mp.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.imx8mp.rc \
-    $(IMX_DEVICE_PATH)/init.recovery.freescale.rc:root/init.recovery.freescale.rc \
-    $(IMX_DEVICE_PATH)/early.init.cfg:$(TARGET_COPY_OUT_VENDOR)/etc/early.init.cfg \
-    $(IMX_DEVICE_PATH)/init.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.rc \
-    $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.usb.rc \
-    $(IMX_DEVICE_PATH)/required_hardware.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/required_hardware.xml \
-    $(IMX_DEVICE_PATH)/ueventd.freescale.rc:$(TARGET_COPY_OUT_VENDOR)/ueventd.rc \
-    $(LINUX_FIRMWARE_IMX_PATH)/linux-firmware-imx/firmware/sdma/sdma-imx7d.bin:$(TARGET_COPY_OUT_VENDOR)/firmware/imx/sdma/sdma-imx7d.bin \
-    device/idtech/common/init/init.insmod.sh:$(TARGET_COPY_OUT_VENDOR)/bin/init.insmod.sh \
-    device/idtech/common/wifi/p2p_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/p2p_supplicant_overlay.conf \
-    device/idtech/common/wifi/wpa_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/wpa_supplicant_overlay.conf \
-    device/idtech/common/prebuilts/spl_tab.img:$(PRODUCT_OUT)/spl_tab.img \
-    device/idtech/common/prebuilts/mem_info.img:$(PRODUCT_OUT)/mem_info.img \
-    device/idtech/common/prebuilts/mem_info.txt:$(PRODUCT_OUT)/mem_info.txt
-
-# Copy isp files to board
-ISP_PROPRIETARY := $(FSL_PROPRIETARY_PATH)/fsl-proprietary/isp
-PRODUCT_COPY_FILES += \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/bin,$(TARGET_COPY_OUT_VENDOR)/bin) \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/lib64,$(TARGET_COPY_OUT_VENDOR)/lib64) \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/config,$(TARGET_COPY_OUT_VENDOR)/etc/configs/isp)
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/dynamic_partiton_tools/lpmake:lpmake \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/dynamic_partiton_tools/lpmake.exe:lpmake.exe
-endif
-
-# Audio card json
-PRODUCT_COPY_FILES += \
-    device/idtech/common/audio-json/wm8960_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/wm8960_config.json \
-    device/idtech/common/audio-json/micfil_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/micfil_config.json \
-    device/idtech/common/audio-json/hdmi_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/hdmi_config.json \
-    device/idtech/common/audio-json/btsco_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/btsco_config.json \
-    device/idtech/common/audio-json/rt5640_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/rt5640_config.json \
-    device/idtech/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_COPY_FILES += \
-    device/idtech/common/security/rpmb_key_test.bin:rpmb_key_test.bin \
-    device/idtech/common/security/testkey_public_rsa4096.bin:testkey_public_rsa4096.bin
-endif
-
-PRODUCT_COPY_FILES += \
-    device/idtech/imx8m/evk_a200/camera_config_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/camera_config_imx8mp.json \
-    device/idtech/imx8m/evk_a200/ov5640_camera_config_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/ov5640_camera_config_imx8mp.json \
-    device/idtech/imx8m/evk_a200/isp_camera_config_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/isp_camera_config_imx8mp.json
-
-# ONLY devices that meet the CDD's requirements may declare these features
-PRODUCT_COPY_FILES += \
-    frameworks/native/data/etc/android.hardware.audio.output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.audio.output.xml \
-    frameworks/native/data/etc/android.hardware.bluetooth_le.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.bluetooth_le.xml \
-    frameworks/native/data/etc/android.hardware.camera.front.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.front.xml \
-    frameworks/native/data/etc/android.hardware.camera.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.xml \
-    frameworks/native/data/etc/android.hardware.ethernet.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.ethernet.xml \
-    frameworks/native/data/etc/android.hardware.screen.landscape.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.landscape.xml \
-    frameworks/native/data/etc/android.hardware.screen.portrait.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.portrait.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.distinct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.distinct.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.xml \
-    frameworks/native/data/etc/android.hardware.usb.accessory.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.accessory.xml \
-    frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
-    frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
-    frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
-    frameworks/native/data/etc/android.software.app_widgets.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.app_widgets.xml \
-    frameworks/native/data/etc/android.software.backup.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.backup.xml \
-    frameworks/native/data/etc/android.software.device_admin.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.device_admin.xml \
-    frameworks/native/data/etc/android.software.managed_users.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.managed_users.xml \
-    frameworks/native/data/etc/android.software.print.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.print.xml \
-    frameworks/native/data/etc/android.software.sip.voip.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.sip.voip.xml \
-    frameworks/native/data/etc/android.software.verified_boot.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.verified_boot.xml \
-    frameworks/native/data/etc/android.software.voice_recognizers.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.voice_recognizers.xml \
-    frameworks/native/data/etc/android.software.activities_on_secondary_displays.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.activities_on_secondary_displays.xml \
-    frameworks/native/data/etc/android.software.picture_in_picture.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.picture_in_picture.xml
-
-# Vendor seccomp policy files for media components:
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/seccomp/mediacodec-seccomp.policy:vendor/etc/seccomp_policy/mediacodec.policy \
-    $(IMX_DEVICE_PATH)/seccomp/mediaextractor-seccomp.policy:vendor/etc/seccomp_policy/mediaextractor.policy
-
-PRODUCT_COPY_FILES += \
-    device/idtech/imx8m/evk_a200/powerhint_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/powerhint_imx8mp.json
-
-# fastboot_imx_flashall scripts, fsl-sdcard-partition script uuu_imx_android_flash scripts
-PRODUCT_COPY_FILES += \
-    device/idtech/common/tools/fastboot_imx_flashall.bat:fastboot_imx_flashall.bat \
-    device/idtech/common/tools/fastboot_imx_flashall.sh:fastboot_imx_flashall.sh \
-    device/idtech/common/tools/fsl-sdcard-partition.sh:fsl-sdcard-partition.sh \
-    device/idtech/common/tools/uuu_imx_android_flash.bat:uuu_imx_android_flash.bat \
-    device/idtech/common/tools/uuu_imx_android_flash.sh:uuu_imx_android_flash.sh
-
-# Copy media_codecs.xml for 1GB evk_a200 board
-ifeq ($(LOW_MEMORY),true)
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/media-profile/imx8mp/media_codecs_no_vpu.xml:$(TARGET_COPY_OUT_VENDOR)/etc/media_codecs.xml
-endif
-
-USE_XML_AUDIO_POLICY_CONF := 1
-
-DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
-
-PRODUCT_CHARACTERISTICS := tablet
-
-PRODUCT_AAPT_CONFIG += xlarge large tvdpi hdpi xhdpi xxhdpi
-
-# GPU openCL g2d
-PRODUCT_COPY_FILES += \
-    $(IMX_PATH)/imx/opencl-2d/cl_g2d.cl:$(TARGET_COPY_OUT_VENDOR)/etc/cl_g2d.cl
-
-# HWC2 HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.composer@2.3-service
-
-# Gralloc HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.mapper@2.0-impl-2.1 \
-    android.hardware.graphics.allocator@2.0-impl \
-    android.hardware.graphics.allocator@2.0-service
-
-# RenderScript HAL
-PRODUCT_PACKAGES += \
-    android.hardware.renderscript@1.0-impl
-
-PRODUCT_PACKAGES += \
-    libEGL_VIVANTE \
-    libGLESv1_CM_VIVANTE \
-    libGLESv2_VIVANTE \
-    gralloc_viv.imx \
-    libGAL \
-    libGLSLC \
-    libVSC \
-    libgpuhelper \
-    libSPIRV_viv \
-    libvulkan_VIVANTE \
-    vulkan.imx \
-    libCLC \
-    libLLVM_viv \
-    libOpenCL \
-    libg2d-opencl \
-    libg2d-viv \
-    libOpenVX \
-    libOpenVXU \
-    libNNVXCBinary-evis \
-    libNNVXCBinary-evis2 \
-    libNNVXCBinary-lite \
-    libOvx12VXCBinary-evis \
-    libOvx12VXCBinary-evis2 \
-    libOvx12VXCBinary-lite \
-    libNNGPUBinary-evis \
-    libNNGPUBinary-evis2 \
-    libNNGPUBinary-lite \
-    libNNGPUBinary-ulite \
-    libNNArchPerf \
-    libarchmodelSw \
-    gatekeeper.imx
-
-PRODUCT_PACKAGES += \
-    android.hardware.audio@5.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@5.0-impl:32 \
-    android.hardware.power@1.3-service.imx \
-    android.hardware.light@2.0-impl \
-    android.hardware.light@2.0-service \
-    android.hardware.sensors@1.0-impl \
-    android.hardware.sensors@1.0-convert \
-    android.hardware.sensors@1.0-service \
-    android.hardware.configstore@1.1-service \
-    configstore@1.1.policy
-
-# Thermal HAL
-PRODUCT_PACKAGES += \
-    android.hardware.thermal@2.0-service.imx
-PRODUCT_COPY_FILES += \
-    device/idtech/imx8m/evk_a200/thermal_info_config_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mp.json
-
-# Neural Network HAL and lib
-PRODUCT_PACKAGES += \
-    libovxlib \
-    libnnrt \
-    android.hardware.neuralnetworks@1.2-service-vsi-npu-server
-
-# Usb HAL
-PRODUCT_PACKAGES += \
-    android.hardware.usb@1.1-service.imx
-
-# Bluetooth HAL
-PRODUCT_PACKAGES += \
-    android.hardware.bluetooth@1.0-impl \
-    android.hardware.bluetooth@1.0-service
-
-#nxp 8997 Bluetooth vendor config
-PRODUCT_PACKAGES += \
-    bt_vendor.conf
-
-# WiFi HAL
-PRODUCT_PACKAGES += \
-    android.hardware.wifi@1.0-service \
-    wifilogd \
-    wificond
-
-# nxp 8997 wifi and bluetooth combo Firmware
-PRODUCT_COPY_FILES += \
-    vendor/nxp/imx-firmware/nxp/FwImage_8997/pcieuart8997_combo_v4.bin:vendor/firmware/pcieuart8997_combo_v4.bin
-
-# Wifi regulatory
-PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
-
-# Keymaster HAL
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@3.0-service.trusty
-endif
-
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@3.0-impl \
-    android.hardware.keymaster@3.0-service
-
-# DRM HAL
-TARGET_ENABLE_MEDIADRM_64 := true
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.0-impl \
-    android.hardware.drm@1.0-service
-
-# new gatekeeper HAL
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-impl \
-    android.hardware.gatekeeper@1.0-service
-
-ifneq ($(BUILD_TARGET_FS),ubifs)
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.frp.pst=/dev/block/by-name/presistdata
-endif
-
-# ro.product.first_api_level indicates the first api level the device has commercially launched on.
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.product.first_api_level=28
-
-PRODUCT_PACKAGES += \
-    libg1 \
-    libhantro \
-    libcodec \
-    libhantro_vc8000e
-
-# imx c2 codec binary
-PRODUCT_PACKAGES += \
-    lib_vpu_wrapper \
-    lib_imx_c2_videodec_common \
-    lib_imx_c2_videodec \
-    lib_imx_c2_vpuwrapper_dec \
-    lib_imx_c2_videoenc_common \
-    lib_imx_c2_videoenc \
-    lib_imx_c2_vpuwrapper_enc \
-    lib_imx_c2_process \
-    lib_imx_c2_process_dummy_post \
-    lib_imx_c2_process_g2d_pre \
-    c2_component_register \
-    c2_component_register_ms \
-    c2_component_register_ra
-
-# dsp decoder
-PRODUCT_PACKAGES += \
-    media_codecs_c2_dsp.xml \
-    media_codecs_c2_dsp_aacp.xml \
-    media_codecs_c2_dsp_wma.xml \
-    lib_dsp_aac_dec \
-    lib_dsp_bsac_dec \
-    lib_dsp_codec_wrap \
-    lib_dsp_mp3_dec \
-    lib_dsp_wrap_arm12_android \
-    lib_dsp_mp3_dec_ext \
-    lib_dsp_codec_wrap_ext \
-    lib_aacd_wrap_dsp \
-    lib_mp3d_wrap_dsp \
-    lib_wma10d_wrap_dsp \
-    c2_component_register_dsp \
-    c2_component_register_dsp_wma \
-    c2_component_register_dsp_aacp
-
-
-PRODUCT_PACKAGES += \
-    DirectAudioPlayer
-
-# Add oem unlocking option in settings.
-PRODUCT_PROPERTY_OVERRIDES += ro.frp.pst=/dev/block/by-name/presistdata
-PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
-
-# Add Trusty OS backed gatekeeper and secure storage proxy
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    gatekeeper.trusty \
-    storageproxyd
-endif
-
-#DRM Widevine 1.2 L3 support
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.0-impl \
-    android.hardware.drm@1.0-service \
-    android.hardware.drm@1.2-service.widevine \
-    android.hardware.drm@1.2-service.clearkey \
-    libwvdrmcryptoplugin \
-    libwvhidl \
-    libwvdrmengine \
-
-#Dumpstate HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.dumpstate@1.0-service.imx
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-#Oemlock HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.oemlock@1.0-service.imx
-endif
-
-# Multi-Display launcher
-PRODUCT_PACKAGES += \
-    MultiClientInputMethod
-
-# Specify rollback index for bootloader and for AVB
-ifneq ($(AVB_RBINDEX),)
-BOARD_AVB_ROLLBACK_INDEX := $(AVB_RBINDEX)
-else
-BOARD_AVB_ROLLBACK_INDEX := 0
-endif
-
-ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-$(call inherit-product, $(SRC_TARGET_DIR)/product/gsi_keys.mk)
-PRODUCT_PACKAGES += \
-    adb_debug.prop
-endif
-
-IMX-DEFAULT-G2D-LIB := libg2d-opencl
-
-ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
-ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
-INSTALL_64BIT_LIBRARY := true
-endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_aacp_dec/imx_dsp_aacp_dec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_codec/imx_dsp_codec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_wma_dec/imx_dsp_wma_dec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp/imx_dsp_8mp.mk
-endif
-
-# Included GMS package
-$(call inherit-product-if-exists, vendor/partner_gms/products/gms.mk)
-
-$(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
-
diff --git a/imx8m/evk_a200/init.imx8mp.rc b/imx8m/evk_a200/init.imx8mp.rc
deleted file mode 100755
index 2f28d0ea..00000000
--- a/imx8m/evk_a200/init.imx8mp.rc
+++ /dev/null
@@ -1,58 +0,0 @@
-on early-boot
-
-    # Set OpenGLES version
-    setprop ro.opengles.version 196609
-
-    # Set GPU 3D minimum clock to 3/64
-    write /sys/bus/platform/drivers/galcore/gpu3DMinClock 3
-
-    # change for FSL specific service
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
-    chmod 0440 /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
-
-on property:sys.boot_completed=1
-    # Set default CPU frequency governor
-    # configure governor settings for little cluster
-    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "schedutil"
-    # The rate-limit tunable in the schedutil governor applies to transitions to both lower and higher frequencies
-    # Set up and down limit to 200us/200us
-    write /sys/devices/system/cpu/cpufreq/schedutil/up_rate_limit_us 200
-    write /sys/devices/system/cpu/cpufreq/schedutil/down_rate_limit_us 200
-
-on property:sys.boot_completed=1
-    # update cpuset now that processors are up
-    write /dev/cpuset/foreground/cpus 0-3
-
-    # top-app gets all cpus
-    write /dev/cpuset/top-app/cpus 0-3
-
-    #background contains a small subset (generally one little core)
-    write /dev/cpuset/background/cpus 0
-
-    # add system-background cpuset, a new cpuset for system services
-    # that should not run on larger cores
-    # system-background is for system tasks that should only run on
-    # little cores, not on bigs to be used only by init
-    write /dev/cpuset/system-background/cpus 0-2
-
-on early-boot
-    export VSI_LOG_LEVEL 0
-    start isp_media_server
-
-service isp_media_server /vendor/bin/isp_media_server /vendor/etc/configs/isp/daA3840_30mc_1080P.json
-    group camera
-    oneshot
-
-on init
-    #IDtech added for AB ota update bootloader
-    symlink   /dev/block/mmcblk2boot0p1   /dev/block/by-name/spl_a
-    symlink   /dev/block/mmcblk2boot1p1   /dev/block/by-name/spl_b
-    symlink   /dev/block/mmcblk2boot0p2   /dev/block/by-name/spl_bak_a
-    symlink   /dev/block/mmcblk2boot1p2   /dev/block/by-name/spl_bak_b
diff --git a/imx8m/evk_a200/init.rc b/imx8m/evk_a200/init.rc
deleted file mode 100644
index 33d25212..00000000
--- a/imx8m/evk_a200/init.rc
+++ /dev/null
@@ -1,306 +0,0 @@
-import /vendor/etc/init/hw/init.${ro.hardware}.usb.rc
-import /vendor/etc/init/hw/init.${ro.hardware}.${ro.boot.soc_type}.rc
-import /init.idtech.rc
-
-on early-init
-    # mount the debugfs
-    mount debugfs none /sys/kernel/debug/ mode=0755
-
-    # Mount binderfs
-    mkdir /dev/binderfs
-    mount binder binder /dev/binderfs stats=global
-    chmod 0755 /dev/binderfs
-
-    symlink /dev/binderfs/binder /dev/binder
-    symlink /dev/binderfs/hwbinder /dev/hwbinder
-    symlink /dev/binderfs/vndbinder /dev/vndbinder
-
-    chmod 0666 /dev/binderfs/hwbinder
-    chmod 0666 /dev/binderfs/binder
-    chmod 0666 /dev/binderfs/vndbinder
-
-
-on early-init
-    start early_init_sh
-
-    # Due keymaster start very early so set prop here
-    # Also gatekeeper share same role for keymaster
-    setprop ro.hardware.keystore ${ro.boot.keystore}
-    setprop ro.hardware.gatekeeper ${ro.boot.keystore}
-    setprop vendor.storageproxyd ${ro.boot.keystore}
-
-on init
-    start watchdogd
-
-    # Support legacy paths
-    symlink /sdcard /mnt/sdcard
-    symlink /sdcard /storage/sdcard0
-
-    # setup the global environment
-    export CORE_REGISTER_FILE /vendor/etc/core_register
-    export COMPONENT_REGISTER_FILE /vendor/etc/component_register
-    export CONTENTPIPE_REGISTER_FILE /vendor/etc/contentpipe_register
-
-    # disable cursor blink for fbcon, if no splash screen support
-    write /sys/class/graphics/fbcon/cursor_blink 0
-
-    # deattch the fbcon as hdmi hotplug conflict with fbcon
-    write /sys/class/vtconsole/vtcon1/bind 0
-
-    chown system system /dev/stune/top-app/schedtune.boost
-    chmod 664 /dev/stune/top-app/schedtune.boost
-    chown system system /dev/stune/top-app/schedtune.prefer_idle
-    chmod 664 /dev/stune/top-app/schedtune.prefer_idle
-    chown system system /dev/stune/foreground/schedtune.boost
-    chmod 664 /dev/stune/foreground/schedtune.boost
-    chown system system /dev/stune/foreground/schedtune.prefer_idle
-    chmod 664 /dev/stune/foreground/schedtune.prefer_idle
-    chown system system /dev/stune/schedtune.boost
-    chmod 664 /dev/stune/schedtune.boost
-
-    # set default schedTune value for foreground/top-app (only affects EAS)
-    write /dev/stune/foreground/schedtune.boost 10
-    write /dev/stune/foreground/schedtune.prefer_idle 1
-    write /dev/stune/top-app/schedtune.boost 40
-    write /dev/stune/top-app/schedtune.prefer_idle 1
-    write /dev/stune/rt/schedtune.boost 50
-    write /dev/stune/rt/schedtune.prefer_idle 1
-
-on late-fs
-    # Start keymaster service
-    start vendor.keymaster-3-0-${ro.boot.keystore}
-    setprop vendor.powerhal.init 1
-
-    mount_all /vendor/etc/fstab.freescale --late
-
-on late-fs && property:vendor.storageproxyd=trusty
-    start vendor.oemlock-1-0
-
-on early-boot
-    # For evk_8mp, when swap used about 400M, upgrade the level.
-    setprop ro.lmk.upgrade_pressure 93
-    setprop ro.lmk.downgrade_pressure 99
-    setprop ro.lmk.critical_upgrade true
-
-    # Set the host name which used in console
-    export HOSTNAME evk_a200
-
-    # Set permission for IIM node
-    symlink /dev/mxs_viim /dev/mxc_mem
-
-    # Enable Tethering in the Settings
-    setprop ro.tether.denied false
-
-    setprop hwc.stretch.filter  1
-
-    # Default g2d [dpu|pxp|viv] lib to be used
-    setprop vendor.imx.default-g2d viv
-
-    # fsl omx graphic manager media framework property
-    setprop rw.VIDEO_RENDER_NAME video_render.surface
-    setprop media.fsl_codec.flag 7
-
-    setprop camera.disable_zsl_mode 1
-
-    #Enable GPU 2D do CSC on imx8mp platform
-    setprop vendor.camera.2d.enable true
-
-   # Tweak the mmc device read ahead buffer size
-    write /sys/block/mmcblk1/queue/read_ahead_kb 2048
-    write /sys/block/mmcblk2/queue/read_ahead_kb 2048
-
-    # Set period_us for usb audio
-    setprop ro.audio.usb.period_us 20000
-
-    # Prepare for wifi
-    setprop wifi.interface wlan0
-    setprop wifi.direct.interface p2p0
-    setprop wifi.concurrent.interface wlan1
-
-    setprop persist.service.bdroid.bdaddr 22:22:67:C6:69:73
-
-    # Use ro.boot.lcd_density to override ro.sf.lcd_density
-    setprop ro.sf.lcd_density ${ro.boot.lcd_density}
-
-    # prepare for ril
-    setprop ro.ril.wake_lock_timeout 300
-
-    # Set tracefs permission to 755
-    chmod 0755 /sys/kernel/debug/tracing
-
-    # Set sw_sync group to graphics and set permission to 664
-    chown root graphics /sys/kernel/debug/sync/sw_sync
-    chmod 0664 /sys/kernel/debug/sync/sw_sync
-
-    # Default backlight device
-    setprop hw.backlight.dev "32e60000.mipi_dsi.0"
-    # Chmod/chown FSL specific sys entry
-    chown system system /sys/class/backlight/32e60000.mipi_dsi.0/brightness
-    chmod 0660 /sys/class/backlight/32e60000.mipi_dsi.0/brightness
-
-    # Set light sensor sysfs path and light sensor threshold lux value
-    setprop ro.hardware.lightsensor "/sys/class/i2c-dev/i2c-0/device/0-0044/"
-    setprop ro.lightsensor.threshold  20
-
-    # Dectect DSF streams when scanning media
-    setprop ro.FSL_DSF_PARSER 1
-
-    # Allow DSD file(duration larger than 10s) can play
-    setprop audio.offload.min.duration.secs 10
-
-    # Enlarge limition of audio buffer allocation
-    setprop ro.af.client_heap_size_kbyte 32768
-
-    # enlarge media max memory size to 3G.
-    setprop ro.media.maxmem 3221225471
-
-    start vendor.wifi_hal_legacy
-
-service wpa_supplicant /vendor/bin/hw/wpa_supplicant \
-    -O/data/vendor/wifi/wpa/sockets -puse_p2p_group_interface=1 \
-    -g@android:wpa_wlan0
-    interface android.hardware.wifi.supplicant@1.0::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.1::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.2::ISupplicant default
-    class main
-    socket wpa_wlan0 dgram 660 wifi wifi
-    disabled
-    oneshot
-
-service sensor_fusion /vendor/bin/fsl_sensor_fusion
-    class late_start
-    seclabel u:r:sensors:s0
-    user system
-    group input
-    oneshot
-
-service vendor.sensors-hal-1-0 /vendor/bin/hw/android.hardware.sensors@1.0-service
-    class hal
-    user system
-    group system wakelock input root
-    capabilities BLOCK_SUSPEND SYS_NICE
-
-# Set watchdog timer to 30 seconds and pet it every 10 seconds to get a 20 second margin
-service watchdogd /system/bin/watchdogd 10 20
-    class core
-    seclabel u:r:watchdogd:s0
-
-service dhcpcd_wlan0 /system/bin/dhcpcd -aABDKL
-    class main
-    disabled
-    oneshot
-
-service dhcpcd_p2p /system/bin/dhcpcd -aABKL
-    class main
-    disabled
-    oneshot
-
-service dhcpcd_eth0 /system/bin/dhcpcd -ABKL eth0
-    class main
-    disabled
-    oneshot
-
-service dhcpcd_bt-pan /system/bin/dhcpcd -ABKL
-    class main
-    disabled
-    oneshot
-
-service iprenew_wlan0 /system/bin/dhcpcd -n
-    class main
-    disabled
-    oneshot
-
-service iprenew_p2p /system/bin/dhcpcd -n
-    class main
-    disabled
-    oneshot
-
-service iprenew_eth0 /system/bin/dhcpcd -n eth0
-    class main
-    disabled
-    oneshot
-
-service iprenew_bt-pan /system/bin/dhcpcd -n
-    class main
-    disabled
-    oneshot
-
-# bugreport is triggered by holding down volume down, volume up and power
-service bugreport /system/bin/dumpstate -d -p -B -z \
-        -o /data/user_de/0/com.android.shell/files/bugreports/bugreport
-    class main
-    disabled
-    oneshot
-    keycodes 114 115 116
-
-on boot
-    start audioserver
-    start mediadrm
-    start media
-    start drm
-
-on fs
-# mount ext4 partitions
-    mount_all /vendor/etc/fstab.freescale --early
-
-    # Adjust parameters for dm-verity device
-    write /sys/block/dm-0/queue/read_ahead_kb 4096
-
-    # Update dm-verity state and set partition.*.verified properties
-    verity_update_state
-
-on verity-logging
-    exec u:r:slideshow:s0 -- /sbin/slideshow warning/verity_red_1 warning/verity_red_2
-
-on post-fs
-    # Set netd memlock rlimit to 8MB
-    setrlimit 8 8388608 8388608
-
-    # Turn on swap
-    swapon_all /vendor/etc/fstab.freescale
-
-    # Swap in only 1 page at a time
-    write /proc/sys/vm/page-cluster 0
-
-    # Grant permission for fetching available_pages info of statsd
-    chown system system /proc/pagetypeinfo
-    chmod 0440 /proc/pagetypeinfo
-
-on post-fs-data
-    setprop vold.post_fs_data_done 1
-    # create temp node for secure storage proxy
-    mkdir /data/vendor/ss 0700 system system
-
-    # tmp dir for opencl Compiler
-    setprop TMPDIR /data/vendor/.opencl-cache
-    mkdir /data/vendor/.opencl-cache 0771 system camera
-
-on zygote-start
-    # Create the directories used by the Wireless subsystem
-    mkdir /data/misc/wifi 0770 wifi wifi
-    mkdir /data/misc/wifi/wpa_supplicant 0770 wifi wifi
-    mkdir /data/vendor/wifi 0771 wifi wifi
-    mkdir /data/vendor/wifi/wpa 0770 wifi wifi
-    mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
-    mkdir /data/misc/dhcp 0770 dhcp dhcp
-    chown dhcp dhcp /data/misc/dhcp
-
-service early_init_sh /vendor/bin/init.insmod.sh /vendor/etc/early.init.cfg sys.all.early_init.ready
-    class main
-    user root
-    group root system
-    disabled
-    oneshot
-
-on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty
-    start storageproxyd
-
-service storageproxyd /vendor/bin/storageproxyd -p /data/vendor/ss -r /dev/mmcblk2rpmb -d /dev/trusty-ipc-dev0
-   group system
-
-on property:ro.boot.vendor.sysrq=1
-    write /proc/sys/kernel/sysrq 1
-
-# setenv append_bootargs androidboot.usb.debugging=1
-on property:ro.boot.usb.debugging=1
-    setprop persist.sys.usb.config adb
diff --git a/imx8m/evk_a200/init.recovery.freescale.rc b/imx8m/evk_a200/init.recovery.freescale.rc
deleted file mode 100644
index cf83eaaa..00000000
--- a/imx8m/evk_a200/init.recovery.freescale.rc
+++ /dev/null
@@ -1,8 +0,0 @@
-on init
-    # disable cursor blink for fbcon, if no splash screen support
-    write /sys/class/graphics/fbcon/cursor_blink 0
-
-    setprop sys.usb.configfs 1
-
-on post-fs-data
-    setprop sys.usb.controller "38100000.dwc3"
diff --git a/imx8m/evk_a200/init.usb.rc b/imx8m/evk_a200/init.usb.rc
deleted file mode 100644
index 9df424a3..00000000
--- a/imx8m/evk_a200/init.usb.rc
+++ /dev/null
@@ -1,52 +0,0 @@
-#
-# Copyright (C) 2016 The Android Open-Source Project
-# Copyright 2018 NXP
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-#      http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.
-#
-
-on early-boot
-    mount configfs none /config
-    mkdir /config/usb_gadget/g1 0770
-    mkdir /config/usb_gadget/g1/strings/0x409 0770
-    write /config/usb_gadget/g1/bcdUSB 0x0200
-    write /config/usb_gadget/g1/idVendor 0x18d1
-    write /config/usb_gadget/g1/bcdDevice 0x0440
-    write /config/usb_gadget/g1/strings/0x409/serialnumber ${ro.serialno}
-    write /config/usb_gadget/g1/strings/0x409/manufacturer ${ro.product.manufacturer}
-    write /config/usb_gadget/g1/strings/0x409/product ${ro.product.model}
-    mkdir /config/usb_gadget/g1/functions/mass_storage.0
-    mkdir /config/usb_gadget/g1/functions/accessory.gs2
-    mkdir /config/usb_gadget/g1/functions/audio_source.gs3
-    mkdir /config/usb_gadget/g1/functions/rndis.gs4
-    mkdir /config/usb_gadget/g1/functions/midi.gs5
-    mkdir /config/usb_gadget/g1/functions/ffs.adb
-    mkdir /config/usb_gadget/g1/functions/ffs.mtp
-    mkdir /config/usb_gadget/g1/functions/ffs.ptp
-    mkdir /config/usb_gadget/g1/configs/b.1 0770
-    mkdir /config/usb_gadget/g1/configs/b.1/strings/0x409 0770
-    write /config/usb_gadget/g1/os_desc/b_vendor_code 0x1
-    write /config/usb_gadget/g1/os_desc/qw_sign "MSFT100"
-    mkdir /dev/usb-ffs 0775 shell shell
-    mkdir /dev/usb-ffs/adb 0770 shell shell
-    mount functionfs adb /dev/usb-ffs/adb rmode=0770,fmode=0660,uid=2000,gid=2000
-    mkdir /dev/usb-ffs/mtp 0770 mtp mtp
-    mkdir /dev/usb-ffs/ptp 0770 mtp mtp
-    mount functionfs mtp /dev/usb-ffs/mtp rmode=0770,fmode=0660,uid=1024,gid=1024,no_disconnect=1
-    mount functionfs ptp /dev/usb-ffs/ptp rmode=0770,fmode=0660,uid=1024,gid=1024,no_disconnect=1
-    setprop sys.usb.mtp.device_type 3
-    setprop vendor.usb.config 38100000.dwc3
-    write /sys/module/libcomposite/parameters/disable_l1_for_hs "y"
-    symlink /config/usb_gadget/g1/configs/b.1 /config/usb_gadget/g1/os_desc/b.1
-
-on boot
-    setprop sys.usb.configfs 2
diff --git a/imx8m/evk_a200/input-port-associations.xml b/imx8m/evk_a200/input-port-associations.xml
deleted file mode 100644
index b6809c0d..00000000
--- a/imx8m/evk_a200/input-port-associations.xml
+++ /dev/null
@@ -1,25 +0,0 @@
-<!-- Use below commands to get display port number:
-# dumpsys SurfaceFlinger - -display-id
-Display 4692921138614785 (HWC display 1): port=1 pnpId=DEL displayName="DELL S2740L"
-Display 4693505326422272 (HWC display 0): port=0 pnpId=DEL displayName="DELL P2314T"
-
-Use below commands to get touch input location:
-# getevent -i | grep location
-location: "usb-xhci-hcd.0.auto-1.1.4/input0"
-location: "usb-xhci-hcd.0.auto-1.2.4/input0"
-
-Then bind the display port and input location with below table. This table need
-to modify according to actual connection.
-One display can link with multi-input.
--->
-<ports>
-	<port display="0" input="usb-xhci-hcd.1.auto-1.1.4/input0" />
-	<port display="1" input="usb-xhci-hcd.1.auto-1.2.4/input0" />
-	<port display="2" input="usb-xhci-hcd.1.auto-1.3.4/input0" />
-	<port display="0" input="usb-xhci-hcd.2.auto-1.1.4/input0" />
-	<port display="1" input="usb-xhci-hcd.2.auto-1.2.4/input0" />
-	<port display="2" input="usb-xhci-hcd.2.auto-1.3.4/input0" />
-	<port display="0" input="usb-xhci-hcd.1.auto-1.4/input0" />
-	<port display="0" input="usb-xhci-hcd.2.auto-1.4/input0" />
-	<port display="1" input="usb-xhci-hcd.2.auto-1.4/input0" />
-</ports>
diff --git a/imx8m/evk_a200/isp_camera_config_imx8mp.json b/imx8m/evk_a200/isp_camera_config_imx8mp.json
deleted file mode 100644
index 5d7a0c0e..00000000
--- a/imx8m/evk_a200/isp_camera_config_imx8mp.json
+++ /dev/null
@@ -1,45 +0,0 @@
-{
-  "__readme": [
-    "Basic Camera HAL v3 configuration."
-  ],
-
-  "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "GPU_3D",
-
-  "camera_metadata": [
-    {
-      "camera_type": "back",
-      "camera_name": "viv_v4l2_device",
-      "device_node": "/dev/video0",
-      "orientation": "0",
-      "buffer_type": "mmap",
-      "ActiveArrayWidth": "1920",
-      "ActiveArrayHeight": "1080",
-      "PixelArrayWidth": "1920",
-      "PixelArrayHeight": "1080",
-      "PhysicalWidth": "3.6288",
-      "PhysicalHeight": "2.7216",
-      "FocalLength": "3.37",
-      "MaxJpegSize": "4194304",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000"
-    },
-    {
-      "camera_type": "front",
-      "camera_name": "uvc",
-      "orientation": "0",
-      "buffer_type": "dma",
-      "ActiveArrayWidth": "1920",
-      "ActiveArrayHeight": "1080",
-      "PixelArrayWidth": "1920",
-      "PixelArrayHeight": "1080",
-      "PhysicalWidth": "2.688",
-      "PhysicalHeight": "1.512",
-      "FocalLength": "3.42",
-      "MaxJpegSize": "4194304",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000"
-    }
-  ]
-}
diff --git a/imx8m/evk_a200/manifest.xml b/imx8m/evk_a200/manifest.xml
deleted file mode 100644
index 47cd52ef..00000000
--- a/imx8m/evk_a200/manifest.xml
+++ /dev/null
@@ -1,249 +0,0 @@
-<manifest version="1.0" type="device" target-level="4">
-    <hal format="hidl">
-	<name>android.hardware.graphics.allocator</name>
-        <transport>hwbinder</transport>
-	<impl level="generic"></impl>
-	<version>2.0</version>
-	<interface>
-	    <name>IAllocator</name>
-	    <instance>default</instance>
-	</interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.composer</name>
-        <transport>hwbinder</transport>
-        <version>2.3</version>
-        <interface>
-            <name>IComposer</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>3.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>ICryptoFactory</name>
-            <instance>default</instance>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-            <instance>default</instance>
-        </interface>
-        <fqname>@1.2::ICryptoFactory/clearkey</fqname>
-        <fqname>@1.2::IDrmFactory/clearkey</fqname>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.gatekeeper</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IGatekeeper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.mapper</name>
-        <transport arch="32+64">passthrough</transport>
-        <impl level="generic"></impl>
-        <version>2.1</version>
-        <interface>
-            <name>IMapper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.renderscript</name>
-        <transport arch="32+64">passthrough</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.sensors</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>ISensors</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.configstore</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>ISurfaceFlingerConfigs</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.c2</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IComponentStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.omx</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IOmx</name>
-            <instance>default</instance>
-        </interface>
-        <interface>
-            <name>IOmxStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-       <name>android.hardware.wifi</name>
-       <transport>hwbinder</transport>
-       <version>1.3</version>
-       <interface>
-           <name>IWifi</name>
-           <instance>default</instance>
-       </interface>
-    </hal>
-    <hal format="hidl">
-       <name>android.hardware.wifi.supplicant</name>
-       <transport>hwbinder</transport>
-       <version>1.2</version>
-       <interface>
-           <name>ISupplicant</name>
-           <instance>default</instance>
-       </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.wifi.hostapd</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>IHostapd</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-       <name>android.hardware.camera.provider</name>
-	<transport>hwbinder</transport>
-	<impl level="generic"></impl>
-	<version>2.4</version>
-	<interface>
-	    <name>ICameraProvider</name>
-	    <instance>legacy/0</instance>
-	</interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.light</name>
-        <transport>hwbinder</transport>
-        <version>2.0</version>
-        <interface>
-            <name>ILight</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio</name>
-        <transport>hwbinder</transport>
-        <version>5.0</version>
-        <interface>
-            <name>IDevicesFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio.effect</name>
-        <transport>hwbinder</transport>
-		<version>5.0</version>
-        <interface>
-            <name>IEffectsFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.usb</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>IUsb</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.usb.gadget</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IUsbGadget</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.bluetooth</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IBluetoothHci</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.dumpstate</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDumpstateDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.oemlock</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IOemLock</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.health</name>
-        <transport>hwbinder</transport>
-        <version>2.0</version>
-        <interface>
-            <name>IHealth</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>nxp.hardware.display</name>
-            <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDisplay</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.neuralnetworks</name>
-        <transport>hwbinder</transport>
-        <version>1.2</version>
-        <interface>
-            <name>IDevice</name>
-            <instance>vsi-npu</instance>
-        </interface>
-    </hal>
-</manifest>
diff --git a/imx8m/evk_a200/manifest_userdebug.xml b/imx8m/evk_a200/manifest_userdebug.xml
deleted file mode 100644
index 0b8b4d89..00000000
--- a/imx8m/evk_a200/manifest_userdebug.xml
+++ /dev/null
@@ -1,12 +0,0 @@
-<manifest version="1.0" type="device" target-level="4">
-    <kernel  target-level="5" />
-    <hal format="hidl">
-        <name>android.hardware.memtrack</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IMemtrack</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-</manifest>
diff --git a/imx8m/evk_a200/ov5640_camera_config_imx8mp.json b/imx8m/evk_a200/ov5640_camera_config_imx8mp.json
deleted file mode 100644
index 0bc5620f..00000000
--- a/imx8m/evk_a200/ov5640_camera_config_imx8mp.json
+++ /dev/null
@@ -1,44 +0,0 @@
-{
-  "__readme": [
-    "Basic Camera HAL v3 configuration."
-  ],
-
-  "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "GPU_3D",
-
-  "camera_metadata": [
-    {
-      "camera_type": "back",
-      "camera_name": "mxc-isi-cap",
-      "orientation": "0",
-      "buffer_type": "dma",
-      "ActiveArrayWidth": "2592",
-      "ActiveArrayHeight": "1944",
-      "PixelArrayWidth": "2592",
-      "PixelArrayHeight": "1944",
-      "PhysicalWidth": "3.6288",
-      "PhysicalHeight": "2.7216",
-      "FocalLength": "3.37",
-      "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000"
-    },
-    {
-      "camera_type": "front",
-      "camera_name": "uvc",
-      "orientation": "0",
-      "buffer_type": "dma",
-      "ActiveArrayWidth": "1920",
-      "ActiveArrayHeight": "1080",
-      "PixelArrayWidth": "1920",
-      "PixelArrayHeight": "1080",
-      "PhysicalWidth": "2.688",
-      "PhysicalHeight": "1.512",
-      "FocalLength": "3.42",
-      "MaxJpegSize": "4194304",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000"
-    }
-  ]
-}
diff --git a/imx8m/evk_a200/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png b/imx8m/evk_a200/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/evk_a200/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/evk_a200/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png b/imx8m/evk_a200/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/evk_a200/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/evk_a200/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png b/imx8m/evk_a200/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/evk_a200/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/evk_a200/overlay/frameworks/base/core/res/res/values/config.xml b/imx8m/evk_a200/overlay/frameworks/base/core/res/res/values/config.xml
deleted file mode 100644
index 74da26b7..00000000
--- a/imx8m/evk_a200/overlay/frameworks/base/core/res/res/values/config.xml
+++ /dev/null
@@ -1,212 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-/*
-** Copyright 2011, The Android Open Source Project
-**
-** Licensed under the Apache License, Version 2.0 (the "License");
-** you may not use this file except in compliance with the License.
-** You may obtain a copy of the License at
-**
-**     http://www.apache.org/licenses/LICENSE-2.0
-**
-** Unless required by applicable law or agreed to in writing, software
-** distributed under the License is distributed on an "AS IS" BASIS,
-** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-** See the License for the specific language governing permissions and
-** limitations under the License.
-*/
--->
-
-<!-- These resources are around just to allow their values to be customized
-     for different hardware and product builds. -->
-<resources>
-
-    <!--For Android we support eth0 now -->
-    <string translatable="false" name="config_ethernet_iface_regex">eth0</string>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         USB interfaces.  If the device doesn't want to support tething over USB this should
-         be empty.  An example would be "usb.*" -->
-     <string-array translatable="false" name="config_tether_usb_regexs">
-       <item>usb0</item>
-     </string-array>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         Wifi interfaces.  If the device doesn't want to support tethering over Wifi this
-         should be empty.  An example would be "softap.*" -->
-    <string-array translatable="false" name="config_tether_wifi_regexs">
-      <item>"wlan0"</item>
-    </string-array>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         bluetooth interfaces.  If the device doesn't want to support tethering over bluetooth this
-         should be empty. -->
-    <string-array translatable="false" name="config_tether_bluetooth_regexs">
-        <item>"bt-pan"</item>
-        </string-array>
-
-    <!-- Array of ConnectivityManager.TYPE_xxxx values allowable for tethering -->
-    <!-- Common options are [1, 4] for TYPE_WIFI and TYPE_MOBILE_DUN or
-    <!== [0,1,5,7,9] for TYPE_MOBILE, TYPE_WIFI, TYPE_MOBILE_HIPRI, TYPE_BLUETOOTH and TYPE_ETHERNET -->
-    <integer-array translatable="false" name="config_tether_upstream_types">
-        <item>0</item>
-        <item>1</item>
-        <item>5</item>
-        <item>9</item>
-    </integer-array>
-
-    <!-- Flag indicating whether we should enable the automatic brightness in Settings.
-         config_hardware_automatic_brightness_available is not set, so we will use software implementation -->
-    <bool name="config_automatic_brightness_available">true</bool>
-
-    <!-- An Array of "[ConnectivityManager connectionType],
-                      [# simultaneous connection types]"  -->
-    <string-array translatable="false" name="radioAttributes">
-        <item>"1,1"</item>
-        <item>"9,1"</item>
-    </string-array>
-
-    <!-- An Array of "[Connection name],[ConnectivityManager.TYPE_xxxx],
-         [associated radio-type],[priority],[restoral-timer(ms)],[dependencyMet]  -->
-    <!-- the 5th element "resore-time" indicates the number of milliseconds to delay
-         before automatically restore the default connection.  Set -1 if the connection
-         does not require auto-restore. -->
-    <!-- the 6th element indicates boot-time dependency-met value. -->
-    <string-array translatable="false" name="networkAttributes">
-        <item>"wifi,1,1,1,-1,true"</item>
-        <item>"bluetooth,7,7,2,-1,true"</item>
-        <item>"ethernet,9,9,2,-1,true"</item>
-    </string-array>
-
-    <!-- Array of light sensor LUX values to define our levels for auto backlight brightness support.
-         The N entries of this array define N + 1 zones as follows:
-
-         Zone 0:        0 <= LUX < array[0]
-         Zone 1:        array[0] <= LUX < array[1]
-         ...
-         Zone N:        array[N - 1] <= LUX < array[N]
-         Zone N + 1:    array[N] <= LUX < infinity
-
-         Must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessLevels">
-        <item>5</item>
-        <item>15</item>
-        <item>50</item>
-        <item>100</item>
-        <item>200</item>
-        <item>400</item>
-        <item>1000</item>
-        <item>2000</item>
-        <item>3000</item>
-        <item>5000</item>
-        <item>10000</item>
-        <item>30000</item>
-    </integer-array>
-
-    <!-- Array of output values for LCD backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessLcdBacklightValues">
-        <item>5</item>    <!-- 0-5 -->
-        <item>20</item>   <!-- 5-15 -->
-        <item>30</item>   <!-- 15-50 -->
-        <item>40</item>   <!-- 50-100 -->
-        <item>50</item>   <!-- 100-200 -->
-        <item>60</item>   <!-- 200-400 -->
-        <item>70</item>   <!-- 400-1000 -->
-        <item>80</item>   <!-- 1000-2000 -->
-        <item>130</item>  <!-- 2000-3000 -->
-        <item>180</item>  <!-- 3000-5000 -->
-        <item>255</item>  <!-- 5000-10000 -->
-        <item>255</item>  <!-- 10000-30000 -->
-        <item>255</item>  <!-- 30000+ -->
-    </integer-array>
-
-    <!-- Array of output values for button backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessButtonBacklightValues">
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-    </integer-array>
-
-    <!-- Array of output values for keyboard backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessKeyboardBacklightValues">
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-    </integer-array>
-
-    <integer name="config_screenBrightnessDim">5</integer>
-
-    <!--  Maximum number of supported users -->
-    <integer name="config_multiuserMaximumUsers">8</integer>
-    <!--  Whether Multiuser UI should be shown -->
-    <bool name="config_enableMultiUserUI">true</bool>
-
-    <!-- Whether a software navigation bar should be shown. NOTE: in the future this may be
-         autodetected from the Configuration. -->
-    <bool name="config_showNavigationBar">true</bool>
-
-    <!-- This device is not "voice capable"; it's data-only. -->
-    <bool name="config_voice_capable">false</bool>
-
-    <!-- Boolean indicating whether the wifi chipset has dual frequency band support -->
-    <bool translatable="false" name="config_wifi_dual_band_support">true</bool>
-
-    <!-- Boolean indicating whether system support sustained performance mode. -->
-    <bool name="config_sustainedPerformanceModeSupported">true</bool>
-
-    <!-- Enable 802.11ac for Wifi hotspot (SAP) -->
-    <bool translatable="false" name="config_wifi_softap_ieee80211ac_supported">true</bool>
-
-    <!-- Enable ACS (auto channel selection) for Wifi hotspot (SAP) -->
-    <bool translatable="false" name="config_wifi_softap_acs_supported">true</bool>
-
-    <!-- Boolean indicating whether 802.11r Fast BSS Transition is enabled on this platform -->
-    <bool translatable="false" name="config_wifi_fast_bss_transition_enabled">true</bool>
-
-    <!-- Boolean indicating whether the wifi chipset has background scan support -->
-    <bool translatable="false" name="config_wifi_background_scan_support">true</bool>
-
-    <!-- Indicates that connected MAC randomization is supported on this device -->
-    <bool translatable="false" name="config_wifi_connected_mac_randomization_supported">true</bool>
-
-    <!-- Indicates that p2p MAC randomization is supported on this device -->
-    <bool translatable="false" name="config_wifi_p2p_mac_randomization_supported">true</bool>
-
-</resources>
diff --git a/imx8m/evk_a200/overlay/frameworks/base/core/res/res/xml/power_profile.xml b/imx8m/evk_a200/overlay/frameworks/base/core/res/res/xml/power_profile.xml
deleted file mode 100644
index 2104fe62..00000000
--- a/imx8m/evk_a200/overlay/frameworks/base/core/res/res/xml/power_profile.xml
+++ /dev/null
@@ -1,27 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-**
-** Copyright 2009, The Android Open Source Project
-*  Copyright (C) 2016 Freescale Semiconductor, Inc.
-**
-** Licensed under the Apache License, Version 2.0 (the "License")
-** you may not use this file except in compliance with the License.
-** You may obtain a copy of the License at
-**
-**     http://www.apache.org/licenses/LICENSE-2.0
-**
-** Unless required by applicable law or agreed to in writing, software
-** distributed under the License is distributed on an "AS IS" BASIS,
-** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-** See the License for the specific language governing permissions and
-** limitations under the License.
-*/
--->
-
-<device name="Android">
-  <array name="cpu.active">
-      <value>0.1</value>
-  </array>
-  <!-- This is the battery capacity in mAh -->
-  <item name="battery.capacity">4800</item>
-</device>
diff --git a/imx8m/evk_a200/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml b/imx8m/evk_a200/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml
deleted file mode 100644
index 660abbe5..00000000
--- a/imx8m/evk_a200/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml
+++ /dev/null
@@ -1,24 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-/**
- * Copyright (c) 2009, The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *     http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
--->
-<resources>
-    <!-- Default for Settings.Secure.USER_SETUP_COMPLETE -->
-    <bool name="def_user_setup_complete">true</bool>
-    <bool name="def_bluetooth_on">false</bool>
-    <bool name="def_stay_on_while_plugged_in">true</bool>
-</resources>
diff --git a/imx8m/evk_a200/overlay/packages/apps/Settings/res/values/bools.xml b/imx8m/evk_a200/overlay/packages/apps/Settings/res/values/bools.xml
deleted file mode 100644
index e9f565d3..00000000
--- a/imx8m/evk_a200/overlay/packages/apps/Settings/res/values/bools.xml
+++ /dev/null
@@ -1,19 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2009 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-  
-          http://www.apache.org/licenses/LICENSE-2.0
-  
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<resources>
-    <bool name="config_additional_system_update_setting_enable">true</bool>
-</resources>
diff --git a/imx8m/evk_a200/overlay/packages/apps/Settings/res/values/config.xml b/imx8m/evk_a200/overlay/packages/apps/Settings/res/values/config.xml
deleted file mode 100644
index dbf188dc..00000000
--- a/imx8m/evk_a200/overlay/packages/apps/Settings/res/values/config.xml
+++ /dev/null
@@ -1,22 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2007 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
-    <string name="additional_system_update" translatable="false">com.example.android.systemupdatersample</string>
-    <string name="additional_system_update_menu" translatable="false">com.example.android.systemupdatersample.ui.MainActivity</string>
-    <string name="config_work_policy_info_intent_action" translatable="false">com.google.android.settings.privacy.ACTION_SHOW_WORK_POLICY_INFO</string>
-
-</resources>
diff --git a/imx8m/evk_a200/powerhint_imx8mp.json b/imx8m/evk_a200/powerhint_imx8mp.json
deleted file mode 100644
index a46059da..00000000
--- a/imx8m/evk_a200/powerhint_imx8mp.json
+++ /dev/null
@@ -1,194 +0,0 @@
-{
-  "Nodes": [
-    {
-      "Name": "CPULittleClusterMaxFreq",
-      "Path": "/sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq",
-      "Values": [
-        "1800000",
-        "1600000",
-        "1200000"
-      ],
-      "DefaultIndex": 0,
-      "ResetOnInit": true
-    },
-    {
-      "Name": "CPULittleClusterMinFreq",
-      "Path": "/sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq",
-      "Values": [
-        "1800000",
-        "1600000",
-        "1200000"
-      ],
-      "ResetOnInit": true
-    },
-    {
-      "Name": "TASchedtuneBoost",
-      "Path": "/dev/stune/top-app/schedtune.boost",
-      "Values": [
-        "60",
-        "10"
-      ],
-      "DefaultIndex": 1,
-      "ResetOnInit": true
-    },
-    {
-      "Name": "PMQoSCpuDmaLatency",
-      "Path": "/dev/cpu_dma_latency",
-      "Values": [
-        "0",
-        "3000"
-      ],
-      "DefaultIndex": 1,
-      "HoldFd": true
-    },
-    {
-      "Name": "PowerHALMainState",
-      "Path": "vendor.powerhal.camera",
-      "Values": [
-        "CAMERA_STREAMING",
-        ""
-      ],
-      "Type": "Property"
-    },
-    {
-      "Name": "PowerHALAudioState",
-      "Path": "vendor.powerhal.audio",
-      "Values": [
-        "AUDIO_LOW_LATENCY",
-        ""
-      ],
-      "Type": "Property"
-    },
-    {
-      "Name": "PowerHALRenderingState",
-      "Path": "vendor.powerhal.rendering",
-      "Values": [
-        "EXPENSIVE_RENDERING",
-        ""
-      ],
-      "Type": "Property"
-    }
-  ],
-  "Actions": [
-    {
-      "PowerHint": "SUSTAINED_PERFORMANCE",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "TASchedtuneBoost",
-      "Duration": 0,
-      "Value": "60"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 5000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 5000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 5000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 1000,
-      "Value": "1200000"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 1000,
-      "Value": "1200000"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 1000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "CAMERA_STREAMING",
-      "Node": "PowerHALMainState",
-      "Duration": 0,
-      "Value": "CAMERA_STREAMING"
-    },
-    {
-      "PowerHint": "CAMERA_STREAMING",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 1000,
-      "Value": "1200000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 1000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 1000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "LOW_POWER",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "1200000"
-    },
-    {
-      "PowerHint": "LOW_POWER",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "AUDIO_STREAMING",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 2000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "AUDIO_STREAMING",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 2000,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "AUDIO_LOW_LATENCY",
-      "Node": "PowerHALAudioState",
-      "Duration": 0,
-      "Value": "AUDIO_LOW_LATENCY"
-    },
-    {
-      "PowerHint": "AUDIO_LOW_LATENCY",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 0,
-      "Value": "0"
-    }
-  ]
-}
diff --git a/imx8m/evk_a200/required_hardware.xml b/imx8m/evk_a200/required_hardware.xml
deleted file mode 100644
index f751b4ae..00000000
--- a/imx8m/evk_a200/required_hardware.xml
+++ /dev/null
@@ -1,34 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2009 The Android Open Source Project
-     Copyright 2018 NXP
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<!-- These are the hardware components that are included in i.MX reference board
--->
-<permissions>
-    <!-- This is Android and fully CTS compatible.  Basically this is for CTS tests to use. -->
-    <feature name="android.software.cts" />
-    <feature name="android.hardware.microphone" />
-    <feature name="android.hardware.camera.any" />
-    <feature name="android.software.cant_save_state" />
-    <feature name="android.software.home_screen" />
-    <feature name="android.software.input_methods" />
-    <feature name="android.hardware.location" />
-    <feature name="android.hardware.location.network" />
-    <feature name="android.hardware.bluetooth" />
-    <feature name="android.software.companion_device_setup" />
-    <feature name="android.software.autofill" />
-    <feature name="android.software.secure_lock_screen" />
-</permissions>
diff --git a/imx8m/evk_a200/seccomp b/imx8m/evk_a200/seccomp
deleted file mode 120000
index cdeb1865..00000000
--- a/imx8m/evk_a200/seccomp
+++ /dev/null
@@ -1 +0,0 @@
-../evk_8mp/seccomp
\ No newline at end of file
diff --git a/imx8m/evk_a200/sepolicy/file_contexts b/imx8m/evk_a200/sepolicy/file_contexts
deleted file mode 100644
index ae930160..00000000
--- a/imx8m/evk_a200/sepolicy/file_contexts
+++ /dev/null
@@ -1,56 +0,0 @@
-#sd boot
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/dtbo_[ab]        u:object_r:dtbo_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/boot_[ab]        u:object_r:boot_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/system_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/vendor_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/product_[ab]     u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/misc             u:object_r:misc_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/metadata         u:object_r:metadata_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/presistdata      u:object_r:frp_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/userdata         u:object_r:userdata_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/vbmeta_[ab]      u:object_r:vbmeta_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/super            u:object_r:super_block_device:s0
-
-#emmc boot
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/dtbo_[ab]        u:object_r:dtbo_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/boot_[ab]        u:object_r:boot_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/system_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/vendor_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/product_[ab]     u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/misc             u:object_r:misc_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/metadata         u:object_r:metadata_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/presistdata      u:object_r:frp_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/userdata         u:object_r:userdata_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/vbmeta_[ab]      u:object_r:vbmeta_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/super            u:object_r:super_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/bootloader_[ab]  u:object_r:bootloader_block_device:s0
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/mem_info_[ab]    u:object_r:bootloader_block_device:s0
-
-# spl
-/dev/block/mmcblk2boot[01]            u:object_r:spl_block_device:s0
-/dev/block/mmcblk2boot[01]p[1-9]      u:object_r:spl_block_device:s0
-
-#peripheral
-/vendor/bin/magd                u:object_r:sensors_exec:s0
-/vendor/bin/fsl_sensor_fusion   u:object_r:sensors_exec:s0
-/dev/mma8x5x                    u:object_r:sensors_device:s0
-/dev/ttymxc[0-9]*               u:object_r:tty_device:s0
-/dev/FreescaleAccelerometer     u:object_r:sensors_device:s0
-/dev/FreescaleMagnetometer      u:object_r:sensors_device:s0
-/dev/FreescaleGyroscope         u:object_r:sensors_device:s0
-/dev/sda[0-8]*                  u:object_r:fuse:s0
-
-#Thermal HAL service
-/vendor/bin/hw/android\.hardware\.thermal@2\.0-service.imx         u:object_r:hal_thermal_default_exec:s0
-
-#Neural Network HAL service
-/vendor/bin/hw/android\.hardware\.neuralnetworks@1\.2-service-vsi-npu-server      u:object_r:hal_neuralnetworks_imx_exec:s0
-
-# Media Codec2 service
-/vendor/bin/hw/android\.hardware\.media\.c2@1\.0-service    u:object_r:mediacodec_exec:s0
-
-# isp related
-/vendor/bin/vvext                           u:object_r:isp_exec:s0
-/vendor/bin/video_test                      u:object_r:isp_exec:s0
-/vendor/bin/isp_media_server                u:object_r:isp_exec:s0
-/dev/v4l-subdev[0-9]*                       u:object_r:video_device:s0
diff --git a/imx8m/evk_a200/sepolicy/genfs_contexts b/imx8m/evk_a200/sepolicy/genfs_contexts
deleted file mode 100644
index ce624313..00000000
--- a/imx8m/evk_a200/sepolicy/genfs_contexts
+++ /dev/null
@@ -1,14 +0,0 @@
-genfscon sysfs /devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-rtc-lp/rtc/rtc0/hctosys     u:object_r:sysfs_rtc:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30b50000.mmc/mmc_host/mmc1/mmc1:aaaa/block/mmcblk1 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30b60000.mmc/mmc_host/mmc2/mmc2:0001/block/mmcblk2 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30bb0000.spi/spi_master/spi0/spi0.0/mtd/mtd0/mtdblock0 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/32c00000.bus/32e60000.mipi_dsi/32e60000.mipi_dsi.0/backlight u:object_r:sysfs_leds:s0
-genfscon sysfs /devices/platform/backlight/backlight/backlight u:object_r:sysfs_leds:s0
-
-#sys/class/net
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30be0000.ethernet/net                u:object_r:sysfs_net:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30bf0000.ethernet/net                u:object_r:sysfs_net:s0
-genfscon sysfs /devices/platform/33800000.pcie/pci0000:00/0000:00:00.0/0000:01:00.0/net  u:object_r:sysfs_net:s0
-genfscon sysfs /devices/platform/32f10100.usb/38100000.dwc3/gadget/net                   u:object_r:sysfs_net:s0
-
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30a30000.i2c/i2c-1/1-0050/extcon u:object_r:sysfs_extcon:s0
diff --git a/imx8m/evk_a200/sepolicy/isp.te b/imx8m/evk_a200/sepolicy/isp.te
deleted file mode 100644
index da4a84de..00000000
--- a/imx8m/evk_a200/sepolicy/isp.te
+++ /dev/null
@@ -1,10 +0,0 @@
-type isp, domain;
-type isp_exec, exec_type, vendor_file_type, file_type;
-
-# Started by init
-init_daemon_domain(isp)
-
-dontaudit isp self:capability { dac_override };
-
-allow isp video_device:chr_file { open read write ioctl map getattr };
-allow isp self:capability { sys_nice };
diff --git a/imx8m/evk_a200/thermal_info_config_imx8mp.json b/imx8m/evk_a200/thermal_info_config_imx8mp.json
deleted file mode 100755
index be6c6412..00000000
--- a/imx8m/evk_a200/thermal_info_config_imx8mp.json
+++ /dev/null
@@ -1,84 +0,0 @@
-{
-    "Sensors":[
-        {
-            "Name":"cpu-thermal",
-            "Type":"CPU",
-            "HotThreshold":[
-                "NAN",
-                "NAN",
-                "NAN",
-                85.0,
-                95.0,
-                "NAN",
-                "NAN"
-            ],
-            "HotHysteresis":[
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        },
-        {
-            "Name":"soc-thermal",
-            "Type":"CPU",
-            "HotThreshold":[
-                "NAN",
-                "NAN",
-                "NAN",
-                85.0,
-                95.0,
-                "NAN",
-                "NAN"
-            ],
-            "HotHysteresis":[
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        },
-        {
-            "Name":"battery",
-            "Type":"BATTERY",
-            "HotThreshold":[
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN"
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        }
-    ],
-    "CoolingDevices":[
-        {
-            "Name":"thermal-devfreq-0",
-            "Type": "CPU"
-        },
-        {
-            "Name":"thermal-devfreq-1",
-            "Type":"CPU"
-        },
-        {
-            "Name":"thermal-cpufreq-0",
-            "Type":"CPU"
-        }
-    ]
-}
diff --git a/imx8m/evk_a200/ueventd.freescale.rc b/imx8m/evk_a200/ueventd.freescale.rc
deleted file mode 100644
index 227936e3..00000000
--- a/imx8m/evk_a200/ueventd.freescale.rc
+++ /dev/null
@@ -1,27 +0,0 @@
-/dev/block/platform/soc@0/30800000.bus/30b50000\.mmc/by-name/presistdata 0600   system     system
-/dev/block/platform/soc@0/30800000.bus/30b60000\.mmc/by-name/presistdata 0600   system     system
-/dev/ttymxc0              0660   bluetooth  bluetooth
-/dev/snd/*                0660   system     audio
-/dev/video*               0660   system     camera
-/dev/mxc_hifi4            0660   media      drmrpc
-/dev/mxc_hantro           0660   media      drmrpc
-/dev/mxc_hantro_vc8000e   0660   media      drmrpc
-/dev/uinput               0660   system     bluetooth
-/dev/ion                  0666   media      drmrpc
-/dev/galcore	          0666 	 system     graphics
-/dev/graphics/fb0         0660   system     graphics
-/dev/watchdog             0660   system     root
-/dev/mmcblk2rpmb    0600   system     system
-/dev/trusty-ipc-dev0      0660   system     drmrpc
-
-/sys/devices/virtual/thermal/thermal_zone* trip_point_0_temp 0660 system system
-/sys/devices/virtual/thermal/thermal_zone* trip_point_1_temp 0660 system system
-
-/sys/devices/virtual/thermal/thermal_zone* trip_point_0_hyst 0660 system system
-/sys/devices/virtual/thermal/thermal_zone* trip_point_1_hyst 0660 system system
-
-#quectel port
-/dev/ttyUSB*              0660   radio        radio
-/dev/cdc-wdm*             0660   radio        radio
-/dev/qcqmi*               0660   radio        radio
-/dev/cdc-acm*             0660   radio        radio
diff --git a/imx8m/evk_a200/usb_audio_policy_configuration-direct-output.xml b/imx8m/evk_a200/usb_audio_policy_configuration-direct-output.xml
deleted file mode 100644
index b826785a..00000000
--- a/imx8m/evk_a200/usb_audio_policy_configuration-direct-output.xml
+++ /dev/null
@@ -1,56 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!-- Copyright (C) 2019 The Android Open Source Project
-     Copyright 2019 NXP
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-<!-- USB Audio HAL Audio Policy Configuration file -->
-
-<module name="usb" halVersion="2.0">
-    <mixPorts>
-        <mixPort name="usb_accessory output" role="source">
-            <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                     samplingRates="44100" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-        </mixPort>
-        <mixPort name="direct output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-            <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                     samplingRates="384000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-        </mixPort>
-        <mixPort name="usb_device output" role="source"/>
-        <mixPort name="usb_device input" role="sink"/>
-    </mixPorts>
-    <devicePorts>
-        <devicePort tagName="USB Host Out" type="AUDIO_DEVICE_OUT_USB_ACCESSORY" role="sink">
-            <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                     samplingRates="44100" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-        </devicePort>
-        <devicePort tagName="USB Device Out" type="AUDIO_DEVICE_OUT_USB_DEVICE" role="sink"/>
-        <devicePort tagName="USB Headset Out" type="AUDIO_DEVICE_OUT_USB_HEADSET" role="sink"/>
-        <devicePort tagName="USB Device In" type="AUDIO_DEVICE_IN_USB_DEVICE" role="source"/>
-        <devicePort tagName="USB Headset In" type="AUDIO_DEVICE_IN_USB_HEADSET" role="source"/>
-    </devicePorts>
-    <routes>
-        <route type="mix" sink="USB Host Out"
-               sources="usb_accessory output"/>
-        <route type="mix" sink="USB Device Out"
-               sources="usb_device output"/>
-        <route type="mix" sink="USB Headset Out"
-               sources="usb_device output"/>
-        <route type="mix" sink="usb_device input"
-               sources="USB Device In,USB Headset In"/>
-        <route type="mix" sink="USB Device Out"
-               sources="direct output"/>
-        <route type="mix" sink="USB Headset Out"
-               sources="direct output"/>
-    </routes>
-</module>
diff --git a/imx8m/evk_a300/AndroidBoard.mk b/imx8m/evk_a300/AndroidBoard.mk
deleted file mode 100644
index 84e328fe..00000000
--- a/imx8m/evk_a300/AndroidBoard.mk
+++ /dev/null
@@ -1,7 +0,0 @@
-LOCAL_PATH := $(call my-dir)
-
-include device/idtech/common/build/dtbo.mk
-include device/idtech/common/build/imx-recovery.mk
-include device/idtech/common/build/gpt.mk
-include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/media-profile/media-profile.mk
-include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/sensor/fsl-sensor.mk
diff --git a/imx8m/evk_a300/AndroidTee.mk b/imx8m/evk_a300/AndroidTee.mk
deleted file mode 100644
index 632f4b3f..00000000
--- a/imx8m/evk_a300/AndroidTee.mk
+++ /dev/null
@@ -1,13 +0,0 @@
-# uboot.imx in android combine scfw.bin and uboot.bin
-MAKE += SHELL=/bin/bash
-
-define build_uboot_w_tee
-	$(MAKE) -C bootable/bootloader/arm-trusted-firmware/ -B CROSS_COMPILE=aarch64-linux-android- PLAT=imx8mq V=1 SPD=opteed DECRYPTED_BUFFER_START=$(DECRYPTED_BUFFER_START) DECRYPTED_BUFFER_LEN=$(DECRYPTED_BUFFER_LEN) DECODED_BUFFER_START=$(DECODED_BUFFER_START) DECODED_BUFFER_LEN=$(DECODED_BUFFER_LEN) bl31; \
-	cp bootable/bootloader/arm-trusted-firmware/build/imx8mq/release/bl31.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.;\
-	aarch64-linux-android-objcopy -O binary out/target/product/evk_a300/optee/arm-plat-imx/core/tee.elf $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-	$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ clean; \
-	$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8M  flash_hdmi_spl_uboot; \
-	cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/flash.bin $(PRODUCT_OUT)/u-boot-$(strip $(2)).imx;
-endef
-
-
diff --git a/imx8m/evk_a300/AndroidUboot.mk b/imx8m/evk_a300/AndroidUboot.mk
deleted file mode 100644
index 06a2fe2a..00000000
--- a/imx8m/evk_a300/AndroidUboot.mk
+++ /dev/null
@@ -1,52 +0,0 @@
-# uboot.imx in android combine scfw.bin and uboot.bin
-MAKE += SHELL=/bin/bash
-
-ifneq ($(AARCH64_GCC_CROSS_COMPILE),)
-ATF_CROSS_COMPILE := $(strip $(AARCH64_GCC_CROSS_COMPILE))
-else
-ATF_TOOLCHAIN_ABS := $(realpath prebuilts/gcc/$(HOST_PREBUILT_TAG)/aarch64/aarch64-linux-android-4.9/bin)
-ATF_CROSS_COMPILE := $(ATF_TOOLCHAIN_ABS)/aarch64-linux-androidkernel-
-endif
-
-define build_imx_uboot
-	$(hide) echo Building i.MX U-Boot with firmware; \
-	cp $(UBOOT_OUT)/u-boot-nodtb.$(strip $(1)) $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(UBOOT_OUT)/spl/u-boot-spl.bin  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(UBOOT_OUT)/tools/mkimage  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/mkimage_uboot; \
-	cp $(UBOOT_OUT)/arch/arm/dts/imx8mq-evk.dtb  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(FSL_PROPRIETARY_PATH)/linux-firmware-imx/firmware/hdmi/cadence/signed_hdmi_imx8m.bin  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(FSL_PROPRIETARY_PATH)/linux-firmware-imx/firmware/ddr/synopsys/lpddr4_pmu_train* $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ PLAT=`echo $(2) | cut -d '-' -f1` clean; \
-	if [ `echo $(2) | cut -d '-' -f3` = "trusty" ] && [ `echo $(2) | rev | cut -d '-' -f1` != "uuu" ]; then \
-		cp $(FSL_PROPRIETARY_PATH)/fsl-proprietary/uboot-firmware/imx8m/tee-imx8mq.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B SPD=trusty 1>/dev/null || exit 1; \
-	else \
-		if [ -f $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin ] ; then \
-			rm -rf $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-		fi; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B 1>/dev/null || exit 1; \
-	fi; \
-	cp $(IMX_PATH)/arm-trusted-firmware/build/`echo $(2) | cut -d '-' -f1`/release/bl31.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/bl31.bin; \
-	$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ clean; \
-	if [ `echo $(2) | rev | cut -d '-' -f1 | rev` != "dual" ]; then \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8M flash_hdmi_spl_uboot || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8M print_fit_hab || exit 1; \
-	else \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8M flash_evk_dual_bootloader || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8M PRINT_FIT_HAB_OFFSET=0x0 print_fit_hab || exit 1; \
-	fi; \
-	if [ `echo $(2) | rev | cut -d '-' -f1 | rev` != "dual" ]; then \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/flash.bin $(UBOOT_COLLECTION)/u-boot-$(strip $(2)).imx; \
-		if [ -f device/idtech/common/prebuilts/spl_tab_auxiliary.img ]; then \
-			dd if=device/idtech/common/prebuilts/spl_tab_auxiliary.img of=$(UBOOT_COLLECTION)/u-boot-$(strip $(2)).imx bs=1 seek=105984 conv=notrunc; \
-		fi; \
-	else \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/flash.bin $(UBOOT_COLLECTION)/spl-$(strip $(2)).bin; \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/u-boot-ivt.itb $(UBOOT_COLLECTION)/bootloader-$(strip $(2)).img; \
-		if [ -f device/idtech/common/prebuilts/spl_tab_auxiliary.img ]; then \
-			dd if=device/idtech/common/prebuilts/spl_tab_auxiliary.img of=$(UBOOT_COLLECTION)/spl-$(strip $(2)).bin bs=1 seek=105984 conv=notrunc; \
-		fi; \
-	fi;
-endef
-
-
diff --git a/imx8m/evk_a300/BoardConfig.mk b/imx8m/evk_a300/BoardConfig.mk
deleted file mode 100644
index 54c52d0f..00000000
--- a/imx8m/evk_a300/BoardConfig.mk
+++ /dev/null
@@ -1,182 +0,0 @@
-#
-# SoC-specific compile-time definitions.
-#
-
-BOARD_SOC_TYPE := IMX8MQ
-BOARD_SOM_TYPE := a300
-BOARD_TYPE := DEVBOARD
-BOARD_MAIN_DISPLAY_ROTATION := 0
-BOARD_HAVE_VPU := true
-BOARD_VPU_TYPE := hantro
-HAVE_FSL_IMX_GPU2D := false
-HAVE_FSL_IMX_GPU3D := true
-HAVE_FSL_IMX_IPU := false
-HAVE_FSL_IMX_PXP := false
-BOARD_KERNEL_BASE := 0x40400000
-TARGET_GRALLOC_VERSION := v3
-TARGET_HIGH_PERFORMANCE := true
-TARGET_USES_HWC2 := true
-TARGET_HWCOMPOSER_VERSION := v2.0
-USE_OPENGL_RENDERER := true
-TARGET_HAVE_VULKAN := true
-ENABLE_CFI=false
-
-SOONG_CONFIG_IMXPLUGIN += \
-                          BOARD_HAVE_VPU \
-                          BOARD_VPU_TYPE
-
-SOONG_CONFIG_IMXPLUGIN_BOARD_SOC_TYPE = IMX8MQ
-SOONG_CONFIG_IMXPLUGIN_BOARD_HAVE_VPU = true
-SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_TYPE = hantro
-SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_ONLY = false
-
-#
-# Product-specific compile-time definitions.
-#
-
-IMX_DEVICE_PATH := device/idtech/imx8m/evk_a300
-
-include device/idtech/imx8m/BoardConfigCommon.mk
-
-BUILD_TARGET_FS ?= ext4
-TARGET_USERIMAGES_USE_EXT4 := true
-
-TARGET_RECOVERY_FSTAB = $(IMX_DEVICE_PATH)/fstab.freescale
-
-# Support gpt
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  BOARD_BPT_INPUT_FILES += device/idtech/common/partition/device-partitions-14.4GB-ab_super.bpt
-  ADDITION_BPT_PARTITION = partition-table-28GB:device/idtech/common/partition/device-partitions-28GB-ab_super.bpt \
-                           partition-table-dual:device/idtech/common/partition/device-partitions-14.4GB-ab-dual-bootloader_super.bpt \
-                           partition-table-28GB-dual:device/idtech/common/partition/device-partitions-28GB-ab-dual-bootloader_super.bpt
-else
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    BOARD_BPT_INPUT_FILES += device/idtech/common/partition/device-partitions-13GB-ab-no-product.bpt
-    ADDITION_BPT_PARTITION = partition-table-28GB:device/idtech/common/partition/device-partitions-28GB-ab-no-product.bpt \
-                             partition-table-dual:device/idtech/common/partition/device-partitions-13GB-ab-dual-bootloader-no-product.bpt \
-                             partition-table-28GB-dual:device/idtech/common/partition/device-partitions-28GB-ab-dual-bootloader-no-product.bpt
-  else
-    BOARD_BPT_INPUT_FILES += device/idtech/common/partition/device-partitions-14.4GB-ab.bpt
-    ADDITION_BPT_PARTITION = partition-table-28GB:device/idtech/common/partition/device-partitions-28GB-ab.bpt \
-                             partition-table-dual:device/idtech/common/partition/device-partitions-14.4GB-ab-dual-bootloader.bpt \
-                             partition-table-28GB-dual:device/idtech/common/partition/device-partitions-28GB-ab-dual-bootloader.bpt
-  endif
-endif
-
-# Vendor Interface manifest and compatibility
-DEVICE_MANIFEST_FILE := $(IMX_DEVICE_PATH)/manifest.xml
-ifneq (,$(filter userdebug,$(TARGET_BUILD_VARIANT)))
-DEVICE_MANIFEST_FILE += $(IMX_DEVICE_PATH)/manifest_userdebug.xml
-endif
-DEVICE_MATRIX_FILE := $(IMX_DEVICE_PATH)/compatibility_matrix.xml
-
-TARGET_BOOTLOADER_BOARD_NAME := EVK
-
-USE_OPENGL_RENDERER := true
-
-BOARD_WLAN_DEVICE            := bcmdhd
-WPA_SUPPLICANT_VERSION       := VER_0_8_X
-BOARD_WPA_SUPPLICANT_DRIVER  := NL80211
-BOARD_HOSTAPD_DRIVER         := NL80211
-BOARD_HOSTAPD_PRIVATE_LIB           := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
-BOARD_WPA_SUPPLICANT_PRIVATE_LIB    := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
-
-WIFI_DRIVER_FW_PATH_PARAM := "/sys/module/brcmfmac/parameters/alternative_fw_path"
-
-#WIFI_HIDL_FEATURE_DUAL_INTERFACE := true
-
-BOARD_BLUETOOTH_BDROID_BUILDCFG_INCLUDE_DIR := $(IMX_DEVICE_PATH)/bluetooth
-
-# BCM 1CX BT
-BOARD_HAVE_BLUETOOTH_BCM := true
-
-#BOARD_USE_SENSOR_FUSION := true
-BOARD_USE_ST_SENSOR_INPUT := true
-
-# we don't support sparse image.
-TARGET_USERIMAGES_SPARSE_EXT_DISABLED := false
-
-BOARD_HAVE_USB_CAMERA := true
-BOARD_HAVE_USB_MJPEG_CAMERA := false
-
-USE_ION_ALLOCATOR := true
-USE_GPU_ALLOCATOR := false
-
-BOARD_AVB_ENABLE := true
-TARGET_USES_MKE2FS := true
-BOARD_AVB_ALGORITHM := SHA256_RSA2048
-BOARD_AVB_KEY_PATH := device/idtech/common/security/idt_testkey_rsa2048.pem
-
-# define frame buffer count
-NUM_FRAMEBUFFER_SURFACE_BUFFERS := 4
-
-ifeq ($(PRODUCT_IMX_DRM),true)
-CMASIZE=736M
-else
-CMASIZE=800M
-endif
-
-# NXP default config
-BOARD_KERNEL_CMDLINE := init=/init androidboot.console=ttymxc0 androidboot.hardware=freescale firmware_class.path=/vendor/firmware loop.max_part=7
-
-# framebuffer config
-BOARD_KERNEL_CMDLINE += androidboot.fbTileSupport=enable
-
-# memory config
-BOARD_KERNEL_CMDLINE += transparent_hugepage=never cma=$(CMASIZE)
-
-# display config
-BOARD_KERNEL_CMDLINE += androidboot.lcd_density=240 androidboot.primary_display=mxsfb-drm androidboot.gui_resolution=1080p
-
-# wifi config
-BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN
-
-ifeq ($(TARGET_USERIMAGES_USE_UBIFS),true)
-ifeq ($(TARGET_USERIMAGES_USE_EXT4),true)
-$(error "TARGET_USERIMAGES_USE_UBIFS and TARGET_USERIMAGES_USE_EXT4 config open in same time, please only choose one target file system image")
-endif
-endif
-
-LOWER_BOARD_TYPE  = $(shell echo $(BOARD_TYPE) | tr A-Z a-z)
-LOWER_BOARD_SOC_TYPE  = $(shell echo $(BOARD_SOC_TYPE) | tr A-Z a-z)
-BOARD_PREBUILT_DTBOIMAGE := out/target/product/evk_a300/dtbo-$(BOARD_SOM_TYPE)-$(LOWER_BOARD_TYPE).img
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-no-product.dtb
-  else
-    # imx8mq with HDMI display
-    TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2.dtb
-    # imx8mq with MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb
-    # imx8mq with HDMI and MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display.dtb
-    # imx8mq with MIPI panel display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191.dtb
-  endif
-else # no dynamic parition feature
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-no-product-no-dynamic_partition.dtb
-  else
-    TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-no-dynamic_partition.dtb
-  endif
-endif
-
-BOARD_SEPOLICY_DIRS := \
-       device/idtech/imx8m/sepolicy \
-       $(IMX_DEVICE_PATH)/sepolicy
-
-ifeq ($(PRODUCT_IMX_DRM),true)
-BOARD_SEPOLICY_DIRS += \
-       $(IMX_DEVICE_PATH)/sepolicy_drm
-endif
-
-TARGET_BOARD_KERNEL_HEADERS := device/idtech/common/kernel-headers
-
-ALL_DEFAULT_INSTALLED_MODULES += $(BOARD_VENDOR_KERNEL_MODULES)
-
-BOARD_USES_METADATA_PARTITION := true
-BOARD_ROOT_EXTRA_FOLDERS += metadata
-
-BOARD_PLAT_PRIVATE_SEPOLICY_DIR := device/idtech/imx8m/sepolicy_system/private
-
-AB_OTA_PARTITIONS += spl_bak
diff --git a/imx8m/evk_a300/SharedBoardConfig.mk b/imx8m/evk_a300/SharedBoardConfig.mk
deleted file mode 100644
index 98fc2d66..00000000
--- a/imx8m/evk_a300/SharedBoardConfig.mk
+++ /dev/null
@@ -1,17 +0,0 @@
-KERNEL_NAME := Image
-TARGET_KERNEL_ARCH := arm64
-
-#Enable this to include trusty support
-PRODUCT_IMX_TRUSTY := true
-
-#Enable this to disable product partition build.
-#IMX_NO_PRODUCT_PARTITION := true
-
-# BCM fmac wifi driver module
-BOARD_VENDOR_KERNEL_MODULES += \
-    $(KERNEL_OUT)/drivers/net/wireless/broadcom/brcm80211/brcmfmac/brcmfmac.ko \
-    $(KERNEL_OUT)/drivers/net/wireless/broadcom/brcm80211/brcmutil/brcmutil.ko
-
-# mipi-panel touch driver module
-BOARD_VENDOR_KERNEL_MODULES += \
-    $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko
diff --git a/imx8m/evk_a300/UbootKernelBoardConfig.mk b/imx8m/evk_a300/UbootKernelBoardConfig.mk
deleted file mode 100644
index 1914ad3b..00000000
--- a/imx8m/evk_a300/UbootKernelBoardConfig.mk
+++ /dev/null
@@ -1,26 +0,0 @@
-TARGET_BOOTLOADER_POSTFIX := bin
-UBOOT_POST_PROCESS := true
-
-# u-boot target for imx8mq_evk
-TARGET_BOOTLOADER_CONFIG := imx8mq-devboard:imx8mq_a300_devboard_android_defconfig
-TARGET_BOOTLOADER_CONFIG += imx8mq-devboard-dual:imx8mq_a300_devboard_android_dual_defconfig
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-  TARGET_BOOTLOADER_CONFIG += imx8mq-devboard-trusty:imx8mq_a300_devboard_android_trusty_defconfig
-  TARGET_BOOTLOADER_CONFIG += imx8mq-devboard-trusty-secure-unlock:imx8mq_a300_devboard_android_trusty_secure_unlock_defconfig
-  TARGET_BOOTLOADER_CONFIG += imx8mq-devboard-trusty-dual:imx8mq_a300_devboard_android_trusty_dual_defconfig
-endif
-
-# u-boot target used by uuu for imx8mq_evk
-TARGET_BOOTLOADER_CONFIG += imx8mq-devboard-evk-uuu:imx8mq_a300_devboard_android_uuu_defconfig
-
-TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
-TARGET_KERNEL_ADDITION_DEFCONF ?= android_addition_defconfig
-TARGET_KERNEL_SECURE_DEFCONF ?= android_secure_defconfig
-
-
-# absolute path is used, not the same as relative path used in AOSP make
-TARGET_DEVICE_DIR := $(patsubst %/, %, $(dir $(realpath $(lastword $(MAKEFILE_LIST)))))
-
-# define bootloader rollback index
-BOOTLOADER_RBINDEX ?= 0
-
diff --git a/imx8m/evk_a300/android_addition_defconfig b/imx8m/evk_a300/android_addition_defconfig
deleted file mode 100644
index e7444dbe..00000000
--- a/imx8m/evk_a300/android_addition_defconfig
+++ /dev/null
@@ -1,252 +0,0 @@
-CONFIG_IDG_SPI=y
-# CONFIG_USB_NET_QMI_WWAN is not set
-CONFIG_SINGLE_LOGO=y
-CONFIG_SPLASH_SCREEN_CENTERED=y
-CONFIG_USB_SERIAL=y
-CONFIG_USB_SERIAL_OPTION=y
-CONFIG_INPUT_VL53L1X_ULD=y
-CONFIG_SND_SOC_IMX_RT5640=y
-CONFIG_SND_SOC_RT5640=y
-CONFIG_SND_SOC_IMX_TLV320AIC31XX=y
-CONFIG_SND_SOC_TLV320AIC31XX=y
-CONFIG_KEYBOARD_MATRIX=y
-CONFIG_TYPEC_HD3SS3220=y
-CONFIG_MXC_DUAL_MIPI_CAMERA=y
-CONFIG_MXC_CAMERA_OV2685_MIPI_V2=y
-CONFIG_INPUT_ST=y
-CONFIG_INPUT_ECOMPASS=y
-CONFIG_INPUT_LSM303AGR=y
-CONFIG_INPUT_LSM303AGR_I2C=y
-CONFIG_TOUCHSCREEN_ILI9881_I2C=y
-CONFIG_DRM_PANEL_TIANMA_TM050JDHC02=y
-CONFIG_TOUCHSCREEN_GOODIX=y
-CONFIG_DRM_PANEL_DATAIMAGE_5INCHLCM=y
-CONFIG_DEBUG_FS=y
-CONFIG_PPP=y
-CONFIG_PPP_ASYNC=y
-CONFIG_PPP_SYNC_TTY=y
-
-CONFIG_PARAVIRT=y
-CONFIG_NETFILTER_XT_TARGET_CT=y
-CONFIG_MVMDIO=y
-CONFIG_MDIO_BITBANG=y
-CONFIG_I2C_SLAVE=y
-CONFIG_GPIOLIB=y
-CONFIG_GPIO_GENERIC_PLATFORM=y
-CONFIG_POWER_RESET_BRCMSTB=y
-CONFIG_REGULATOR=y
-CONFIG_DRM_I2C_CH7006=m
-CONFIG_DRM_I2C_SIL164=m
-CONFIG_TMPFS=y
-CONFIG_BCM_FLEXRM_MBOX=y
-CONFIG_PHY_SAMSUNG_USB2=y
-CONFIG_ARM_TIMER_SP804=y
-CONFIG_COMMON_CLK_VERSATILE=y
-CONFIG_CLK_SP810=y
-CONFIG_USB_SNP_UDC_PLAT=y
-CONFIG_USB_BDC_UDC=y
-CONFIG_BCM_SBA_RAID=m
-
-# CONFIG_KVM is not set
-# CONFIG_MTD_UBI is not set
-# CONFIG_VGA_ARB is not set
-# CONFIG_ARCH_SUNXI is not set
-# CONFIG_ARCH_ALPINE is not set
-# CONFIG_ARCH_BCM2835 is not set
-# CONFIG_ARCH_BCM_IPROC is not set
-# CONFIG_ARCH_BERLIN is not set
-# CONFIG_ARCH_BRCMSTB is not set
-# CONFIG_ARCH_EXYNOS is not set
-# CONFIG_ARCH_LAYERSCAPE is not set
-# CONFIG_ARCH_LG1K is not set
-# CONFIG_ARCH_HISI is not set
-# CONFIG_ARCH_MEDIATEK is not set
-# CONFIG_ARCH_MESON is not set
-# CONFIG_ARCH_MVEBU is not set
-# CONFIG_ARCH_QCOM is not set
-# CONFIG_ARCH_ROCKCHIP is not set
-# CONFIG_ARCH_SEATTLE is not set
-# CONFIG_ARCH_RENESAS is not set
-# CONFIG_ARCH_R8A7795 is not set
-# CONFIG_ARCH_R8A7796 is not set
-# CONFIG_ARCH_STRATIX10 is not set
-# CONFIG_ARCH_TEGRA is not set
-# CONFIG_ARCH_SPRD is not set
-# CONFIG_ARCH_THUNDER is not set
-# CONFIG_ARCH_THUNDER2 is not set
-# CONFIG_ARCH_UNIPHIER is not set
-# CONFIG_ARCH_VEXPRESS is not set
-# CONFIG_ARCH_XGENE is not set
-# CONFIG_ARCH_ZX is not set
-# CONFIG_ARCH_ZYNQMP is not set
-# CONFIG_ARCH_TEGRA_132_SOC is not set
-# CONFIG_ARCH_TEGRA_210_SOC is not set
-# CONFIG_ARCH_TEGRA_186_SOC is not set
-# CONFIG_PCI_HISI is not set
-# CONFIG_PCIE_KIRIN is not set
-# CONFIG_PCI_AARDVARK is not set
-# CONFIG_PCIE_RCAR is not set
-# CONFIG_PCIE_ROCKCHIP is not set
-# CONFIG_XEN is not set
-# CONFIG_SPI_FSL_QUADSPI is not set
-# CONFIG_XEN_BLKDEV_BACKEND is not set
-# CONFIG_AHCI_MVEBU is not set
-# CONFIG_SATA_RCAR is not set
-# CONFIG_NET_XGENE is not set
-# CONFIG_MVNETA is not set
-# CONFIG_MVPP2 is not set
-# CONFIG_RAVB is not set
-# CONFIG_MESON_GXL_PHY is not set
-# CONFIG_XEN_NETDEV_BACKEND is not set
-# CONFIG_INPUT_PM8941_PWRKEY is not set
-# CONFIG_INPUT_HISI_POWERKEY is not set
-# CONFIG_SERIAL_8250_BCM2835AUX is not set
-# CONFIG_SERIAL_8250_MT6577 is not set
-# CONFIG_SERIAL_8250_UNIPHIER is not set
-# CONFIG_SERIAL_MESON is not set
-# CONFIG_SERIAL_MESON_CONSOLE is not set
-# CONFIG_SERIAL_SAMSUNG is not set
-# CONFIG_SERIAL_SAMSUNG_CONSOLE is not set
-# CONFIG_SERIAL_TEGRA is not set
-# CONFIG_SERIAL_SH_SCI is not set
-# CONFIG_SERIAL_SH_SCI_NR_UARTS is not set
-# CONFIG_SERIAL_SH_SCI_CONSOLE is not set
-# CONFIG_SERIAL_MSM is not set
-# CONFIG_SERIAL_MSM_CONSOLE is not set
-# CONFIG_SERIAL_XILINX_PS_UART is not set
-# CONFIG_SERIAL_XILINX_PS_UART_CONSOLE is not set
-# CONFIG_SERIAL_MVEBU_UART is not set
-# CONFIG_I2C_BCM2835 is not set
-# CONFIG_I2C_MESON is not set
-# CONFIG_I2C_MV64XXX is not set
-# CONFIG_I2C_PXA is not set
-# CONFIG_I2C_QUP is not set
-# CONFIG_I2C_SH_MOBILE is not set
-# CONFIG_I2C_TEGRA is not set
-# CONFIG_I2C_UNIPHIER_F is not set
-# CONFIG_I2C_RCAR is not set
-# CONFIG_SPI_BCM2835 is not set
-# CONFIG_SPI_BCM2835AUX is not set
-# CONFIG_SPI_MESON_SPICC is not set
-# CONFIG_SPI_ORION is not set
-# CONFIG_SPI_ROCKCHIP is not set
-# CONFIG_SPI_QUP is not set
-# CONFIG_SPI_S3C64XX is not set
-# CONFIG_PINCTRL_MAX77620 is not set
-# CONFIG_PINCTRL_IPQ8074 is not set
-# CONFIG_PINCTRL_MSM8916 is not set
-# CONFIG_PINCTRL_MSM8994 is not set
-# CONFIG_PINCTRL_MSM8996 is not set
-# CONFIG_PINCTRL_QDF2XXX is not set
-# CONFIG_PINCTRL_QCOM_SPMI_PMIC is not set
-# CONFIG_GPIO_RCAR is not set
-# CONFIG_GPIO_XGENE_SB is not set
-# CONFIG_POWER_RESET_MSM is not set
-# CONFIG_ROCKCHIP_THERMAL is not set
-# CONFIG_EXYNOS_THERMAL is not set
-# CONFIG_S3C2410_WATCHDOG is not set
-# CONFIG_MESON_GXBB_WATCHDOG is not set
-# CONFIG_MESON_WATCHDOG is not set
-# CONFIG_RENESAS_WDT is not set
-# CONFIG_UNIPHIER_WATCHDOG is not set
-# CONFIG_BCM2835_WDT is not set
-# CONFIG_MFD_AXP20X_RSB is not set
-# CONFIG_MFD_EXYNOS_LPASS is not set
-# CONFIG_MFD_HI655X_PMIC is not set
-# CONFIG_MFD_SPMI_PMIC is not set
-# CONFIG_REGULATOR_AXP20X is not set
-# CONFIG_REGULATOR_HI655X is not set
-# CONFIG_REGULATOR_QCOM_SMD_RPM is not set
-# CONFIG_RPMSG is not set
-# CONFIG_IR_MESON is not set
-# CONFIG_VIDEO_SAMSUNG_S5P_JPEG is not set
-# CONFIG_VIDEO_SAMSUNG_S5P_MFC is not set
-# CONFIG_VIDEO_SAMSUNG_EXYNOS_GSC is not set
-# CONFIG_VIDEO_RENESAS_FCP is not set
-# CONFIG_VIDEO_RENESAS_VSP1 is not set
-# CONFIG_ROCKCHIP_ANALOGIX_DP is not set
-# CONFIG_ROCKCHIP_CDN_DP is not set
-# CONFIG_ROCKCHIP_DW_HDMI is not set
-# CONFIG_ROCKCHIP_DW_MIPI_DSI is not set
-# CONFIG_ROCKCHIP_INNO_HDMI is not set
-# CONFIG_SND_BCM2835_SOC_I2S is not set
-# CONFIG_SND_SOC_SAMSUNG is not set
-# CONFIG_SND_SOC_RCAR is not set
-# CONFIG_DRM_NOUVEAU is not set
-# CONFIG_DRM_EXYNOS is not set
-# CONFIG_DRM_EXYNOS5433_DECON is not set
-# CONFIG_DRM_EXYNOS7_DECON is not set
-# CONFIG_DRM_EXYNOS_DSI is not set
-# CONFIG_DRM_EXYNOS_DP is not set
-# CONFIG_DRM_EXYNOS_HDMI is not set
-# CONFIG_DRM_EXYNOS_MIC is not set
-# CONFIG_DRM_ROCKCHIP is not set
-# CONFIG_DRM_RCAR_DU is not set
-# CONFIG_DRM_RCAR_LVDS is not set
-# CONFIG_DRM_RCAR_VSP is not set
-# CONFIG_DRM_TEGRA is not set
-# CONFIG_DRM_VC4 is not set
-# CONFIG_DRM_MESON is not set
-# CONFIG_USB_XHCI_TEGRA is not set
-# CONFIG_USB_EHCI_MSM is not set
-# CONFIG_USB_EHCI_EXYNOS is not set
-# CONFIG_USB_OHCI_EXYNOS is not set
-# CONFIG_USB_RENESAS_USBHS is not set
-# CONFIG_USB_QCOM_8X16_PHY is not set
-# CONFIG_RASPBERRYPI_FIRMWARE is not set
-# CONFIG_PHY_SUN4I_USB is not set
-# CONFIG_PHY_HI6220_USB is not set
-# CONFIG_PHY_RCAR_GEN3_USB2 is not set
-# CONFIG_PHY_ROCKCHIP_EMMC is not set
-# CONFIG_PHY_ROCKCHIP_INNO_USB2 is not set
-# CONFIG_PHY_ROCKCHIP_PCIE is not set
-# CONFIG_PHY_TEGRA_XUSB is not set
-# CONFIG_QCOM_L2_PMU is not set
-# CONFIG_QCOM_L3_PMU is not set
-# CONFIG_PWM_MESON is not set
-# CONFIG_PWM_ROCKCHIP is not set
-# CONFIG_PWM_SAMSUNG is not set
-# CONFIG_PWM_TEGRA is not set
-# CONFIG_QCOM_SMEM is not set
-# CONFIG_QCOM_SMD_RPM is not set
-# CONFIG_QCOM_SMP2P is not set
-# CONFIG_QCOM_SMSM is not set
-# CONFIG_ROCKCHIP_PM_DOMAINS is not set
-# CONFIG_ARCH_TEGRA_132_SOC is not set
-# CONFIG_ARCH_TEGRA_210_SOC is not set
-# CONFIG_ARCH_TEGRA_186_SOC is not set
-# CONFIG_EXYNOS_ADC is not set
-# CONFIG_ROCKCHIP_SARADC is not set
-# CONFIG_PWM_BCM2835 is not set
-# CONFIG_RPMSG_QCOM_SMD is not set
-# CONFIG_RASPBERRYPI_POWER is not set
-# CONFIG_BCM2835_MBOX is not set
-# CONFIG_HI6220_MBOX is not set
-# CONFIG_ROCKCHIP_IOMMU is not set
-# CONFIG_HWSPINLOCK_QCOM is not set
-# CONFIG_COMMON_CLK_QCOM is not set
-# CONFIG_QCOM_CLK_SMD_RPM is not set
-# CONFIG_IPQ_GCC_8074 is not set
-# CONFIG_MSM_GCC_8916 is not set
-# CONFIG_MSM_GCC_8994 is not set
-# CONFIG_MSM_MMCC_8996 is not set
-# CONFIG_USB_RENESAS_USBHS_UDC is not set
-# CONFIG_MMC_SDHCI_OF_ESDHC is not set
-# CONFIG_XEN_GNTDEV is not set
-# CONFIG_XEN_GRANT_DEV_ALLOC is not set
-# CONFIG_RCAR_DMAC is not set
-# CONFIG_TEGRA20_APB_DMA is not set
-# CONFIG_QCOM_BAM_DMA is not set
-# CONFIG_K3_DMA is not set
-# CONFIG_DMA_BCM2835 is not set
-# CONFIG_RTC_DRV_XGENE is not set
-# CONFIG_RTC_DRV_TEGRA is not set
-# CONFIG_RTC_DRV_S3C is not set
-# CONFIG_MMC_DW_ROCKCHIP is not set
-# CONFIG_MMC_SUNXI is not set
-# CONFIG_MMC_BCM2835 is not set
-# CONFIG_MMC_SDHCI_TEGRA is not set
-# CONFIG_MMC_MESON_GX is not set
-# CONFIG_MMC_SDHCI_MSM is not set
-# CONFIG_MMC_SDHI is not set
-# CONFIG_MMC_DW_EXYNOS is not set
diff --git a/imx8m/evk_a300/android_secure_defconfig b/imx8m/evk_a300/android_secure_defconfig
deleted file mode 100644
index 9dea4bc9..00000000
--- a/imx8m/evk_a300/android_secure_defconfig
+++ /dev/null
@@ -1,2 +0,0 @@
-# CONFIG_SERIAL_IMX_CONSOLE is not set
-# CONFIG_DEBUG_FS is not set
diff --git a/imx8m/evk_a300/app_whitelist.xml b/imx8m/evk_a300/app_whitelist.xml
deleted file mode 100644
index 0084b334..00000000
--- a/imx8m/evk_a300/app_whitelist.xml
+++ /dev/null
@@ -1,36 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
-
-<!--
-/* Copyright (c) 2017, The Linux Foundation. All rights reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions are
- * met:
- *     * Redistributions of source code must retain the above copyright
- *       notice, this list of conditions and the following disclaimer.
- *     * Redistributions in binary form must reproduce the above
- *       copyright notice, this list of conditions and the following
- *       disclaimer in the documentation and/or other materials provided
- *       with the distribution.
- *     * Neither the name of The Linux Foundation nor the names of its
- *       contributors may be used to endorse or promote products derived
- *       from this software without specific prior written permission.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESS OR IMPLIED
- * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT
- * ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
- * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
- * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
- * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
- * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
- * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
- * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
- * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
- */
--->
-
-<config>
-    <!-- deskclock need to freely run in the background -->
-    <allow-in-power-save package="com.android.deskclock" />
-</config>
diff --git a/imx8m/evk_a300/audio_effects.xml b/imx8m/evk_a300/audio_effects.xml
deleted file mode 100644
index a1c1fc2a..00000000
--- a/imx8m/evk_a300/audio_effects.xml
+++ /dev/null
@@ -1,26 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<audio_effects_conf version="2.0" xmlns="http://schemas.android.com/audio/audio_effects_conf/v2_0">
-    <libraries>
-        <library name="bundle" path="libbundlewrapper.so"/>
-        <library name="reverb" path="libreverbwrapper.so"/>
-        <library name="visualizer" path="libvisualizer.so"/>
-        <library name="downmix" path="libdownmix.so"/>
-        <library name="loudness_enhancer" path="libldnhncr.so"/>
-        <library name="dynamics_processing" path="libdynproc.so"/>
-    </libraries>
-
-    <effects>
-        <effect name="bassboost" library="bundle" uuid="8631f300-72e2-11df-b57e-0002a5d5c51b"/>
-        <effect name="virtualizer" library="bundle" uuid="1d4033c0-8557-11df-9f2d-0002a5d5c51b"/>
-        <effect name="equalizer" library="bundle" uuid="ce772f20-847d-11df-bb17-0002a5d5c51b"/>
-        <effect name="volume" library="bundle" uuid="119341a0-8469-11df-81f9-0002a5d5c51b"/>
-        <effect name="reverb_env_aux" library="reverb" uuid="4a387fc0-8ab3-11df-8bad-0002a5d5c51b"/>
-        <effect name="reverb_env_ins" library="reverb" uuid="c7a511a0-a3bb-11df-860e-0002a5d5c51b"/>
-        <effect name="reverb_pre_aux" library="reverb" uuid="f29a1400-a3bb-11df-8ddc-0002a5d5c51b"/>
-        <effect name="reverb_pre_ins" library="reverb" uuid="172cdf00-a3bc-11df-a72f-0002a5d5c51b"/>
-        <effect name="visualizer" library="visualizer" uuid="d069d9e0-8329-11df-9168-0002a5d5c51b"/>
-        <effect name="downmix" library="downmix" uuid="93f04452-e4fe-41cc-91f9-e475b6d1d69f"/>
-        <effect name="loudness_enhancer" library="loudness_enhancer" uuid="fa415329-2034-4bea-b5dc-5b381c8d1e2c"/>
-        <effect name="dynamics_processing" library="dynamics_processing" uuid="e0e6539b-1781-7261-676f-6d7573696340"/>
-    </effects>
-</audio_effects_conf>
diff --git a/imx8m/evk_a300/audio_policy_configuration.xml b/imx8m/evk_a300/audio_policy_configuration.xml
deleted file mode 100644
index ec5349e6..00000000
--- a/imx8m/evk_a300/audio_policy_configuration.xml
+++ /dev/null
@@ -1,116 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
-<!-- Copyright (C) 2017 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
-    <globalConfiguration speaker_drc_enabled="true"/>
-
-    <modules>
-        <module name="primary" halVersion="2.0">
-            <attachedDevices>
-                <item>Speaker</item>
-                <item>Wired Headphones</item>
-                <item>Built-In Mic</item>
-                <item>Wired-In Headsets</item>
-            </attachedDevices>
-            <defaultOutputDevice>Wired Headphones</defaultOutputDevice>
-            <defaultInputDevice>Wired-In Headsets</defaultInputDevice>
-            <mixPorts>
-                <mixPort name="primary output" role="source" flags="AUDIO_OUTPUT_FLAG_PRIMARY">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-                <mixPort name="hdmi output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
-                </mixPort>
-                <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000,96000,192000,384000,768000"
-                             channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_QUAD,AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
-                </mixPort>
-                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
-                    <profile name="" format="AUDIO_FORMAT_DSD"
-                             samplingRates="2822400,5644800,11289600,22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-                <mixPort name="bt sco output" role="source">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="16000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-
-                <mixPort name="primary input" role="sink">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
-                </mixPort>
-            </mixPorts>
-            <devicePorts>
-                <devicePort tagName="Speaker" type="AUDIO_DEVICE_OUT_SPEAKER" role="sink" >
-                </devicePort>
-                <devicePort tagName="Wired Headphones" type="AUDIO_DEVICE_OUT_WIRED_HEADPHONE" role="sink">
-                </devicePort>
-                <devicePort tagName="HDMI Out" type="AUDIO_DEVICE_OUT_AUX_DIGITAL" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO Headset" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO_HEADSET" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO CarKit" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO_CARKIT" role="sink">
-                </devicePort>
-                <devicePort tagName="BT SCO" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO" role="sink">
-                </devicePort>
-
-                <devicePort tagName="Built-In Mic" type="AUDIO_DEVICE_IN_BUILTIN_MIC" role="source">
-                </devicePort>
-                <devicePort tagName="Spdif-In" type="AUDIO_DEVICE_IN_AUX_DIGITAL" role="source">
-                </devicePort>
-                <devicePort tagName="BT SCO Headset Mic" type="AUDIO_DEVICE_IN_BLUETOOTH_SCO_HEADSET" role="source">
-                </devicePort>
-                <devicePort tagName="Wired-In Headsets" type="AUDIO_DEVICE_IN_WIRED_HEADSET" role="source">
-                </devicePort>
-            </devicePorts>
-            <routes>
-                <route type="mix" sink="Speaker"
-                       sources="primary output"/>
-                <route type="mix" sink="Wired Headphones"
-                       sources="dsd output,esai output,primary output"/>
-                <route type="mix" sink="HDMI Out"
-                       sources="hdmi output,primary output"/>
-                <route type="mix" sink="BT SCO Headset"
-                       sources="bt sco output"/>
-                <route type="mix" sink="BT SCO CarKit"
-                       sources="bt sco output"/>
-                <route type="mix" sink="BT SCO"
-                       sources="bt sco output"/>
-
-                <route type="mix" sink="primary input"
-                       sources="Wired-In Headsets,Built-In Mic,Spdif-In,BT SCO Headset Mic"/>
-            </routes>
-        </module>
-
-        <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
-
-        <!-- Usb Audio HAL -->
-        <xi:include href="usb_audio_policy_configuration.xml"/>
-
-        <!-- Remote Submix Audio HAL -->
-        <xi:include href="r_submix_audio_policy_configuration.xml"/>
-
-    </modules>
-
-    <!-- Volume section -->
-    <xi:include href="audio_policy_volumes.xml"/>
-    <xi:include href="default_volume_tables.xml"/>
-
-</audioPolicyConfiguration>
diff --git a/imx8m/evk_a300/audio_policy_configuration_drm.xml b/imx8m/evk_a300/audio_policy_configuration_drm.xml
deleted file mode 100644
index cf60b8e3..00000000
--- a/imx8m/evk_a300/audio_policy_configuration_drm.xml
+++ /dev/null
@@ -1,93 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
-<!-- Copyright (C) 2017 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
-    <globalConfiguration speaker_drc_enabled="true"/>
-
-    <modules>
-        <module name="primary" halVersion="2.0">
-            <attachedDevices>
-                <item>HDMI Out</item>
-                <item>Built-In Mic</item>
-            </attachedDevices>
-            <defaultOutputDevice>HDMI Out</defaultOutputDevice>
-            <mixPorts>
-                <mixPort name="primary output" role="source" flags="AUDIO_OUTPUT_FLAG_PRIMARY">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-                </mixPort>
-                <mixPort name="hdmi output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
-                </mixPort>
-                <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
-                </mixPort>
-                <mixPort name="primary input" role="sink">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
-                </mixPort>
-            </mixPorts>
-            <devicePorts>
-                <devicePort tagName="Speaker" type="AUDIO_DEVICE_OUT_SPEAKER" role="sink" >
-                </devicePort>
-                <devicePort tagName="Wired Headset" type="AUDIO_DEVICE_OUT_WIRED_HEADSET" role="sink">
-                </devicePort>
-                <devicePort tagName="Wired Headphones" type="AUDIO_DEVICE_OUT_WIRED_HEADPHONE" role="sink">
-                </devicePort>
-                <devicePort tagName="HDMI Out" type="AUDIO_DEVICE_OUT_AUX_DIGITAL" role="sink">
-                </devicePort>
-
-                <devicePort tagName="Built-In Mic" type="AUDIO_DEVICE_IN_BUILTIN_MIC" role="source">
-                </devicePort>
-                <devicePort tagName="Wired Headset Mic" type="AUDIO_DEVICE_IN_WIRED_HEADSET" role="source">
-                </devicePort>
-                <devicePort tagName="Spdif-In" type="AUDIO_DEVICE_IN_AUX_DIGITAL" role="source">
-                </devicePort>
-            </devicePorts>
-            <routes>
-                <route type="mix" sink="Speaker"
-                       sources="esai output,primary output"/>
-                <route type="mix" sink="Wired Headset"
-                       sources="primary output"/>
-                <route type="mix" sink="Wired Headphones"
-                       sources="primary output"/>
-                <route type="mix" sink="HDMI Out"
-                       sources="hdmi output,primary output"/>
-
-                <route type="mix" sink="primary input"
-                       sources="Built-In Mic,Wired Headset Mic,Spdif-In"/>
-            </routes>
-        </module>
-
-        <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
-
-        <!-- Usb Audio HAL -->
-        <xi:include href="usb_audio_policy_configuration.xml"/>
-
-        <!-- Remote Submix Audio HAL -->
-        <xi:include href="r_submix_audio_policy_configuration.xml"/>
-
-    </modules>
-
-    <!-- Volume section -->
-    <xi:include href="audio_policy_volumes.xml"/>
-    <xi:include href="default_volume_tables.xml"/>
-
-</audioPolicyConfiguration>
diff --git a/imx8m/evk_a300/bluetooth/bdroid_buildcfg.h b/imx8m/evk_a300/bluetooth/bdroid_buildcfg.h
deleted file mode 100644
index 6ba4c591..00000000
--- a/imx8m/evk_a300/bluetooth/bdroid_buildcfg.h
+++ /dev/null
@@ -1,33 +0,0 @@
-/*
- * Copyright (C) 2012 The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-/* Copyright (C) 2015-2016 Freescale Semiconductor, Inc. */
-
-#ifndef _BDROID_BUILDCFG_H
-#define _BDROID_BUILDCFG_H
-
-#define BTM_DEF_LOCAL_NAME "iMX8"
-
-// Disables Interleave scan
-#define BTA_HOST_INTERLEAVE_SEARCH  FALSE
-// skips conn update at conn completion
-#define BTA_BLE_SKIP_CONN_UPD  TRUE
-// Disables read remote device feature
-#define BTA_SKIP_BLE_READ_REMOTE_FEAT TRUE
-
-//Enable A2DPSink AVRCPController
-#define BTA_AV_SINK_INCLUDED TRUE
-#endif
diff --git a/imx8m/evk_a300/camera_config_imx8mq.json b/imx8m/evk_a300/camera_config_imx8mq.json
deleted file mode 100644
index dc40c5d3..00000000
--- a/imx8m/evk_a300/camera_config_imx8mq.json
+++ /dev/null
@@ -1,68 +0,0 @@
-{
-  "__readme": [
-    "Basic Camera HAL v3 configuration."
-  ],
-
-  "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "CPU",
-
-  "camera_metadata": [
-    {
-      "camera_type": "back",
-      "camera_name": "mx6s-csi0",
-      "orientation": "0",
-      "buffer_type": "mmap",
-      "ActiveArrayWidth": "2592",
-      "ActiveArrayHeight": "1944",
-      "PixelArrayWidth": "2592",
-      "PixelArrayHeight": "1944",
-      "PhysicalWidth": "3.6288",
-      "PhysicalHeight": "2.7216",
-      "FocalLength": "3.37",
-      "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000",
-      "OmitFrame": [
-          {
-              "width": "2592",
-              "height": "1944",
-              "omit_num": "3"
-          },
-          {
-              "width": "1920",
-              "height": "1080",
-              "omit_num": "2"
-          }
-      ]
-    },
-    {
-      "camera_type": "front",
-      "camera_name": "mx6s-csi1",
-      "orientation": "0",
-      "buffer_type": "mmap",
-      "ActiveArrayWidth": "1600",
-      "ActiveArrayHeight": "1200",
-      "PixelArrayWidth": "1600",
-      "PixelArrayHeight": "1200",
-      "PhysicalWidth": "2.24",
-      "PhysicalHeight": "1.68",
-      "FocalLength": "2.66",
-      "MaxJpegSize": "2097152",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000",
-      "OmitFrame": [
-          {
-              "width": "1600",
-              "height": "1200",
-              "omit_num": "2"
-          },
-          {
-              "width": "1280",
-              "height": "720",
-              "omit_num": "1"
-          }
-      ]
-    }
-  ]
-}
diff --git a/imx8m/evk_a300/compatibility_matrix.xml b/imx8m/evk_a300/compatibility_matrix.xml
deleted file mode 100644
index 67ab2209..00000000
--- a/imx8m/evk_a300/compatibility_matrix.xml
+++ /dev/null
@@ -1,62 +0,0 @@
-<compatibility-matrix version="1.0" type="device">
-    <hal format="hidl" optional="false">
-        <name>android.frameworks.schedulerservice</name>
-        <version>1.0</version>
-        <interface>
-            <name>ISchedulingPolicyService</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.frameworks.sensorservice</name>
-        <version>1.0</version>
-        <interface>
-            <name>ISensorManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.allocator</name>
-        <version>1.0</version>
-        <interface>
-            <name>IAllocator</name>
-            <instance>ashmem</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.manager</name>
-        <version>1.0</version>
-        <interface>
-            <name>IServiceManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.memory</name>
-        <version>1.0</version>
-        <interface>
-            <name>IMapper</name>
-            <instance>ashmem</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.token</name>
-        <version>1.0</version>
-        <interface>
-            <name>ITokenManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.system.wifi.keystore</name>
-        <version>1.0</version>
-        <interface>
-            <name>IKeystore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="native" optional="false">
-        <name>netutils-wrapper</name>
-        <version>1.0</version>
-    </hal>
-</compatibility-matrix>
diff --git a/imx8m/evk_a300/early.init.cfg b/imx8m/evk_a300/early.init.cfg
deleted file mode 100644
index 7403f68b..00000000
--- a/imx8m/evk_a300/early.init.cfg
+++ /dev/null
@@ -1,4 +0,0 @@
-insmod vendor/lib/modules/brcmutil.ko
-insmod vendor/lib/modules/brcmfmac.ko
-insmod vendor/lib/modules/wlan.ko
-insmod vendor/lib/modules/synaptics_dsx_i2c.ko
diff --git a/imx8m/evk_a300/evk_8mq.mk b/imx8m/evk_a300/evk_8mq.mk
deleted file mode 100644
index 020f88f9..00000000
--- a/imx8m/evk_a300/evk_8mq.mk
+++ /dev/null
@@ -1,407 +0,0 @@
-# This is a FSL Android Reference Design platform based on i.MX8QP ARD board
-# It will inherit from FSL core product which in turn inherit from Google generic
-
-IMX_DEVICE_PATH := device/nxp/imx8m/evk_8mq
-
-# configs shared between uboot, kernel and Android rootfs
-include $(IMX_DEVICE_PATH)/SharedBoardConfig.mk
-
--include device/nxp/common/imx_path/ImxPathConfig.mk
-include device/nxp/imx8m/ProductConfigCommon.mk
-
-ifneq ($(wildcard $(IMX_DEVICE_PATH)/fstab_nand.nxp),)
-$(shell touch $(IMX_DEVICE_PATH)/fstab_nand.nxp)
-endif
-
-ifneq ($(wildcard $(IMX_DEVICE_PATH)/fstab.nxp),)
-$(shell touch $(IMX_DEVICE_PATH)/fstab.nxp)
-endif
-
-# Overrides
-PRODUCT_NAME := evk_8mq
-PRODUCT_DEVICE := evk_8mq
-PRODUCT_MODEL := EVK_8MQ
-
-PRODUCT_FULL_TREBLE_OVERRIDE := true
-PRODUCT_SOONG_NAMESPACES += vendor/nxp-opensource/imx/power
-PRODUCT_SOONG_NAMESPACES += hardware/google/pixel
-
-#Enable this to choose 32 bit user space build
-#IMX8_BUILD_32BIT_ROOTFS := true
-
-# Enable this to support vendor boot and boot header v3, this would be a MUST for GKI
-TARGET_USE_VENDOR_BOOT ?= true
-
-#Enable this to use dynamic partitions for the readonly partitions not touched by bootloader
-TARGET_USE_DYNAMIC_PARTITIONS ?= true
-#If the device is retrofit to have dynamic partition feature, set this variable to true to build
-#the images and OTA package. Here is a demo to update 10.0.0_1.0.0 to 10.0.0_2.0.0 or higher
-TARGET_USE_RETROFIT_DYNAMIC_PARTITION ?= false
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
-  PRODUCT_USE_DYNAMIC_PARTITIONS := true
-  BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
-  BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
-  ifeq ($(TARGET_USE_RETROFIT_DYNAMIC_PARTITION),true)
-    PRODUCT_RETROFIT_DYNAMIC_PARTITIONS := true
-    BOARD_SUPER_PARTITION_METADATA_DEVICE := system
-    ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 2952790016
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-    else
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor product
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 1610612736
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-      BOARD_SUPER_PARTITION_PRODUCT_DEVICE_SIZE := 1879048192
-    endif
-  endif
-endif
-
-# Include keystore attestation keys and certificates.
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
--include $(IMX_SECURITY_PATH)/attestation/imx_attestation.mk
-endif
-
-# Copy device related config and binary to board
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/app_whitelist.xml:system/etc/sysconfig/app_whitelist.xml \
-    $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
-    $(IMX_DEVICE_PATH)/input-port-associations.xml:$(TARGET_COPY_OUT_VENDOR)/etc/input-port-associations.xml \
-    $(IMX_DEVICE_PATH)/fstab.nxp:$(TARGET_COPY_OUT_VENDOR)/etc/fstab.nxp \
-    $(IMX_DEVICE_PATH)/init.imx8mq.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.imx8mq.rc \
-    $(IMX_DEVICE_PATH)/init.recovery.nxp.rc:root/init.recovery.nxp.rc \
-    $(IMX_DEVICE_PATH)/early.init.cfg:$(TARGET_COPY_OUT_VENDOR)/etc/early.init.cfg \
-    $(IMX_DEVICE_PATH)/init.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.rc \
-    $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.usb.rc \
-    $(IMX_DEVICE_PATH)/required_hardware.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/required_hardware.xml \
-    $(IMX_DEVICE_PATH)/ueventd.nxp.rc:$(TARGET_COPY_OUT_VENDOR)/ueventd.rc \
-    $(LINUX_FIRMWARE_IMX_PATH)/linux-firmware-imx/firmware/sdma/sdma-imx7d.bin:$(TARGET_COPY_OUT_VENDOR)/firmware/imx/sdma/sdma-imx7d.bin \
-    device/nxp/common/init/init.insmod.sh:$(TARGET_COPY_OUT_VENDOR)/bin/init.insmod.sh \
-    device/nxp/common/wifi/p2p_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/p2p_supplicant_overlay.conf \
-    device/nxp/common/wifi/wpa_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/wpa_supplicant_overlay.conf
-
-# We load the fstab from device tree so this is not needed, but since no kernel modules are installed to vendor
-# boot ramdisk so far, we need this step to generate the vendor-ramdisk folder or build process would fail. This
-# can be deleted once we figure out what kernel modules should be put into the vendor boot ramdisk.
-ifeq ($(TARGET_USE_VENDOR_BOOT),true)
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/fstab.nxp:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/first_stage_ramdisk/fstab.nxp
-endif
-
-
-# Audio card json
-PRODUCT_COPY_FILES += \
-    device/nxp/common/audio-json/wm8524_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/wm8524_config.json \
-    device/nxp/common/audio-json/spdif_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/spdif_config.json \
-    device/nxp/common/audio-json/cdnhdmi_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/cdnhdmi_config.json \
-    device/nxp/common/audio-json/ak4458_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/ak4458_config.json \
-    device/nxp/common/audio-json/ak5558_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/ak5558_config.json \
-    device/nxp/common/audio-json/btsco_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/btsco_config.json \
-    device/nxp/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_COPY_FILES += \
-    device/nxp/common/security/rpmb_key_test.bin:rpmb_key_test.bin \
-    device/nxp/common/security/testkey_public_rsa4096.bin:testkey_public_rsa4096.bin
-endif
-
-# ONLY devices that meet the CDD's requirements may declare these features
-PRODUCT_COPY_FILES += \
-    frameworks/native/data/etc/android.hardware.audio.output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.audio.output.xml \
-    frameworks/native/data/etc/android.hardware.bluetooth_le.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.bluetooth_le.xml \
-    frameworks/native/data/etc/android.hardware.camera.external.xml:vendor/etc/permissions/android.hardware.camera.external.xml \
-    frameworks/native/data/etc/android.hardware.camera.front.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.front.xml \
-    frameworks/native/data/etc/android.hardware.camera.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.xml \
-    frameworks/native/data/etc/android.hardware.ethernet.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.ethernet.xml \
-    frameworks/native/data/etc/android.hardware.screen.landscape.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.landscape.xml \
-    frameworks/native/data/etc/android.hardware.screen.portrait.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.portrait.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.distinct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.distinct.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.xml \
-    frameworks/native/data/etc/android.hardware.usb.accessory.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.accessory.xml \
-    frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.software.vulkan.deqp.level-2020-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level-2020-03-01.xml \
-    frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
-    frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
-    frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
-    frameworks/native/data/etc/android.software.app_widgets.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.app_widgets.xml \
-    frameworks/native/data/etc/android.software.backup.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.backup.xml \
-    frameworks/native/data/etc/android.software.device_admin.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.device_admin.xml \
-    frameworks/native/data/etc/android.software.managed_users.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.managed_users.xml \
-    frameworks/native/data/etc/android.software.midi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.midi.xml \
-    frameworks/native/data/etc/android.software.print.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.print.xml \
-    frameworks/native/data/etc/android.software.sip.voip.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.sip.voip.xml \
-    frameworks/native/data/etc/android.software.verified_boot.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.verified_boot.xml \
-    frameworks/native/data/etc/android.software.voice_recognizers.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.voice_recognizers.xml \
-    frameworks/native/data/etc/android.software.activities_on_secondary_displays.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.activities_on_secondary_displays.xml \
-    frameworks/native/data/etc/android.software.picture_in_picture.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.picture_in_picture.xml
-
-# Vendor seccomp policy files for media components:
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/seccomp/mediacodec-seccomp.policy:vendor/etc/seccomp_policy/mediacodec.policy \
-    $(IMX_DEVICE_PATH)/seccomp/mediaextractor-seccomp.policy:vendor/etc/seccomp_policy/mediaextractor.policy \
-    device/nxp/common/seccomp_policy/codec2.vendor.base.policy:vendor/etc/seccomp_policy/codec2.vendor.base.policy \
-    device/nxp/common/seccomp_policy/codec2.vendor.ext.policy:vendor/etc/seccomp_policy/codec2.vendor.ext.policy
-
-PRODUCT_COPY_FILES += \
-    device/nxp/imx8m/evk_8mq/powerhint_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/powerhint_imx8mq.json
-
-# fastboot_imx_flashall scripts, fsl-sdcard-partition script and uuu_imx_android_flash scripts
-PRODUCT_COPY_FILES += \
-    device/nxp/common/tools/fastboot_imx_flashall.bat:fastboot_imx_flashall.bat \
-    device/nxp/common/tools/fastboot_imx_flashall.sh:fastboot_imx_flashall.sh \
-    device/nxp/common/tools/imx-sdcard-partition.sh:imx-sdcard-partition.sh \
-    device/nxp/common/tools/uuu_imx_android_flash.bat:uuu_imx_android_flash.bat \
-    device/nxp/common/tools/uuu_imx_android_flash.sh:uuu_imx_android_flash.sh
-
-USE_XML_AUDIO_POLICY_CONF := 1
-
-DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
-
-PRODUCT_CHARACTERISTICS := tablet
-
-PRODUCT_AAPT_CONFIG += xlarge large tvdpi hdpi xhdpi xxhdpi
-
-# GPU openCL g2d
-PRODUCT_COPY_FILES += \
-    $(IMX_PATH)/imx/opencl-2d/cl_g2d.cl:$(TARGET_COPY_OUT_VENDOR)/etc/cl_g2d.cl
-
-# GPU openCL SDK header file
--include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/include/CL/cl_sdk.mk
-
-# GPU openVX SDK header file
--include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/include/nnxc_kernels/nnxc_kernels.mk
-
-# GPU openCL icdloader config file
--include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/gpu-viv/icdloader/icdloader.mk
-
-# HWC2 HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.composer@2.4-service
-
-# Charger Mode
-PRODUCT_PRODUCT_PROPERTIES += \
-    ro.charger.no_ui=false
-
-# Do not skip charger_not_need trigger by default
-PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
-    vendor.skip.charger_not_need=0
-
-# Gralloc HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.mapper@2.0-impl-2.1 \
-    android.hardware.graphics.allocator@2.0-impl \
-    android.hardware.graphics.allocator@2.0-service
-
-# RenderScript HAL
-PRODUCT_PACKAGES += \
-    android.hardware.renderscript@1.0-impl
-
-PRODUCT_PACKAGES += \
-        libEGL_VIVANTE \
-        libGLESv1_CM_VIVANTE \
-        libGLESv2_VIVANTE \
-        gralloc_viv.imx \
-        libGAL \
-        libGLSLC \
-        libVSC \
-        libgpuhelper \
-        libSPIRV_viv \
-        libvulkan_VIVANTE \
-        vulkan.imx \
-        libCLC \
-        libLLVM_viv \
-        libOpenCL \
-        libg2d-opencl \
-        libg2d-viv \
-        libOpenVX \
-        libOpenVXU \
-        libNNVXCBinary-evis \
-        libNNVXCBinary-evis2 \
-        libNNVXCBinary-lite \
-        libOvx12VXCBinary-evis \
-        libOvx12VXCBinary-evis2 \
-        libOvx12VXCBinary-lite \
-        libNNGPUBinary-evis \
-        libNNGPUBinary-evis2 \
-        libNNGPUBinary-lite \
-        libNNGPUBinary-ulite \
-        libNNArchPerf \
-        libarchmodelSw
-
-PRODUCT_PACKAGES += \
-    android.hardware.audio@6.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@6.0-impl:32 \
-    android.hardware.power@1.3-service.imx \
-    android.hardware.light@2.0-impl \
-    android.hardware.light@2.0-service \
-    android.hardware.configstore@1.1-service \
-    configstore@1.1.policy
-
-# Thermal HAL
-PRODUCT_PACKAGES += \
-    android.hardware.thermal@2.0-service.imx
-PRODUCT_COPY_FILES += \
-    device/nxp/imx8m/evk_8mq/thermal_info_config_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mq.json
-
-# Neural Network HAL and lib
-PRODUCT_PACKAGES += \
-    libovxlib \
-    libnnrt \
-    android.hardware.neuralnetworks@1.2-service-vsi-npu-server
-
-# Usb HAL
-PRODUCT_PACKAGES += \
-    android.hardware.usb@1.1-service.imx
-
-# Bluetooth HAL
-PRODUCT_PACKAGES += \
-    android.hardware.bluetooth@1.0-impl \
-    android.hardware.bluetooth@1.0-service
-
-# WiFi HAL
-PRODUCT_PACKAGES += \
-    android.hardware.wifi@1.0-service \
-    wifilogd \
-    wificond
-
-# WiFi RRO
-PRODUCT_PACKAGES += \
-    WifiOverlay
-
-# NXP 8997 Bluetooth vendor config
-PRODUCT_PACKAGES += \
-    bt_vendor.conf
-
-# NXP 8997 Wifi and Bluetooth Combo Firmware
-PRODUCT_COPY_FILES += \
-    vendor/nxp/imx-firmware/nxp/FwImage_8997/pcieuart8997_combo_v4.bin:vendor/firmware/pcieuart8997_combo_v4.bin \
-    vendor/nxp/imx-firmware/nxp/android_wifi_mod_para.conf:vendor/firmware/wifi_mod_para.conf
-
-# Wifi regulatory
-PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
-
-# hardware backed keymaster service
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service.trusty
-endif
-
-PRODUCT_COPY_FILES += \
-    device/nxp/imx8m/evk_8mq/camera_config_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/camera_config_imx8mq.json \
-    device/nxp/imx8m/evk_8mq/external_camera_config.xml:$(TARGET_COPY_OUT_VENDOR)/etc/external_camera_config.xml
-
-# Keymaster HAL
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service-imx
-
-# DRM HAL
-TARGET_ENABLE_MEDIADRM_64 := true
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.0-impl \
-    android.hardware.drm@1.0-service
-
-# new gatekeeper HAL
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-service.software-imx
-
-# Add Trusty OS backed gatekeeper and secure storage proxy
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-service.trusty \
-    storageproxyd
-endif
-
-#Dumpstate HAL 1.1 support
-PRODUCT_PACKAGES += \
-    android.hardware.dumpstate@1.1-service.imx
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-#Oemlock HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.oemlock@1.0-service.imx
-endif
-
-ifneq ($(BUILD_TARGET_FS),ubifs)
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.frp.pst=/dev/block/by-name/presistdata
-endif
-
-PRODUCT_PACKAGES += \
-    libg1 \
-    libhantro \
-    libcodec
-
-# imx c2 codec binary
-PRODUCT_PACKAGES += \
-    lib_vpu_wrapper \
-    lib_imx_c2_videodec_common \
-    lib_imx_c2_videodec \
-    lib_imx_c2_vpuwrapper_dec \
-    lib_imx_c2_process \
-    lib_imx_c2_process_dummy_post \
-    c2_component_register \
-    c2_component_register_ms \
-    c2_component_register_wmv9 \
-    c2_component_register_ra \
-    c2_component_register_rv
-
-# Add oem unlocking option in settings.
-PRODUCT_PROPERTY_OVERRIDES += ro.frp.pst=/dev/block/by-name/presistdata
-PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
-
-# Tensorflow lite camera demo
-PRODUCT_PACKAGES += \
-                    tflitecamerademo
-
-# Multi-Display launcher
-PRODUCT_PACKAGES += \
-    MultiClientInputMethod \
-    MultiDisplay
-
-# Specify rollback index for boot and vbmeta partitions
-ifneq ($(AVB_RBINDEX),)
-BOARD_AVB_ROLLBACK_INDEX := $(AVB_RBINDEX)
-else
-BOARD_AVB_ROLLBACK_INDEX := 0
-endif
-
-ifneq ($(AVB_BOOT_RBINDEX),)
-BOARD_AVB_BOOT_ROLLBACK_INDEX := $(AVB_BOOT_RBINDEX)
-else
-BOARD_AVB_BOOT_ROLLBACK_INDEX := 0
-endif
-
-#DRM Widevine 1.2 L3 support
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.0-impl \
-    android.hardware.drm@1.0-service \
-    android.hardware.drm@1.3-service.widevine \
-    android.hardware.drm@1.3-service.clearkey \
-    libwvdrmcryptoplugin \
-    libwvhidl \
-    libwvdrmengine \
-
-IMX-DEFAULT-G2D-LIB := libg2d-viv
-
-ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
-ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
-INSTALL_64BIT_LIBRARY := true
-endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
-endif
-
-PRODUCT_SOONG_NAMESPACES += hardware/google/camera
-PRODUCT_SOONG_NAMESPACES += vendor/nxp-opensource/imx/camera
-
-$(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
-
-$(call inherit-product, $(SRC_TARGET_DIR)/product/emulated_storage.mk)
diff --git a/imx8m/evk_a300/evk_8mq_drm.mk b/imx8m/evk_a300/evk_8mq_drm.mk
deleted file mode 100644
index fe4b31ad..00000000
--- a/imx8m/evk_a300/evk_8mq_drm.mk
+++ /dev/null
@@ -1,72 +0,0 @@
-# This is a FSL Android Reference Design platform based on i.MX8MQ board
-# It will inherit from FSL core product which in turn inherit from Google generic
-
-IMX_DEVICE_PATH := device/nxp/imx8m/evk_8mq
-
-PRODUCT_IMX_DRM := true
-
-# copy drm specific files before inherit evk_8mq.mk, otherwise copy is ignored
-PRODUCT_COPY_FILES += \
-	$(IMX_DEVICE_PATH)/audio_policy_configuration_drm.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
-	$(IMX_DEVICE_PATH)/init.imx8mq.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.imx8mq.main.rc \
-	$(IMX_DEVICE_PATH)/init.imx8mq.drm.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.imx8mq.rc \
-	$(TOPDIR)device/nxp/imx8m/tee-supplicant.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/tee-supplicant.rc \
-
-
-$(call inherit-product, $(TOPDIR)device/nxp/imx8m/optee-packages.mk)
-$(call inherit-product, $(TOPDIR)$(IMX_DEVICE_PATH)/evk_8mq.mk)
-
-TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
-
-
-# Overrides
-PRODUCT_NAME := evk_8mq_drm
-
-CFG_DRM_SECURE_DATA_PATH ?= y
-CFG_RDC_SECURE_DATA_PATH ?= y
-
-ifeq ($(CFG_DRM_SECURE_DATA_PATH),y)
-CFG_SECURE_DATA_PATH := y
-SOONG_CONFIG_IMXPLUGIN += CFG_SECURE_DATA_PATH
-SOONG_CONFIG_IMXPLUGIN_CFG_SECURE_DATA_PATH = y
-CFG_TEE_SDP_MEM_BASE := 0xcc000000
-CFG_TEE_SDP_MEM_SIZE := 0x02000000
-ifeq ($(CFG_RDC_SECURE_DATA_PATH),y)
-DECRYPTED_BUFFER_START	:= $(CFG_TEE_SDP_MEM_BASE)
-DECRYPTED_BUFFER_LEN	:= $(CFG_TEE_SDP_MEM_SIZE)
-DECODED_BUFFER_START	:= 0xCE000000
-DECODED_BUFFER_LEN		:= 0x30000000
-endif
-endif
-
-TARGET_BOARD_DTS_CONFIG := imx8mq:imx8mq-evk-drm.dtb imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb imx8mq-dual:imx8mq-evk-dual-display.dtb
-
-# Exoplayer
-PRODUCT_PACKAGES += \
-	exoplayer \
-
-# Playready
-PRODUCT_COPY_FILES += \
-	vendor/nxp/drm_artifacts/playready/Samples/devcert.dat:$(TARGET_COPY_OUT_VENDOR)/playready/devcert.dat \
-	vendor/nxp/drm_artifacts/playready/Samples/priv.dat:$(TARGET_COPY_OUT_VENDOR)/playready/priv.dat \
-	vendor/nxp/drm_artifacts/playready/bgroupcert.dat:$(TARGET_COPY_OUT_VENDOR)/playready/bgroupcert.dat \
-	vendor/nxp/drm_artifacts/playready/zgpriv_protected.dat:$(TARGET_COPY_OUT_VENDOR)/playready/zgpriv_protected.dat \
-
-ifneq ($(CFG_BUILD_DRM_FROM_SOURCES),y)
-PRODUCT_COPY_FILES += \
-	vendor/nxp/drm_artifacts/playready/ta/82dbae9c-9ce0-47e0-a1cb4048cfdb84aa.ta:$(TARGET_COPY_OUT_VENDOR)/lib/optee_armtz/82dbae9c-9ce0-47e0-a1cb4048cfdb84aa.ta \
-	vendor/nxp/drm_artifacts/playready/libdrmplayreadyplugin.so:$(TARGET_COPY_OUT_VENDOR)/lib64/mediadrm/libdrmplayreadyplugin.so \
-	vendor/nxp/drm_artifacts/playready/optee_playready_test:$(TARGET_COPY_OUT_VENDOR)/bin/optee_playready_test
-endif
-
-ifneq ($(CFG_BUILD_DRM_FROM_SOURCES),y)
-# Widevine
-PRODUCT_COPY_FILES += \
-	vendor/nxp/drm_artifacts/widevine/lib/liboemcrypto.so:$(TARGET_COPY_OUT_VENDOR)/lib/liboemcrypto.so \
-	vendor/nxp/drm_artifacts/widevine/lib/libwvdrmengine.so:$(TARGET_COPY_OUT_VENDOR)/lib/mediadrm/libwvdrmengine.so \
-	vendor/nxp/drm_artifacts/widevine/lib/libvtswidevine.so:$(TARGET_COPY_OUT_VENDOR)/lib/drm-vts-test-libs/libvtswidevine.so \
-	vendor/nxp/drm_artifacts/widevine/lib64/liboemcrypto.so:$(TARGET_COPY_OUT_VENDOR)/lib64/liboemcrypto.so \
-	vendor/nxp/drm_artifacts/widevine/lib64/libwvdrmengine.so:$(TARGET_COPY_OUT_VENDOR)/lib64/mediadrm/libwvdrmengine.so \
-	vendor/nxp/drm_artifacts/widevine/lib64/libvtswidevine.so:$(TARGET_COPY_OUT_VENDOR)/lib64/drm-vts-test-libs/libvtswidevine.so \
-	vendor/nxp/drm_artifacts/widevine/ta/706f6574-7765-6469-77656e6942656665.ta:$(TARGET_COPY_OUT_VENDOR)/lib/optee_armtz/706f6574-7765-6469-77656e6942656665.ta
-endif
diff --git a/imx8m/evk_a300/evk_a300.mk b/imx8m/evk_a300/evk_a300.mk
deleted file mode 100644
index d6aa3292..00000000
--- a/imx8m/evk_a300/evk_a300.mk
+++ /dev/null
@@ -1,391 +0,0 @@
-# This is a FSL Android Reference Design platform based on i.MX8QP ARD board
-# It will inherit from FSL core product which in turn inherit from Google generic
-
-IMX_DEVICE_PATH := device/idtech/imx8m/evk_a300
-
-# configs shared between uboot, kernel and Android rootfs
-include $(IMX_DEVICE_PATH)/SharedBoardConfig.mk
-
--include device/idtech/common/imx_path/ImxPathConfig.mk
-include device/idtech/imx8m/ProductConfigCommon.mk
-
-ifneq ($(wildcard $(IMX_DEVICE_PATH)/fstab_nand.freescale),)
-$(shell touch $(IMX_DEVICE_PATH)/fstab_nand.freescale)
-endif
-
-ifneq ($(wildcard $(IMX_DEVICE_PATH)/fstab.freescale),)
-$(shell touch $(IMX_DEVICE_PATH)/fstab.freescale)
-endif
-
-# Overrides
-PRODUCT_NAME := evk_a300
-PRODUCT_DEVICE := evk_a300
-PRODUCT_MODEL := EVK_A300
-
-PRODUCT_FULL_TREBLE_OVERRIDE := true
-
-#Enable this to choose 32 bit user space build
-#IMX8_BUILD_32BIT_ROOTFS := true
-
-#Enable this to use dynamic partitions for the readonly partitions not touched by bootloader
-TARGET_USE_DYNAMIC_PARTITIONS ?= true
-#If the device is retrofit to have dynamic partition feature, set this variable to true to build
-#the images and OTA package. Here is a demo to update 10.0.0_1.0.0 to 10.0.0_2.0.0 or higher
-TARGET_USE_RETROFIT_DYNAMIC_PARTITION ?= false
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  PRODUCT_USE_DYNAMIC_PARTITIONS := true
-  BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
-  BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
-  ifeq ($(TARGET_USE_RETROFIT_DYNAMIC_PARTITION),true)
-    PRODUCT_RETROFIT_DYNAMIC_PARTITIONS := true
-    BOARD_SUPER_PARTITION_METADATA_DEVICE := system
-    ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 2952790016
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-    else
-      BOARD_SUPER_PARTITION_BLOCK_DEVICES := system vendor product
-      BOARD_SUPER_PARTITION_SYSTEM_DEVICE_SIZE := 1610612736
-      BOARD_SUPER_PARTITION_VENDOR_DEVICE_SIZE := 536870912
-      BOARD_SUPER_PARTITION_PRODUCT_DEVICE_SIZE := 1879048192
-    endif
-  endif
-endif
-
-# Include keystore attestation keys and certificates.
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
--include $(IMX_SECURITY_PATH)/attestation/imx_attestation.mk
-endif
-
-# Copy device related config and binary to board
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/app_whitelist.xml:system/etc/sysconfig/app_whitelist.xml \
-    $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
-    $(IMX_DEVICE_PATH)/input-port-associations.xml:$(TARGET_COPY_OUT_VENDOR)/etc/input-port-associations.xml \
-    $(IMX_DEVICE_PATH)/fstab.freescale:$(TARGET_COPY_OUT_VENDOR)/etc/fstab.freescale \
-    $(IMX_DEVICE_PATH)/init.imx8mq.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.imx8mq.rc \
-    $(IMX_DEVICE_PATH)/init.recovery.freescale.rc:root/init.recovery.freescale.rc \
-    $(IMX_DEVICE_PATH)/early.init.cfg:$(TARGET_COPY_OUT_VENDOR)/etc/early.init.cfg \
-    $(IMX_DEVICE_PATH)/init.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.rc \
-    $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.usb.rc \
-    $(IMX_DEVICE_PATH)/required_hardware.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/required_hardware.xml \
-    $(IMX_DEVICE_PATH)/ueventd.freescale.rc:$(TARGET_COPY_OUT_VENDOR)/ueventd.rc \
-    $(LINUX_FIRMWARE_IMX_PATH)/linux-firmware-imx/firmware/sdma/sdma-imx7d.bin:$(TARGET_COPY_OUT_VENDOR)/firmware/imx/sdma/sdma-imx7d.bin \
-    device/idtech/common/init/init.insmod.sh:$(TARGET_COPY_OUT_VENDOR)/bin/init.insmod.sh \
-    device/idtech/common/wifi/p2p_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/p2p_supplicant_overlay.conf \
-    device/idtech/common/wifi/bcm_wpa_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/wpa_supplicant_overlay.conf \
-    device/idtech/common/prebuilts/spl_tab.img:$(PRODUCT_OUT)/spl_tab.img \
-    device/idtech/common/prebuilts/mem_info.img:$(PRODUCT_OUT)/mem_info.img \
-    device/idtech/common/prebuilts/mem_info.txt:$(PRODUCT_OUT)/mem_info.txt
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/dynamic_partiton_tools/lpmake:lpmake \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/dynamic_partiton_tools/lpmake.exe:lpmake.exe
-endif
-
-# Audio card json
-PRODUCT_COPY_FILES += \
-    device/idtech/common/audio-json/wm8524_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/wm8524_config.json \
-    device/idtech/common/audio-json/spdif_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/spdif_config.json \
-    device/idtech/common/audio-json/cdnhdmi_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/cdnhdmi_config.json \
-    device/idtech/common/audio-json/ak4458_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/ak4458_config.json \
-    device/idtech/common/audio-json/ak5558_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/ak5558_config.json \
-    device/idtech/common/audio-json/btsco_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/btsco_config.json \
-    device/idtech/common/audio-json/rt5640_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/rt5640_config.json \
-    device/idtech/common/audio-json/tlv320aic3110_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/tlv320aic3110_config.json \
-    device/idtech/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_COPY_FILES += \
-    device/idtech/common/security/rpmb_key_test.bin:rpmb_key_test.bin \
-    device/idtech/common/security/testkey_public_rsa4096.bin:testkey_public_rsa4096.bin
-endif
-
-# ONLY devices that meet the CDD's requirements may declare these features
-PRODUCT_COPY_FILES += \
-    frameworks/native/data/etc/android.hardware.audio.output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.audio.output.xml \
-    frameworks/native/data/etc/android.hardware.bluetooth_le.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.bluetooth_le.xml \
-    frameworks/native/data/etc/android.hardware.camera.front.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.front.xml \
-    frameworks/native/data/etc/android.hardware.camera.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.xml \
-    frameworks/native/data/etc/android.hardware.ethernet.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.ethernet.xml \
-    frameworks/native/data/etc/android.hardware.screen.landscape.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.landscape.xml \
-    frameworks/native/data/etc/android.hardware.screen.portrait.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.portrait.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.distinct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.distinct.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.xml \
-    frameworks/native/data/etc/android.hardware.usb.accessory.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.accessory.xml \
-    frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
-    frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
-    frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
-    frameworks/native/data/etc/android.software.app_widgets.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.app_widgets.xml \
-    frameworks/native/data/etc/android.software.backup.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.backup.xml \
-    frameworks/native/data/etc/android.software.device_admin.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.device_admin.xml \
-    frameworks/native/data/etc/android.software.managed_users.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.managed_users.xml \
-    frameworks/native/data/etc/android.software.print.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.print.xml \
-    frameworks/native/data/etc/android.software.sip.voip.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.sip.voip.xml \
-    frameworks/native/data/etc/android.software.verified_boot.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.verified_boot.xml \
-    frameworks/native/data/etc/android.software.voice_recognizers.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.voice_recognizers.xml \
-    frameworks/native/data/etc/android.software.activities_on_secondary_displays.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.activities_on_secondary_displays.xml \
-    frameworks/native/data/etc/android.software.picture_in_picture.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.picture_in_picture.xml
-
-# Vendor seccomp policy files for media components:
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/seccomp/mediacodec-seccomp.policy:vendor/etc/seccomp_policy/mediacodec.policy \
-    $(IMX_DEVICE_PATH)/seccomp/mediaextractor-seccomp.policy:vendor/etc/seccomp_policy/mediaextractor.policy
-
-PRODUCT_COPY_FILES += \
-    device/idtech/imx8m/evk_a300/powerhint_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/powerhint_imx8mq.json
-
-# fastboot_imx_flashall scripts, fsl-sdcard-partition script and uuu_imx_android_flash scripts
-PRODUCT_COPY_FILES += \
-    device/idtech/common/tools/fastboot_imx_flashall.bat:fastboot_imx_flashall.bat \
-    device/idtech/common/tools/fastboot_imx_flashall.sh:fastboot_imx_flashall.sh \
-    device/idtech/common/tools/fsl-sdcard-partition.sh:fsl-sdcard-partition.sh \
-    device/idtech/common/tools/uuu_imx_android_flash.bat:uuu_imx_android_flash.bat \
-    device/idtech/common/tools/uuu_imx_android_flash.sh:uuu_imx_android_flash.sh
-
-USE_XML_AUDIO_POLICY_CONF := 1
-
-DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
-
-PRODUCT_CHARACTERISTICS := tablet
-
-PRODUCT_AAPT_CONFIG += xlarge large tvdpi hdpi xhdpi xxhdpi
-
-# GPU openCL g2d
-PRODUCT_COPY_FILES += \
-    $(IMX_PATH)/imx/opencl-2d/cl_g2d.cl:$(TARGET_COPY_OUT_VENDOR)/etc/cl_g2d.cl
-
-# GPU openCL SDK header file
--include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/include/CL/cl_sdk.mk
-
-# GPU openVX SDK header file
--include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/include/nnxc_kernels/nnxc_kernels.mk
-
-# GPU openCL icdloader config file
--include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/gpu-viv/icdloader/icdloader.mk
-
-# HWC2 HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.composer@2.3-service
-
-# Gralloc HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.mapper@2.0-impl-2.1 \
-    android.hardware.graphics.allocator@2.0-impl \
-    android.hardware.graphics.allocator@2.0-service
-
-# RenderScript HAL
-PRODUCT_PACKAGES += \
-    android.hardware.renderscript@1.0-impl
-
-PRODUCT_PACKAGES += \
-        libEGL_VIVANTE \
-        libGLESv1_CM_VIVANTE \
-        libGLESv2_VIVANTE \
-        gralloc_viv.imx \
-        libGAL \
-        libGLSLC \
-        libVSC \
-        libgpuhelper \
-        libSPIRV_viv \
-        libvulkan_VIVANTE \
-        vulkan.imx \
-        libCLC \
-        libLLVM_viv \
-        libOpenCL \
-        libg2d-opencl \
-        libg2d-viv \
-        libOpenVX \
-        libOpenVXU \
-        libNNVXCBinary-evis \
-        libNNVXCBinary-evis2 \
-        libNNVXCBinary-lite \
-        libOvx12VXCBinary-evis \
-        libOvx12VXCBinary-evis2 \
-        libOvx12VXCBinary-lite \
-        libNNGPUBinary-evis \
-        libNNGPUBinary-evis2 \
-        libNNGPUBinary-lite \
-        libNNGPUBinary-ulite \
-        libNNArchPerf \
-        libarchmodelSw \
-        gatekeeper.imx
-
-PRODUCT_PACKAGES += \
-    android.hardware.audio@5.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@5.0-impl:32 \
-    android.hardware.power@1.3-service.imx \
-    android.hardware.light@2.0-impl \
-    android.hardware.light@2.0-service \
-    android.hardware.sensors@1.0-impl \
-    android.hardware.sensors@1.0-convert \
-    android.hardware.sensors@1.0-service \
-    android.hardware.configstore@1.1-service \
-    configstore@1.1.policy
-
-# Thermal HAL
-PRODUCT_PACKAGES += \
-    android.hardware.thermal@2.0-service.imx
-PRODUCT_COPY_FILES += \
-    device/idtech/imx8m/evk_a300/thermal_info_config_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mq.json
-
-# Neural Network HAL and lib
-PRODUCT_PACKAGES += \
-    libovxlib \
-    libnnrt \
-    android.hardware.neuralnetworks@1.2-service-vsi-npu-server
-
-# Usb HAL
-PRODUCT_PACKAGES += \
-    android.hardware.usb@1.1-service.imx
-
-# Bluetooth HAL
-PRODUCT_PACKAGES += \
-    android.hardware.bluetooth@1.0-impl \
-    android.hardware.bluetooth@1.0-service
-
-# WiFi HAL
-PRODUCT_PACKAGES += \
-    android.hardware.wifi@1.0-service \
-    wifilogd \
-    wificond
-
-# BCM Bluetooth vendor config
-PRODUCT_PACKAGES += \
-    bt_vendor.conf
-
-# BCM 1CX Bluetooth Firmware
-PRODUCT_COPY_FILES += \
-    vendor/nxp/imx-firmware/cyw-wifi-bt/1CX_CYW4356/BCM4354A2.1CX.hcd:$(TARGET_COPY_OUT_VENDOR)/firmware/brcm/CYW4354A2.1CX.hcd
-
-# BCM 1CX Wifi Firmware
-PRODUCT_COPY_FILES += \
-    vendor/nxp/imx-firmware/cyw-wifi-bt/1CX_CYW4356/brcmfmac4356-pcie.bin:$(TARGET_COPY_OUT_VENDOR)/firmware/brcm/brcmfmac4356-pcie.bin \
-    vendor/nxp/imx-firmware/cyw-wifi-bt/1CX_CYW4356/brcmfmac4356-pcie.clm_blob:$(TARGET_COPY_OUT_VENDOR)/firmware/brcm/brcmfmac4356-pcie.clm_blob \
-    vendor/nxp/imx-firmware/cyw-wifi-bt/1CX_CYW4356/brcmfmac4356-pcie.txt:$(TARGET_COPY_OUT_VENDOR)/firmware/brcm/brcmfmac4356-pcie.txt
-
-# Wifi regulatory
-PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
-
-# hardware backed keymaster service
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@3.0-service.trusty
-endif
-
-PRODUCT_COPY_FILES += \
-    device/idtech/imx8m/evk_a300/camera_config_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/camera_config_imx8mq.json
-
-# Keymaster HAL
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@3.0-impl \
-    android.hardware.keymaster@3.0-service
-
-# DRM HAL
-TARGET_ENABLE_MEDIADRM_64 := true
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.0-impl \
-    android.hardware.drm@1.0-service
-
-# new gatekeeper HAL
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-impl \
-    android.hardware.gatekeeper@1.0-service
-
-# Add Trusty OS backed gatekeeper and secure storage proxy
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    gatekeeper.trusty \
-    storageproxyd
-endif
-
-#Dumpstate HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.dumpstate@1.0-service.imx
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-#Oemlock HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.oemlock@1.0-service.imx
-endif
-
-ifneq ($(BUILD_TARGET_FS),ubifs)
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.frp.pst=/dev/block/by-name/presistdata
-endif
-
-# ro.product.first_api_level indicates the first api level the device has commercially launched on.
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.product.first_api_level=28
-
-PRODUCT_PACKAGES += \
-    libg1 \
-    libhantro \
-    libcodec
-
-# imx c2 codec binary
-PRODUCT_PACKAGES += \
-    lib_vpu_wrapper \
-    lib_imx_c2_videodec_common \
-    lib_imx_c2_videodec \
-    lib_imx_c2_vpuwrapper_dec \
-    lib_imx_c2_process \
-    lib_imx_c2_process_dummy_post \
-    c2_component_register \
-    c2_component_register_ms \
-    c2_component_register_wmv9 \
-    c2_component_register_ra \
-    c2_component_register_rv
-
-# Add oem unlocking option in settings.
-PRODUCT_PROPERTY_OVERRIDES += ro.frp.pst=/dev/block/by-name/presistdata
-PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
-
-# Multi-Client IME
-PRODUCT_PACKAGES += \
-    MultiClientInputMethod \
-
-# Specify rollback index for bootloader and for AVB
-ifneq ($(AVB_RBINDEX),)
-BOARD_AVB_ROLLBACK_INDEX := $(AVB_RBINDEX)
-else
-BOARD_AVB_ROLLBACK_INDEX := 0
-endif
-
-#DRM Widevine 1.2 L3 support
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.0-impl \
-    android.hardware.drm@1.0-service \
-    android.hardware.drm@1.2-service.widevine \
-    android.hardware.drm@1.2-service.clearkey \
-    libwvdrmcryptoplugin \
-    libwvhidl \
-    libwvdrmengine \
-
-ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-$(call inherit-product, $(SRC_TARGET_DIR)/product/gsi_keys.mk)
-PRODUCT_PACKAGES += \
-    adb_debug.prop
-endif
-
-IMX-DEFAULT-G2D-LIB := libg2d-viv
-
-ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
-ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
-INSTALL_64BIT_LIBRARY := true
-endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
-endif
-
-$(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
-
diff --git a/imx8m/evk_a300/evk_a300_drm.mk b/imx8m/evk_a300/evk_a300_drm.mk
deleted file mode 100644
index 7ec4aa44..00000000
--- a/imx8m/evk_a300/evk_a300_drm.mk
+++ /dev/null
@@ -1,72 +0,0 @@
-# This is a FSL Android Reference Design platform based on i.MX8MQ board
-# It will inherit from FSL core product which in turn inherit from Google generic
-
-IMX_DEVICE_PATH := device/idtech/imx8m/evk_a300
-
-PRODUCT_IMX_DRM := true
-
-# copy drm specific files before inherit evk_a300.mk, otherwise copy is ignored
-PRODUCT_COPY_FILES += \
-	$(IMX_DEVICE_PATH)/audio_policy_configuration_drm.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
-	$(IMX_DEVICE_PATH)/init.imx8mq.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.imx8mq.main.rc \
-	$(IMX_DEVICE_PATH)/init.imx8mq.drm.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.freescale.imx8mq.rc \
-	$(TOPDIR)device/idtech/imx8m/tee-supplicant.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/tee-supplicant.rc \
-
-
-$(call inherit-product, $(TOPDIR)device/idtech/imx8m/optee-packages.mk)
-$(call inherit-product, $(TOPDIR)$(IMX_DEVICE_PATH)/evk_a300.mk)
-
-TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
-
-
-# Overrides
-PRODUCT_NAME := evk_a300_drm
-
-CFG_DRM_SECURE_DATA_PATH ?= y
-CFG_RDC_SECURE_DATA_PATH ?= y
-
-ifeq ($(CFG_DRM_SECURE_DATA_PATH),y)
-CFG_SECURE_DATA_PATH := y
-SOONG_CONFIG_IMXPLUGIN += CFG_SECURE_DATA_PATH
-SOONG_CONFIG_IMXPLUGIN_CFG_SECURE_DATA_PATH = y
-CFG_TEE_SDP_MEM_BASE := 0xcc000000
-CFG_TEE_SDP_MEM_SIZE := 0x02000000
-ifeq ($(CFG_RDC_SECURE_DATA_PATH),y)
-DECRYPTED_BUFFER_START	:= $(CFG_TEE_SDP_MEM_BASE)
-DECRYPTED_BUFFER_LEN	:= $(CFG_TEE_SDP_MEM_SIZE)
-DECODED_BUFFER_START	:= 0xCE000000
-DECODED_BUFFER_LEN		:= 0x30000000
-endif
-endif
-
-TARGET_BOARD_DTS_CONFIG := imx8mq:imx8mq-evk-drm.dtb imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb imx8mq-dual:imx8mq-evk-dual-display.dtb
-
-# Exoplayer
-PRODUCT_PACKAGES += \
-	exoplayer \
-
-# Playready
-PRODUCT_COPY_FILES += \
-	vendor/nxp/drm_artifacts/playready/Samples/devcert.dat:$(TARGET_COPY_OUT_VENDOR)/playready/devcert.dat \
-	vendor/nxp/drm_artifacts/playready/Samples/priv.dat:$(TARGET_COPY_OUT_VENDOR)/playready/priv.dat \
-	vendor/nxp/drm_artifacts/playready/bgroupcert.dat:$(TARGET_COPY_OUT_VENDOR)/playready/bgroupcert.dat \
-	vendor/nxp/drm_artifacts/playready/zgpriv_protected.dat:$(TARGET_COPY_OUT_VENDOR)/playready/zgpriv_protected.dat \
-
-ifneq ($(CFG_BUILD_DRM_FROM_SOURCES),y)
-PRODUCT_COPY_FILES += \
-	vendor/nxp/drm_artifacts/playready/ta/82dbae9c-9ce0-47e0-a1cb4048cfdb84aa.ta:$(TARGET_COPY_OUT_VENDOR)/lib/optee_armtz/82dbae9c-9ce0-47e0-a1cb4048cfdb84aa.ta \
-	vendor/nxp/drm_artifacts/playready/libdrmplayreadyplugin.so:$(TARGET_COPY_OUT_VENDOR)/lib64/mediadrm/libdrmplayreadyplugin.so \
-	vendor/nxp/drm_artifacts/playready/optee_playready_test:$(TARGET_COPY_OUT_VENDOR)/bin/optee_playready_test
-endif
-
-ifneq ($(CFG_BUILD_DRM_FROM_SOURCES),y)
-# Widevine
-PRODUCT_COPY_FILES += \
-	vendor/nxp/drm_artifacts/widevine/lib/liboemcrypto.so:$(TARGET_COPY_OUT_VENDOR)/lib/liboemcrypto.so \
-	vendor/nxp/drm_artifacts/widevine/lib/libwvdrmengine.so:$(TARGET_COPY_OUT_VENDOR)/lib/mediadrm/libwvdrmengine.so \
-	vendor/nxp/drm_artifacts/widevine/lib/libvtswidevine.so:$(TARGET_COPY_OUT_VENDOR)/lib/drm-vts-test-libs/libvtswidevine.so \
-	vendor/nxp/drm_artifacts/widevine/lib64/liboemcrypto.so:$(TARGET_COPY_OUT_VENDOR)/lib64/liboemcrypto.so \
-	vendor/nxp/drm_artifacts/widevine/lib64/libwvdrmengine.so:$(TARGET_COPY_OUT_VENDOR)/lib64/mediadrm/libwvdrmengine.so \
-	vendor/nxp/drm_artifacts/widevine/lib64/libvtswidevine.so:$(TARGET_COPY_OUT_VENDOR)/lib64/drm-vts-test-libs/libvtswidevine.so \
-	vendor/nxp/drm_artifacts/widevine/ta/706f6574-7765-6469-77656e6942656665.ta:$(TARGET_COPY_OUT_VENDOR)/lib/optee_armtz/706f6574-7765-6469-77656e6942656665.ta
-endif
diff --git a/imx8m/evk_a300/init.idtech.rc b/imx8m/evk_a300/init.idtech.rc
deleted file mode 100644
index daff2018..00000000
--- a/imx8m/evk_a300/init.idtech.rc
+++ /dev/null
@@ -1,62 +0,0 @@
-# enable logging by default
-on post-fs-data
-    setprop idtech.defaultlogger 1
-
-on property:idtech.defaultlogger=0
-    setprop persist.kmsgd.kmsgpersistd none
-    setprop persist.logd.logpersistd none
-
-on property:idtech.defaultlogger=1
-    setprop persist.kmsg.printlevel 8
-    setprop persist.logcatd.rotate 1024
-    setprop persist.logcatd.count 1024
-    setprop persist.kmsgd.kmsgpersistd logw
-    setprop persist.logd.logpersistd logcatd
-
-on property:persist.logd.logpersistd=logcatd
-    # all exec/services are called with umask(077), so no gain beyond 0700
-    mkdir /data/misc/logd 0777 root shell
-    start logcatd
-
-on property:persist.logd.logpersistd=none
-   stop logcatd
-
-on property:persist.kmsgd.kmsgpersistd=kmsgd
-    mkdir /data/misc/kmsgd 0777 root shell
-    start kmsgd
-
-on property:persist.kmsgd.kmsgpersistd=none
-    stop kmsgd
-    stop logwkmsgd
-
-on property:persist.kmsgd.kmsgpersistd=logw
-    start logwkmsgd
-
-on property:persist.kmsg.printlevel=*
-    write /proc/sys/kernel/printk ${persist.kmsg.printlevel}
-
-service logcatd /system/bin/sh /init.idtech.sh "logcatd"
-    class late_start
-    disabled
-    # logd for write to /data/misc/logd, log group for read from log daemon
-    user root
-    seclabel u:r:shell:s0
-    writepid /dev/cpuset/system-background/tasks
-
-
-service kmsgd /system/bin/sh /init.idtech.sh "kmsgd"
-    #/system/bin/cat /proc/kmsg > /data/misc/kmsgd/kernel.log
-    class late_start
-    disabled
-    user root
-    seclabel u:r:shell:s0
-    writepid /dev/cpuset/system-background/tasks
-
-service logwkmsgd /system/bin/sh /init.idtech.sh "logwkmsgd"
-    #/system/bin/logwrapper /system/bin/cat /proc/kmsg
-    class late_start
-    disabled
-    user root
-    seclabel u:r:shell:s0
-    writepid /dev/cpuset/system-background/tasks
-
diff --git a/imx8m/evk_a300/init.idtech.sh b/imx8m/evk_a300/init.idtech.sh
deleted file mode 100644
index 49389018..00000000
--- a/imx8m/evk_a300/init.idtech.sh
+++ /dev/null
@@ -1,86 +0,0 @@
-#!/system/bin/sh
-
-LOG_TAG="init-idtech-sh"
-
-logi() {
-  /system/bin/log -t "$LOG_TAG" -p i "$1"
-}
-
-loge() {
-  /system/bin/log -t "$LOG_TAG" -p e "$1"
-}
-
-write_ir_cutoff() {
-  set_cutoff_path=`find /d/msm_sensor_ftd/ir_cut`
-  get_cutoff_path=`find /sys/module/msm_sensor/parameters/ir_cut_mode`
-  new_cut_value=`getprop sys.ircut.mode`
-  cut_mode=`cat ${get_cutoff_path}`
-  logi "ir_cut_mode ${cut_mode}"
-  if [ "$new_cut_value" !=  "$cut_mode" ] ; then
-    echo "$new_cut_value" > ${set_cutoff_path}
-  fi
-}
-
-disable_selinux() {
-  setenforce 0
-  setprop sys.disable.selinux 0
-  logi "disable_selinux"
-}
-
-shell_execute() {
-  if [ -e "/data/local/tmp/shell_cmd" ]; then
-    shell_cmd=`cat /data/local/tmp/shell_cmd`
-    logi "$shell_cmd enter"
-    nohup $shell_cmd > /dev/null 2>&1 &
-    logi "$shell_cmd exit"
-  fi
-  setprop sys.shell.cmd 0
-  logi "shell_execute"
-}
-
-logcatd() {
-  r=`getprop persist.logcatd.rotate`;
-  n=`getprop persist.logcatd.count`;
-  if [ "$r" = "" ]; then r=`cat /data/property/persist.logcatd.rotate`; fi;
-  if [ "$n" = "" ]; then n=`cat /data/property/persist.logcatd.count`; fi;
-  if [ "$r" = "" ]; then r="64"; fi;
-  if [ "$n" = "" ]; then n="254"; fi;
-  logi "starting configurable logcatd"
-  /system/bin/logcat -b all -v threadtime -v usec -v printable -D -f /data/misc/logd/logcat -r $r -n $n
-}
-
-kmsgd() {
-  l=`getprop persist.kmsgd.lines`;
-  if [ "$l" = "" ]; then l=`cat /data/property/persist.kmsgd.size`; fi;
-  if [ "$l" = "" ]; then l="10000"; fi;
-  w=`wc -l < /data/misc/kmsgd/kernel.log`;
-  if [ -e /data/misc/kmsgd/kernel.log ]; then
-    if [ $w -gt $l ]; then
-      tail -n $l /data/misc/kmsgd/kernel.log > /data/misc/kmsgd/kernel.tmp
-      rm /data/misc/kmsgd/kernel.log
-      mv /data/misc/kmsgd/kernel.tmp /data/misc/kmsgd/kernel.log
-    fi;
-  fi;
-  cat /dev/kmsg >> /data/misc/kmsgd/kernel.log
-}
-
-logwkmsgd() {
-  logi "starting logwkmsgd"
-  logwrapper cat /dev/kmsg
-}
-
-#####################################################
-#                       main                        #
-#####################################################
-if [ "$1" = shell-execute ]; then
-  shell_execute
-elif [ "$1" = disable-selinux ]; then
-  disable_selinux
-elif [ "$1" = logcatd ]; then
-  logcatd
-elif [ "$1" = kmsgd ]; then
-  kmsgd
-elif [ "$1" = logwkmsgd ]; then
-  logwkmsgd
-fi
-
diff --git a/imx8m/evk_a300/init.imx8mq.drm.rc b/imx8m/evk_a300/init.imx8mq.drm.rc
deleted file mode 100644
index 351da5f9..00000000
--- a/imx8m/evk_a300/init.imx8mq.drm.rc
+++ /dev/null
@@ -1,20 +0,0 @@
-import /vendor/etc/init/hw/init.${ro.hardware}.${ro.boot.soc_type}.main.rc
-
-on property:init.svc.mediadrm=running
-    mkdir /data/vendor/mediadrm 0770 media mediadrm
-
-on post-fs-data
-    # create for OP-TEE test
-    mkdir /data/vendor/tee 0660 media media
-    mkdir /data/vendor/tee/optee_armtz 0660 media media
-    restorecon_recursive /data/vendor/tee
-
-
-on boot
-    # optee device
-    chmod 0660 /dev/tee0
-    chown media media /dev/tee0
-
-    chmod 0660 /dev/teepriv0
-    chown media media /dev/teepriv0
-
diff --git a/imx8m/evk_a300/init.imx8mq.rc b/imx8m/evk_a300/init.imx8mq.rc
deleted file mode 100755
index 038c07d6..00000000
--- a/imx8m/evk_a300/init.imx8mq.rc
+++ /dev/null
@@ -1,53 +0,0 @@
-on early-boot
-
-    # Set OpenGLES version
-    setprop ro.opengles.version 196609
-
-    # Set GPU 3D minimum clock to 3/64
-    write /sys/bus/platform/drivers/galcore/gpu3DMinClock 3
-
-    # Set NN reject model by weights md5
-    setprop WEIGHT_MD5_CHECK 1
-
-    # change for FSL specific service
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
-    chmod 0440 /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
-
-on property:sys.boot_completed=1
-    # Set default CPU frequency governor
-    # configure governor settings for little cluster
-    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "schedutil"
-    # The rate-limit tunable in the schedutil governor applies to transitions to both lower and higher frequencies
-    # Set up and down limit to 200us/200us
-    write /sys/devices/system/cpu/cpufreq/schedutil/up_rate_limit_us 200
-    write /sys/devices/system/cpu/cpufreq/schedutil/down_rate_limit_us 200
-
-on property:sys.boot_completed=1
-    # update cpuset now that processors are up
-    write /dev/cpuset/foreground/cpus 0-3
-
-    # top-app gets all cpus
-    write /dev/cpuset/top-app/cpus 0-3
-
-    #background contains a small subset (generally one little core)
-    write /dev/cpuset/background/cpus 0
-
-    # add system-background cpuset, a new cpuset for system services
-    # that should not run on larger cores
-    # system-background is for system tasks that should only run on
-    # little cores, not on bigs to be used only by init
-    write /dev/cpuset/system-background/cpus 0-2
-
-on init
-    #IDtech added for AB ota update bootloader
-    symlink   /dev/block/mmcblk0boot0p1   /dev/block/by-name/spl_a
-    symlink   /dev/block/mmcblk0boot1p1   /dev/block/by-name/spl_b
-    symlink   /dev/block/mmcblk0boot0p2   /dev/block/by-name/spl_bak_a
-    symlink   /dev/block/mmcblk0boot1p2   /dev/block/by-name/spl_bak_b
diff --git a/imx8m/evk_a300/init.rc b/imx8m/evk_a300/init.rc
deleted file mode 100644
index f482abf0..00000000
--- a/imx8m/evk_a300/init.rc
+++ /dev/null
@@ -1,331 +0,0 @@
-import /vendor/etc/init/hw/init.${ro.hardware}.usb.rc
-import /vendor/etc/init/hw/init.${ro.hardware}.${ro.boot.soc_type}.rc
-import /init.idtech.rc
-
-on early-init
-    # mount the debugfs
-    mount debugfs none /sys/kernel/debug/ mode=0755
-
-    # Mount binderfs
-    mkdir /dev/binderfs
-    mount binder binder /dev/binderfs stats=global
-    chmod 0755 /dev/binderfs
-
-    symlink /dev/binderfs/binder /dev/binder
-    symlink /dev/binderfs/hwbinder /dev/hwbinder
-    symlink /dev/binderfs/vndbinder /dev/vndbinder
-
-    chmod 0666 /dev/binderfs/hwbinder
-    chmod 0666 /dev/binderfs/binder
-    chmod 0666 /dev/binderfs/vndbinder
-
-
-on early-init
-    start early_init_sh
-
-    # Due keymaster start very early so set prop here
-    # Also gatekeeper share same role for keymaster
-    setprop ro.hardware.keystore ${ro.boot.keystore}
-    setprop ro.hardware.gatekeeper ${ro.boot.keystore}
-    setprop vendor.storageproxyd ${ro.boot.keystore}
-
-on init
-    start watchdogd
-
-    # Support legacy paths
-    symlink /sdcard /mnt/sdcard
-    symlink /sdcard /storage/sdcard0
-
-    # setup the global environment
-    export CORE_REGISTER_FILE /vendor/etc/core_register
-    export COMPONENT_REGISTER_FILE /vendor/etc/component_register
-    export CONTENTPIPE_REGISTER_FILE /vendor/etc/contentpipe_register
-
-    # disable cursor blink for fbcon, if no splash screen support
-    write /sys/class/graphics/fbcon/cursor_blink 0
-
-    # deattch the fbcon as hdmi hotplug conflict with fbcon
-    write /sys/class/vtconsole/vtcon1/bind 0
-
-    chown system system /dev/stune/top-app/schedtune.boost
-    chmod 664 /dev/stune/top-app/schedtune.boost
-    chown system system /dev/stune/top-app/schedtune.prefer_idle
-    chmod 664 /dev/stune/top-app/schedtune.prefer_idle
-    chown system system /dev/stune/foreground/schedtune.boost
-    chmod 664 /dev/stune/foreground/schedtune.boost
-    chown system system /dev/stune/foreground/schedtune.prefer_idle
-    chmod 664 /dev/stune/foreground/schedtune.prefer_idle
-    chown system system /dev/stune/schedtune.boost
-    chmod 664 /dev/stune/schedtune.boost
-
-    # set default schedTune value for foreground/top-app (only affects EAS)
-    write /dev/stune/foreground/schedtune.boost 10
-    write /dev/stune/foreground/schedtune.prefer_idle 1
-    write /dev/stune/top-app/schedtune.boost 40
-    write /dev/stune/top-app/schedtune.prefer_idle 1
-    write /dev/stune/rt/schedtune.boost 50
-    write /dev/stune/rt/schedtune.prefer_idle 1
-
-on late-fs
-    # Start keymaster service
-    start vendor.keymaster-3-0-${ro.boot.keystore}
-    setprop vendor.powerhal.init 1
-
-    mount_all /vendor/etc/fstab.freescale --late
-
-on late-fs && property:vendor.storageproxyd=trusty
-    start vendor.oemlock-1-0
-
-on early-boot
-    # For evk_8mq, when swap used about 400M, upgrade the level.
-    setprop ro.lmk.upgrade_pressure 87
-    setprop ro.lmk.downgrade_pressure 95
-    setprop ro.lmk.critical_upgrade true
-
-    # Set the host name which used in console
-    export HOSTNAME evk_a300
-
-    # Set permission for IIM node
-    symlink /dev/mxs_viim /dev/mxc_mem
-
-    # Enable Tethering in the Settings
-    setprop ro.tether.denied false
-
-    setprop sys.hwc.disable     1
-    setprop vendor.2d.composition 0
-    setprop hwc.stretch.filter  1
-
-    #viv sdk dir
-    setprop VIVANTE_SDK_DIR /vendor/etc/viv_sdk
-
-    # fsl omx graphic manager media framework property
-    setprop rw.VIDEO_RENDER_NAME video_render.surface
-    setprop media.fsl_codec.flag 7
-
-    setprop camera.disable_zsl_mode 1
-    setprop back_camera_name mx6s-csi0
-    setprop back_camera_orient 0
-    setprop front_camera_name mx6s-csi1
-    setprop front_camera_orient 0
-
-   # Tweak the mmc device read ahead buffer size
-    write /sys/block/mmcblk0/queue/read_ahead_kb 2048
-    write /sys/block/mmcblk1/queue/read_ahead_kb 2048
-
-    # Set period_us for usb audio
-    setprop ro.audio.usb.period_us 20000
-
-    # Wifi firmware reload path
-    chown wifi wifi /sys/module/brcmfmac/parameters/alternative_fw_path
-
-    # Prepare for wifi
-    setprop wifi.interface wlan0
-
-    setprop persist.service.bdroid.bdaddr 22:22:67:C6:69:73
-
-    # Prepare for bluetooth
-    chmod 665 /sys/class/rfkill/rfkill0/state
-    chown bluetooth bluetooth /sys/class/rfkill/rfkill0/state
-    write /sys/class/rfkill/rfkill0/state 0
-
-    # Prepare for RIL
-    setprop ro.ril.wake_lock_timeout 300
-
-    # Use ro.boot.lcd_density to override ro.sf.lcd_density
-    setprop ro.sf.lcd_density ${ro.boot.lcd_density}
-
-    # Disable surfaceflinger back pressure propagate
-    setprop debug.sf.disable_backpressure 1
-
-    # Set tracefs permission to 755
-    chmod 0755 /sys/kernel/debug/tracing
-
-    # Set sw_sync group to graphics and set permission to 664
-    chown root graphics /sys/kernel/debug/sync/sw_sync
-    chmod 0664 /sys/kernel/debug/sync/sw_sync
-
-    # Default backlight device
-    #setprop hw.backlight.dev "30a00000.mipi_dsi.0"
-    # Chmod/chown FSL specific sys entry
-    #chown system system /sys/class/backlight/30a00000.mipi_dsi.0/brightness
-    #chmod 0660 /sys/class/backlight/30a00000.mipi_dsi.0/brightness
-    setprop hw.backlight.dev "backlight"
-    chown system system /sys/class/backlight/backlight/brightness
-    chmod 0660 /sys/class/backlight/backlight/brightness
-
-    # For PWM2-4
-    chown system system /sys/class/backlight/pwm_2/brightness
-    chown system system /sys/class/backlight/pwm_3/brightness
-    chown system system /sys/class/backlight/pwm_4/brightness
-    chmod 0660 /sys/class/backlight/pwm_2/brightness
-    chmod 0660 /sys/class/backlight/pwm_3/brightness
-    chmod 0660 /sys/class/backlight/pwm_4/brightness
-
-    # Set light sensor sysfs path and light sensor threshold lux value
-    setprop ro.hardware.lightsensor "/sys/class/i2c-dev/i2c-0/device/0-0044/"
-    setprop ro.lightsensor.threshold  20
-
-    # Dectect DSF streams when scanning media
-    setprop ro.FSL_DSF_PARSER 1
-
-    # Allow DSD file(duration larger than 10s) can play
-    setprop audio.offload.min.duration.secs 10
-
-    # Enlarge limition of audio buffer allocation
-    setprop ro.af.client_heap_size_kbyte 32768
-
-    # enlarge media max memory size to 3G.
-    setprop ro.media.maxmem 3221225471
-
-    setprop wifi.direct.interface p2p-dev-wlan0
-    start vendor.wifi_hal_legacy
-
-on boot
-    start audioserver
-    start mediadrm
-    start media
-    start drm
-
-service wpa_supplicant /vendor/bin/hw/wpa_supplicant \
-    -O/data/vendor/wifi/wpa/sockets -puse_p2p_group_interface=1 \
-    -g@android:wpa_wlan0
-    interface android.hardware.wifi.supplicant@1.0::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.1::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.2::ISupplicant default
-    class main
-    socket wpa_wlan0 dgram 660 wifi wifi
-    disabled
-    oneshot
-
-service sensor_fusion /vendor/bin/fsl_sensor_fusion
-    class late_start
-    seclabel u:r:sensors:s0
-    user system
-    group input
-    oneshot
-
-service vendor.sensors-hal-1-0 /vendor/bin/hw/android.hardware.sensors@1.0-service
-    class hal
-    user system
-    group system wakelock input root
-    capabilities BLOCK_SUSPEND SYS_NICE
-
-# Set watchdog timer to 30 seconds and pet it every 10 seconds to get a 20 second margin
-service watchdogd /system/bin/watchdogd 10 20
-    class core
-    seclabel u:r:watchdogd:s0
-
-service dhcpcd_wlan0 /system/bin/dhcpcd -aABDKL
-    class main
-    disabled
-    oneshot
-
-service dhcpcd_p2p /system/bin/dhcpcd -aABKL
-    class main
-    disabled
-    oneshot
-
-service dhcpcd_eth0 /system/bin/dhcpcd -ABKL eth0
-    class main
-    disabled
-    oneshot
-
-service dhcpcd_bt-pan /system/bin/dhcpcd -ABKL
-    class main
-    disabled
-    oneshot
-
-service iprenew_wlan0 /system/bin/dhcpcd -n
-    class main
-    disabled
-    oneshot
-
-service iprenew_p2p /system/bin/dhcpcd -n
-    class main
-    disabled
-    oneshot
-
-service iprenew_eth0 /system/bin/dhcpcd -n eth0
-    class main
-    disabled
-    oneshot
-
-service iprenew_bt-pan /system/bin/dhcpcd -n
-    class main
-    disabled
-    oneshot
-
-# bugreport is triggered by holding down volume down, volume up and power
-service bugreport /system/bin/dumpstate -d -p -B -z \
-        -o /data/user_de/0/com.android.shell/files/bugreports/bugreport
-    class main
-    disabled
-    oneshot
-    keycodes 114 115 116
-
-on fs
-# mount ext4 partitions
-    mount_all /vendor/etc/fstab.freescale --early
-
-    # Adjust parameters for dm-verity device
-    write /sys/block/dm-0/queue/read_ahead_kb 4096
-
-    # Update dm-verity state and set partition.*.verified properties
-    verity_update_state
-
-on verity-logging
-    exec u:r:slideshow:s0 -- /sbin/slideshow warning/verity_red_1 warning/verity_red_2
-
-on post-fs
-    # Set netd memlock rlimit to 8MB
-    setrlimit 8 8388608 8388608
-
-    # Turn on swap
-    swapon_all /vendor/etc/fstab.freescale
-
-    # Swap in only 1 page at a time
-    write /proc/sys/vm/page-cluster 0
-
-    # Grant permission for fetching available_pages info of statsd
-    chown system system /proc/pagetypeinfo
-    chmod 0440 /proc/pagetypeinfo
-
-on post-fs-data
-    setprop vold.post_fs_data_done 1
-    # create temp node for secure storage proxy
-    mkdir /data/vendor/ss 0700 system system
-
-    # tmp dir for opencl Compiler
-    setprop TMPDIR /data/vendor/.opencl-cache
-    mkdir /data/vendor/.opencl-cache 0771 system camera
-
-on zygote-start
-    # Create the directories used by the Wireless subsystem
-    mkdir /data/misc/wifi 0770 wifi wifi
-    mkdir /data/misc/wifi/wpa_supplicant 0770 wifi wifi
-    mkdir /data/vendor/wifi 0771 wifi wifi
-    mkdir /data/vendor/wifi/wpa 0770 wifi wifi
-    mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
-    mkdir /data/misc/dhcp 0770 dhcp dhcp
-    chown dhcp dhcp /data/misc/dhcp
-
-service early_init_sh /vendor/bin/init.insmod.sh /vendor/etc/early.init.cfg sys.all.early_init.ready
-    class main
-    user root
-    group root system
-    disabled
-    oneshot
-
-on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty
-    start storageproxyd
-
-service storageproxyd /vendor/bin/storageproxyd -p /data/vendor/ss -r /dev/mmcblk0rpmb -d /dev/trusty-ipc-dev0
-   group system
-
-
-on property:ro.boot.vendor.sysrq=1
-    write /proc/sys/kernel/sysrq 1
-
-# setenv append_bootargs androidboot.usb.debugging=1
-on property:ro.boot.usb.debugging=1
-    setprop persist.sys.usb.config adb
diff --git a/imx8m/evk_a300/init.recovery.freescale.rc b/imx8m/evk_a300/init.recovery.freescale.rc
deleted file mode 100644
index e1842379..00000000
--- a/imx8m/evk_a300/init.recovery.freescale.rc
+++ /dev/null
@@ -1,8 +0,0 @@
-on init
-    # disable cursor blink for fbcon, if no splash screen support
-    write /sys/class/graphics/fbcon/cursor_blink 0
-
-    setprop sys.usb.configfs 1
-
-on early-boot
-    setprop sys.usb.controller "38100000.usb"
diff --git a/imx8m/evk_a300/init.usb.rc b/imx8m/evk_a300/init.usb.rc
deleted file mode 100644
index 12fe7841..00000000
--- a/imx8m/evk_a300/init.usb.rc
+++ /dev/null
@@ -1,52 +0,0 @@
-#
-# Copyright (C) 2016 The Android Open-Source Project
-# Copyright 2018 NXP
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-#      http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.
-#
-
-on early-boot
-    mount configfs none /config
-    mkdir /config/usb_gadget/g1 0770
-    mkdir /config/usb_gadget/g1/strings/0x409 0770
-    write /config/usb_gadget/g1/bcdUSB 0x0200
-    write /config/usb_gadget/g1/idVendor 0x18d1
-    write /config/usb_gadget/g1/bcdDevice 0x0440
-    write /config/usb_gadget/g1/strings/0x409/serialnumber ${ro.serialno}
-    write /config/usb_gadget/g1/strings/0x409/manufacturer ${ro.product.manufacturer}
-    write /config/usb_gadget/g1/strings/0x409/product ${ro.product.model}
-    mkdir /config/usb_gadget/g1/functions/mass_storage.0
-    mkdir /config/usb_gadget/g1/functions/accessory.gs2
-    mkdir /config/usb_gadget/g1/functions/audio_source.gs3
-    mkdir /config/usb_gadget/g1/functions/rndis.gs4
-    mkdir /config/usb_gadget/g1/functions/midi.gs5
-    mkdir /config/usb_gadget/g1/functions/ffs.adb
-    mkdir /config/usb_gadget/g1/functions/ffs.mtp
-    mkdir /config/usb_gadget/g1/functions/ffs.ptp
-    mkdir /config/usb_gadget/g1/configs/b.1 0770
-    mkdir /config/usb_gadget/g1/configs/b.1/strings/0x409 0770
-    write /config/usb_gadget/g1/os_desc/b_vendor_code 0x1
-    write /config/usb_gadget/g1/os_desc/qw_sign "MSFT100"
-    mkdir /dev/usb-ffs 0775 shell shell
-    mkdir /dev/usb-ffs/adb 0770 shell shell
-    mount functionfs adb /dev/usb-ffs/adb rmode=0770,fmode=0660,uid=2000,gid=2000
-    mkdir /dev/usb-ffs/mtp 0770 mtp mtp
-    mkdir /dev/usb-ffs/ptp 0770 mtp mtp
-    mount functionfs mtp /dev/usb-ffs/mtp rmode=0770,fmode=0660,uid=1024,gid=1024,no_disconnect=1
-    mount functionfs ptp /dev/usb-ffs/ptp rmode=0770,fmode=0660,uid=1024,gid=1024,no_disconnect=1
-    setprop sys.usb.mtp.device_type 3
-    setprop vendor.usb.config "38100000.usb"
-    write /sys/module/libcomposite/parameters/disable_l1_for_hs "y"
-    symlink /config/usb_gadget/g1/configs/b.1 /config/usb_gadget/g1/os_desc/b.1
-
-on boot
-    setprop sys.usb.configfs 2
diff --git a/imx8m/evk_a300/input-port-associations.xml b/imx8m/evk_a300/input-port-associations.xml
deleted file mode 100644
index d5f8fa39..00000000
--- a/imx8m/evk_a300/input-port-associations.xml
+++ /dev/null
@@ -1,24 +0,0 @@
-<!-- Use below commands to get display port number:
-# dumpsys SurfaceFlinger - -display-id
-Display 4692921138614785 (HWC display 1): port=1 pnpId=DEL displayName="DELL S2740L"
-Display 4693505326422272 (HWC display 0): port=0 pnpId=DEL displayName="DELL P2314T"
-
-Use below commands to get touch input location:
-# getevent -i | grep location
-location: "usb-xhci-hcd.0.auto-1.1.4/input0"
-location: "usb-xhci-hcd.0.auto-1.2.4/input0"
-
-Then bind the display port and input location with below table. This table need
-to modify according to actual connection.
-One display can link with multi-input.
--->
-<ports>
-	<port display="0" input="usb-xhci-hcd.1.auto-1.4/input0" />
-	<port display="1" input="usb-xhci-hcd.1.auto-1.4/input0" />
-	<port display="0" input="usb-xhci-hcd.2.auto-1.4/input0" />
-	<port display="1" input="usb-xhci-hcd.2.auto-1.4/input0" />
-	<port display="0" input="usb-xhci-hcd.1.auto-1.3.4/input0" />
-	<port display="1" input="usb-xhci-hcd.1.auto-1.3.4/input0" />
-	<port display="0" input="usb-xhci-hcd.2.auto-1.3.4/input0" />
-	<port display="1" input="usb-xhci-hcd.2.auto-1.3.4/input0" />
-</ports>
diff --git a/imx8m/evk_a300/manifest.xml b/imx8m/evk_a300/manifest.xml
deleted file mode 100644
index 8d94e079..00000000
--- a/imx8m/evk_a300/manifest.xml
+++ /dev/null
@@ -1,276 +0,0 @@
-<manifest version="1.0" type="device" target-level="4">
-    <hal format="hidl">
-	<name>android.hardware.graphics.allocator</name>
-        <transport>hwbinder</transport>
-	<impl level="generic"></impl>
-	<version>2.0</version>
-	<interface>
-	    <name>IAllocator</name>
-	    <instance>default</instance>
-	</interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.composer</name>
-        <transport>hwbinder</transport>
-        <version>2.3</version>
-        <interface>
-            <name>IComposer</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>3.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>ICryptoFactory</name>
-            <instance>default</instance>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-            <instance>default</instance>
-        </interface>
-        <fqname>@1.2::ICryptoFactory/clearkey</fqname>
-        <fqname>@1.2::IDrmFactory/clearkey</fqname>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.gatekeeper</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IGatekeeper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.mapper</name>
-        <transport arch="32+64">passthrough</transport>
-        <impl level="generic"></impl>
-        <version>2.1</version>
-        <interface>
-            <name>IMapper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.renderscript</name>
-        <transport arch="32+64">passthrough</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.sensors</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>ISensors</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.configstore</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>ISurfaceFlingerConfigs</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.c2</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IComponentStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.omx</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IOmx</name>
-            <instance>default</instance>
-        </interface>
-        <interface>
-            <name>IOmxStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-       <name>android.hardware.wifi</name>
-       <transport>hwbinder</transport>
-       <version>1.3</version>
-       <interface>
-           <name>IWifi</name>
-           <instance>default</instance>
-       </interface>
-    </hal>
-    <hal format="hidl">
-       <name>android.hardware.wifi.supplicant</name>
-       <transport>hwbinder</transport>
-       <version>1.2</version>
-       <interface>
-           <name>ISupplicant</name>
-           <instance>default</instance>
-       </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.wifi.hostapd</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>IHostapd</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-       <name>android.hardware.camera.provider</name>
-	<transport>hwbinder</transport>
-	<impl level="generic"></impl>
-	<version>2.4</version>
-	<interface>
-	    <name>ICameraProvider</name>
-	    <instance>legacy/0</instance>
-	</interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.light</name>
-        <transport>hwbinder</transport>
-        <version>2.0</version>
-        <interface>
-            <name>ILight</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio</name>
-        <transport>hwbinder</transport>
-        <version>5.0</version>
-        <interface>
-            <name>IDevicesFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio.effect</name>
-        <transport>hwbinder</transport>
-        <version>5.0</version>
-        <interface>
-            <name>IEffectsFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.usb</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>IUsb</name>
-            <instance>default</instance>
-          </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.usb.gadget</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IUsbGadget</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.bluetooth</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IBluetoothHci</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.dumpstate</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDumpstateDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.oemlock</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IOemLock</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.health</name>
-        <transport>hwbinder</transport>
-        <version>2.0</version>
-        <interface>
-            <name>IHealth</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>nxp.hardware.display</name>
-            <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDisplay</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.neuralnetworks</name>
-        <transport>hwbinder</transport>
-        <version>1.2</version>
-        <interface>
-            <name>IDevice</name>
-            <instance>vsi-npu</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.broadcastradio</name>
-            <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IBroadcastRadioFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.radio.deprecated</name>
-            <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IBroadcastRadioFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.radio</name>
-            <transport>hwbinder</transport>
-        <version>1.4</version>
-        <interface>
-            <name>IRadio</name>
-            <instance>slot1</instance>
-        </interface>
-    </hal>
-</manifest>
diff --git a/imx8m/evk_a300/manifest_userdebug.xml b/imx8m/evk_a300/manifest_userdebug.xml
deleted file mode 100644
index 0b8b4d89..00000000
--- a/imx8m/evk_a300/manifest_userdebug.xml
+++ /dev/null
@@ -1,12 +0,0 @@
-<manifest version="1.0" type="device" target-level="4">
-    <kernel  target-level="5" />
-    <hal format="hidl">
-        <name>android.hardware.memtrack</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IMemtrack</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-</manifest>
diff --git a/imx8m/evk_a300/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png b/imx8m/evk_a300/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/evk_a300/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/evk_a300/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png b/imx8m/evk_a300/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/evk_a300/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/evk_a300/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png b/imx8m/evk_a300/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/evk_a300/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/evk_a300/overlay/frameworks/base/core/res/res/values/config.xml b/imx8m/evk_a300/overlay/frameworks/base/core/res/res/values/config.xml
deleted file mode 100644
index 79917b72..00000000
--- a/imx8m/evk_a300/overlay/frameworks/base/core/res/res/values/config.xml
+++ /dev/null
@@ -1,231 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-/*
-** Copyright 2011, The Android Open Source Project
-**
-** Licensed under the Apache License, Version 2.0 (the "License");
-** you may not use this file except in compliance with the License.
-** You may obtain a copy of the License at
-**
-**     http://www.apache.org/licenses/LICENSE-2.0
-**
-** Unless required by applicable law or agreed to in writing, software
-** distributed under the License is distributed on an "AS IS" BASIS,
-** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-** See the License for the specific language governing permissions and
-** limitations under the License.
-*/
--->
-
-<!-- These resources are around just to allow their values to be customized
-     for different hardware and product builds. -->
-<resources>
-
-    <!--For Android we support eth0 now -->
-    <string translatable="false" name="config_ethernet_iface_regex">eth0</string>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         USB interfaces.  If the device doesn't want to support tething over USB this should
-         be empty.  An example would be "usb.*" -->
-     <string-array translatable="false" name="config_tether_usb_regexs">
-       <item>usb0</item>
-     </string-array>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         Wifi interfaces.  If the device doesn't want to support tethering over Wifi this
-         should be empty.  An example would be "softap.*" -->
-    <string-array translatable="false" name="config_tether_wifi_regexs">
-      <item>"wlan0"</item>
-    </string-array>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         bluetooth interfaces.  If the device doesn't want to support tethering over bluetooth this
-         should be empty. -->
-    <string-array translatable="false" name="config_tether_bluetooth_regexs">
-        <item>"bt-pan"</item>
-        </string-array>
-
-    <!-- Array of ConnectivityManager.TYPE_xxxx values allowable for tethering -->
-    <!-- Common options are [1, 4] for TYPE_WIFI and TYPE_MOBILE_DUN or
-    <!== [0,1,5,7,9] for TYPE_MOBILE, TYPE_WIFI, TYPE_MOBILE_HIPRI, TYPE_BLUETOOTH and TYPE_ETHERNET -->
-    <integer-array translatable="false" name="config_tether_upstream_types">
-        <item>0</item>
-        <item>1</item>
-        <item>5</item>
-        <item>9</item>
-    </integer-array>
-
-    <!-- Flag indicating whether we should enable the automatic brightness in Settings.
-         config_hardware_automatic_brightness_available is not set, so we will use software implementation -->
-    <bool name="config_automatic_brightness_available">true</bool>
-
-    <!-- An Array of "[ConnectivityManager connectionType],
-                      [# simultaneous connection types]"  -->
-    <string-array translatable="false" name="radioAttributes">
-        <item>"1,1"</item>
-        <item>"9,1"</item>
-    </string-array>
-
-    <!-- An Array of "[Connection name],[ConnectivityManager.TYPE_xxxx],
-         [associated radio-type],[priority],[restoral-timer(ms)],[dependencyMet]  -->
-    <!-- the 5th element "resore-time" indicates the number of milliseconds to delay
-         before automatically restore the default connection.  Set -1 if the connection
-         does not require auto-restore. -->
-    <!-- the 6th element indicates boot-time dependency-met value. -->
-<!--
-    <string-array translatable="false" name="networkAttributes">
-        <item>"wifi,1,1,1,-1,true"</item>
-        <item>"bluetooth,7,7,2,-1,true"</item>
-        <item>"ethernet,9,9,2,-1,true"</item>
-    </string-array>
--->
-    <string-array translatable="false" name="networkAttributes">
-        <item>"wifi,1,1,1,-1,true"</item>
-        <item>"mobile,0,0,0,-1,true"</item>
-        <item>"mobile_mms,2,0,2,60000,true"</item>
-        <item>"mobile_supl,3,0,2,60000,true"</item>
-        <item>"mobile_dun,4,0,2,60000,true"</item>
-        <item>"mobile_hipri,5,0,3,60000,true"</item>
-        <item>"mobile_fota,10,0,2,60000,true"</item>
-        <item>"mobile_ims,11,0,2,60000,true"</item>
-        <item>"mobile_cbs,12,0,2,60000,true"</item>
-        <item>"wifi_p2p,13,1,0,-1,true"</item>
-        <item>"mobile_ia,14,0,2,-1,true"</item>
-        <item>"mobile_emergency,15,0,2,-1,true"</item>
-    </string-array>
-
-    <!-- Array of light sensor LUX values to define our levels for auto backlight brightness support.
-         The N entries of this array define N + 1 zones as follows:
-
-         Zone 0:        0 <= LUX < array[0]
-         Zone 1:        array[0] <= LUX < array[1]
-         ...
-         Zone N:        array[N - 1] <= LUX < array[N]
-         Zone N + 1:    array[N] <= LUX < infinity
-
-         Must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessLevels">
-        <item>5</item>
-        <item>15</item>
-        <item>50</item>
-        <item>100</item>
-        <item>200</item>
-        <item>400</item>
-        <item>1000</item>
-        <item>2000</item>
-        <item>3000</item>
-        <item>5000</item>
-        <item>10000</item>
-        <item>30000</item>
-    </integer-array>
-
-    <!-- Array of output values for LCD backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessLcdBacklightValues">
-        <item>5</item>    <!-- 0-5 -->
-        <item>20</item>   <!-- 5-15 -->
-        <item>30</item>   <!-- 15-50 -->
-        <item>40</item>   <!-- 50-100 -->
-        <item>50</item>   <!-- 100-200 -->
-        <item>60</item>   <!-- 200-400 -->
-        <item>70</item>   <!-- 400-1000 -->
-        <item>80</item>   <!-- 1000-2000 -->
-        <item>130</item>  <!-- 2000-3000 -->
-        <item>180</item>  <!-- 3000-5000 -->
-        <item>255</item>  <!-- 5000-10000 -->
-        <item>255</item>  <!-- 10000-30000 -->
-        <item>255</item>  <!-- 30000+ -->
-    </integer-array>
-
-    <!-- Array of output values for button backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessButtonBacklightValues">
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-    </integer-array>
-
-    <!-- Array of output values for keyboard backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessKeyboardBacklightValues">
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-    </integer-array>
-
-    <integer name="config_screenBrightnessDim">5</integer>
-
-    <!--  Maximum number of supported users -->
-    <integer name="config_multiuserMaximumUsers">8</integer>
-    <!--  Whether Multiuser UI should be shown -->
-    <bool name="config_enableMultiUserUI">true</bool>
-
-    <!-- Whether a software navigation bar should be shown. NOTE: in the future this may be
-         autodetected from the Configuration. -->
-    <bool name="config_showNavigationBar">true</bool>
-
-    <!-- This device is not "voice capable"; it's data-only. -->
-    <bool name="config_voice_capable">false</bool>
-
-    <!-- Boolean indicating whether the wifi chipset has dual frequency band support -->
-    <bool translatable="false" name="config_wifi_dual_band_support">true</bool>
-
-    <!-- Boolean indicating whether system support sustained performance mode. -->
-    <bool name="config_sustainedPerformanceModeSupported">true</bool>
-
-    <!-- If the system has the input method for each display - enable per-display focus. -->
-    <bool name="config_perDisplayFocusEnabled">true</bool>
-
-    <!-- Enable 802.11ac for Wifi hotspot (SAP) -->
-    <bool translatable="false" name="config_wifi_softap_ieee80211ac_supported">true</bool>
-
-    <!-- Enable ACS (auto channel selection) for Wifi hotspot (SAP) -->
-    <bool translatable="false" name="config_wifi_softap_acs_supported">true</bool>
-
-    <!-- Boolean indicating whether 802.11r Fast BSS Transition is enabled on this platform -->
-    <bool translatable="false" name="config_wifi_fast_bss_transition_enabled">true</bool>
-
-    <!-- Boolean indicating whether the wifi chipset has background scan support -->
-    <bool translatable="false" name="config_wifi_background_scan_support">true</bool>
-
-    <!-- Indicates that connected MAC randomization is supported on this device -->
-    <bool translatable="false" name="config_wifi_connected_mac_randomization_supported">true</bool>
-
-    <!-- Indicates that p2p MAC randomization is supported on this device -->
-    <bool translatable="false" name="config_wifi_p2p_mac_randomization_supported">true</bool>
-
-</resources>
diff --git a/imx8m/evk_a300/overlay/frameworks/base/core/res/res/xml/power_profile.xml b/imx8m/evk_a300/overlay/frameworks/base/core/res/res/xml/power_profile.xml
deleted file mode 100644
index 2104fe62..00000000
--- a/imx8m/evk_a300/overlay/frameworks/base/core/res/res/xml/power_profile.xml
+++ /dev/null
@@ -1,27 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-**
-** Copyright 2009, The Android Open Source Project
-*  Copyright (C) 2016 Freescale Semiconductor, Inc.
-**
-** Licensed under the Apache License, Version 2.0 (the "License")
-** you may not use this file except in compliance with the License.
-** You may obtain a copy of the License at
-**
-**     http://www.apache.org/licenses/LICENSE-2.0
-**
-** Unless required by applicable law or agreed to in writing, software
-** distributed under the License is distributed on an "AS IS" BASIS,
-** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-** See the License for the specific language governing permissions and
-** limitations under the License.
-*/
--->
-
-<device name="Android">
-  <array name="cpu.active">
-      <value>0.1</value>
-  </array>
-  <!-- This is the battery capacity in mAh -->
-  <item name="battery.capacity">4800</item>
-</device>
diff --git a/imx8m/evk_a300/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml b/imx8m/evk_a300/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml
deleted file mode 100644
index 660abbe5..00000000
--- a/imx8m/evk_a300/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml
+++ /dev/null
@@ -1,24 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-/**
- * Copyright (c) 2009, The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *     http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
--->
-<resources>
-    <!-- Default for Settings.Secure.USER_SETUP_COMPLETE -->
-    <bool name="def_user_setup_complete">true</bool>
-    <bool name="def_bluetooth_on">false</bool>
-    <bool name="def_stay_on_while_plugged_in">true</bool>
-</resources>
diff --git a/imx8m/evk_a300/overlay/packages/apps/Settings/res/values/bools.xml b/imx8m/evk_a300/overlay/packages/apps/Settings/res/values/bools.xml
deleted file mode 100644
index e9f565d3..00000000
--- a/imx8m/evk_a300/overlay/packages/apps/Settings/res/values/bools.xml
+++ /dev/null
@@ -1,19 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2009 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-  
-          http://www.apache.org/licenses/LICENSE-2.0
-  
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<resources>
-    <bool name="config_additional_system_update_setting_enable">true</bool>
-</resources>
diff --git a/imx8m/evk_a300/overlay/packages/apps/Settings/res/values/config.xml b/imx8m/evk_a300/overlay/packages/apps/Settings/res/values/config.xml
deleted file mode 100644
index dbf188dc..00000000
--- a/imx8m/evk_a300/overlay/packages/apps/Settings/res/values/config.xml
+++ /dev/null
@@ -1,22 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2007 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
-    <string name="additional_system_update" translatable="false">com.example.android.systemupdatersample</string>
-    <string name="additional_system_update_menu" translatable="false">com.example.android.systemupdatersample.ui.MainActivity</string>
-    <string name="config_work_policy_info_intent_action" translatable="false">com.google.android.settings.privacy.ACTION_SHOW_WORK_POLICY_INFO</string>
-
-</resources>
diff --git a/imx8m/evk_a300/powerhint_imx8mq.json b/imx8m/evk_a300/powerhint_imx8mq.json
deleted file mode 100644
index 38da580b..00000000
--- a/imx8m/evk_a300/powerhint_imx8mq.json
+++ /dev/null
@@ -1,188 +0,0 @@
-{
-  "Nodes": [
-    {
-      "Name": "CPULittleClusterMaxFreq",
-      "Path": "/sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq",
-      "Values": [
-        "1800000",
-        "1600000",
-        "1200000"
-      ],
-      "DefaultIndex": 0,
-      "ResetOnInit": true
-    },
-    {
-      "Name": "CPULittleClusterMinFreq",
-      "Path": "/sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq",
-      "Values": [
-        "1800000",
-        "1600000",
-        "1200000"
-      ],
-      "ResetOnInit": true
-    },
-    {
-      "Name": "TASchedtuneBoost",
-      "Path": "/dev/stune/top-app/schedtune.boost",
-      "Values": [
-        "60",
-        "10"
-      ],
-      "DefaultIndex": 1,
-      "ResetOnInit": true
-    },
-    {
-      "Name": "PMQoSCpuDmaLatency",
-      "Path": "/dev/cpu_dma_latency",
-      "Values": [
-        "0",
-        "3000"
-      ],
-      "DefaultIndex": 1,
-      "HoldFd": true
-    },
-    {
-      "Name": "PowerHALMainState",
-      "Path": "vendor.powerhal.camera",
-      "Values": [
-        "CAMERA_STREAMING",
-        ""
-      ],
-      "Type": "Property"
-    },
-    {
-      "Name": "PowerHALAudioState",
-      "Path": "vendor.powerhal.audio",
-      "Values": [
-        "AUDIO_LOW_LATENCY",
-        ""
-      ],
-      "Type": "Property"
-    },
-    {
-      "Name": "PowerHALRenderingState",
-      "Path": "vendor.powerhal.rendering",
-      "Values": [
-        "EXPENSIVE_RENDERING",
-        ""
-      ],
-      "Type": "Property"
-    }
-  ],
-  "Actions": [
-    {
-      "PowerHint": "SUSTAINED_PERFORMANCE",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "TASchedtuneBoost",
-      "Duration": 0,
-      "Value": "60"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 5000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 5000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 5000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 1000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 1000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 1000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "CAMERA_STREAMING",
-      "Node": "PowerHALMainState",
-      "Duration": 0,
-      "Value": "CAMERA_STREAMING"
-    },
-    {
-      "PowerHint": "CAMERA_STREAMING",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 1000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 1000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 1000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "LOW_POWER",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "1200000"
-    },
-    {
-      "PowerHint": "LOW_POWER",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1200000"
-    },
-    {
-      "PowerHint": "AUDIO_STREAMING",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 2000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "AUDIO_LOW_LATENCY",
-      "Node": "PowerHALAudioState",
-      "Duration": 0,
-      "Value": "AUDIO_LOW_LATENCY"
-    },
-    {
-      "PowerHint": "AUDIO_LOW_LATENCY",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 0,
-      "Value": "0"
-    }
-  ]
-}
diff --git a/imx8m/evk_a300/required_hardware.xml b/imx8m/evk_a300/required_hardware.xml
deleted file mode 100644
index aef0450a..00000000
--- a/imx8m/evk_a300/required_hardware.xml
+++ /dev/null
@@ -1,33 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2009 The Android Open Source Project
-     Copyright 2018 NXP
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<!-- These are the hardware components that are included in i.MX reference board
--->
-<permissions>
-    <!-- This is Android and fully CTS compatible.  Basically this is for CTS tests to use. -->
-    <feature name="android.software.cts" />
-    <feature name="android.hardware.camera.any" />
-    <feature name="android.software.home_screen" />
-    <feature name="android.software.input_methods" />
-    <feature name="android.software.cant_save_state" />
-    <feature name="android.hardware.location" />
-    <feature name="android.hardware.location.network" />
-    <feature name="android.hardware.bluetooth" />
-    <feature name="android.software.companion_device_setup" />
-    <feature name="android.software.autofill" />
-    <feature name="android.software.secure_lock_screen" />
-</permissions>
diff --git a/imx8m/evk_a300/seccomp/mediacodec-seccomp.policy b/imx8m/evk_a300/seccomp/mediacodec-seccomp.policy
deleted file mode 100644
index 9bac41bf..00000000
--- a/imx8m/evk_a300/seccomp/mediacodec-seccomp.policy
+++ /dev/null
@@ -1 +0,0 @@
-select: 1
diff --git a/imx8m/evk_a300/seccomp/mediaextractor-seccomp.policy b/imx8m/evk_a300/seccomp/mediaextractor-seccomp.policy
deleted file mode 100644
index abbef2c2..00000000
--- a/imx8m/evk_a300/seccomp/mediaextractor-seccomp.policy
+++ /dev/null
@@ -1,5 +0,0 @@
-uname: 1
-fchmodat: 1
-ftruncate64: 1
-readlinkat: 1
-pread64: 1
diff --git a/imx8m/evk_a300/sepolicy/file_contexts b/imx8m/evk_a300/sepolicy/file_contexts
deleted file mode 100644
index 6ef3cdff..00000000
--- a/imx8m/evk_a300/sepolicy/file_contexts
+++ /dev/null
@@ -1,50 +0,0 @@
-#sd boot
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/dtbo_[ab]        u:object_r:dtbo_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/boot_[ab]        u:object_r:boot_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/system_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/vendor_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/product_[ab]     u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/misc        u:object_r:misc_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/metadata    u:object_r:metadata_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/presistdata u:object_r:frp_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/userdata    u:object_r:userdata_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/vbmeta_[ab]    u:object_r:vbmeta_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/super            u:object_r:super_block_device:s0
-
-#emmc boot
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/dtbo_[ab]        u:object_r:dtbo_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/boot_[ab]        u:object_r:boot_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/system_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/vendor_[ab]      u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/product_[ab]     u:object_r:system_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/misc             u:object_r:misc_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/metadata         u:object_r:metadata_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/presistdata      u:object_r:frp_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/userdata         u:object_r:userdata_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/vbmeta_[ab]      u:object_r:vbmeta_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/super            u:object_r:super_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/bootloader_[ab]  u:object_r:bootloader_block_device:s0
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/mem_info_[ab]    u:object_r:bootloader_block_device:s0
-
-# spl
-/dev/block/mmcblk0boot[01]            u:object_r:spl_block_device:s0
-/dev/block/mmcblk0boot[01]p[1-9]      u:object_r:spl_block_device:s0
-
-#peripheral
-/vendor/bin/magd                u:object_r:sensors_exec:s0
-/vendor/bin/fsl_sensor_fusion   u:object_r:sensors_exec:s0
-/dev/mma8x5x                    u:object_r:sensors_device:s0
-/dev/ttymxc[0-9]*               u:object_r:tty_device:s0
-/dev/FreescaleAccelerometer     u:object_r:sensors_device:s0
-/dev/FreescaleMagnetometer      u:object_r:sensors_device:s0
-/dev/FreescaleGyroscope         u:object_r:sensors_device:s0
-/dev/sda[0-8]*                  u:object_r:fuse:s0
-
-#Neural Network HAL service
-/vendor/bin/hw/android\.hardware\.neuralnetworks@1\.2-service-vsi-npu-server      u:object_r:hal_neuralnetworks_imx_exec:s0
-
-#Thermal HAL service
-/vendor/bin/hw/android\.hardware\.thermal@2\.0-service.imx         u:object_r:hal_thermal_default_exec:s0
-
-/vendor/bin/hw/android\.hardware\.media\.c2@1\.0-service    u:object_r:mediacodec_exec:s0
-
diff --git a/imx8m/evk_a300/sepolicy/genfs_contexts b/imx8m/evk_a300/sepolicy/genfs_contexts
deleted file mode 100644
index fbff8135..00000000
--- a/imx8m/evk_a300/sepolicy/genfs_contexts
+++ /dev/null
@@ -1,14 +0,0 @@
-genfscon sysfs /devices/platform/soc@0/soc@0:bus@30000000/30370000.snvs/30370000.snvs:snvs-rtc-lp/rtc/rtc0/hctosys     u:object_r:sysfs_rtc:s0
-
-genfscon sysfs /devices/platform/soc@0/soc@0:bus@30800000/30a20000.i2c/i2c-0/0-0050/power_supply u:object_r:sysfs_batteryinfo:s0
-genfscon sysfs /devices/platform/soc@0/soc@0:bus@30800000/30a20000.i2c/i2c-0/0-0050/extcon   u:object_r:sysfs_extcon:s0
-genfscon sysfs /devices/platform/soc@0/soc@0:bus@30800000/30b40000.mmc/mmc_host/mmc0/mmc0:0001/block/mmcblk0 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/mmc_host/mmc1/mmc1:aaaa/block/mmcblk1 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/soc@0:bus@30800000/30bb0000.spi/spi_master/spi3/spi3.0/mtd/mtd0/mtdblock u:object_r:sysfs_block_devices:s0
-
-genfscon sysfs /devices/platform/soc@0/soc@0:bus@30800000/30a00000.mipi_dsi/30a00000.mipi_dsi.0/backlight u:object_r:sysfs_leds:s0
-genfscon sysfs /devices/platform/backlight/backlight/backlight u:object_r:sysfs_leds:s0
-
-#/sys/class/net
-genfscon sysfs /devices/platform/soc@0/soc@0:bus@30800000/30be0000.ethernet/net               u:object_r:sysfs_net:s0
-genfscon sysfs /devices/platform/soc@0/33800000.pcie/pci0000:00/0000:00:00.0/0000:01:00.0/net u:object_r:sysfs_net:s0
diff --git a/imx8m/evk_a300/sepolicy_drm/file_contexts b/imx8m/evk_a300/sepolicy_drm/file_contexts
deleted file mode 100644
index 52f0eedf..00000000
--- a/imx8m/evk_a300/sepolicy_drm/file_contexts
+++ /dev/null
@@ -1,7 +0,0 @@
-/vendor/bin/tee-supplicant     u:object_r:tee_exec:s0
-/vendor/bin/xtest              u:object_r:tee_exec:s0
-
-/dev/teepriv[0-9]*             u:object_r:tee_device:s0
-/dev/tee[0-9]*                 u:object_r:tee_device:s0
-/data/vendor/tee(/.*)?         u:object_r:tee_data_file:s0
-
diff --git a/imx8m/evk_a300/sepolicy_drm/hal_drm_default.te b/imx8m/evk_a300/sepolicy_drm/hal_drm_default.te
deleted file mode 100644
index db30cdcf..00000000
--- a/imx8m/evk_a300/sepolicy_drm/hal_drm_default.te
+++ /dev/null
@@ -1,2 +0,0 @@
-allow hal_drm_default vendor_data_file:dir { create add_name search write };
-allow hal_drm_default vendor_data_file:file { create lock open read write getattr };
diff --git a/imx8m/evk_a300/sepolicy_drm/mediadrmserver.te b/imx8m/evk_a300/sepolicy_drm/mediadrmserver.te
deleted file mode 100644
index c6dc56f7..00000000
--- a/imx8m/evk_a300/sepolicy_drm/mediadrmserver.te
+++ /dev/null
@@ -1,3 +0,0 @@
-allow mediadrmserver ion_device:chr_file { open read ioctl };
-allow mediadrmserver vendor_file:file { read getattr };
-allow mediadrmserver vendor_file:dir { read };
diff --git a/imx8m/evk_a300/sepolicy_drm/netd.te b/imx8m/evk_a300/sepolicy_drm/netd.te
deleted file mode 100644
index 4bc801ea..00000000
--- a/imx8m/evk_a300/sepolicy_drm/netd.te
+++ /dev/null
@@ -1,4 +0,0 @@
-# Rules on netd domain for optee xtest 200x tests
-allow netd tee:tcp_socket { read write getopt setopt };
-allow netd tee:udp_socket { read write getopt setopt };
-allow netd tee:fd { use };
diff --git a/imx8m/evk_a300/sepolicy_drm/shell.te b/imx8m/evk_a300/sepolicy_drm/shell.te
deleted file mode 100644
index 7b28d012..00000000
--- a/imx8m/evk_a300/sepolicy_drm/shell.te
+++ /dev/null
@@ -1,4 +0,0 @@
-allow shell tee_exec:file { getattr execute read open execute_no_trans };
-allow shell tee_data_file:file { create write open getattr unlink read };
-allow shell tee_data_file:dir { write add_name remove_name rename search };
-allow shell tee_data_file:chr_file { read write open ioctl };
diff --git a/imx8m/evk_a300/sepolicy_drm/tee.te b/imx8m/evk_a300/sepolicy_drm/tee.te
deleted file mode 100644
index 14b48925..00000000
--- a/imx8m/evk_a300/sepolicy_drm/tee.te
+++ /dev/null
@@ -1,18 +0,0 @@
-# allow run xtest as shell
-domain_auto_trans(shell, tee_exec, tee);
-allow tee console_device:chr_file {  getattr read write ioctl };
-allow tee shell:fd { use };
-
-allow tee tee_data_file:dir { create rmdir rename };
-allow tee vendor_data_file:dir { write remove_name };
-
-# For xtest 200x tests
-allow tee tee:tcp_socket { create connect read write getopt setopt };
-allow tee tee:udp_socket { create connect read write getopt getattr };
-allow tee tee:capability { net_raw };
-allow tee fwmarkd_socket:sock_file { write };
-allow tee port:tcp_socket { name_connect };
-
-# For tee-supplicant
-allow tee system_data_file:dir getattr;
-allow tee vendor_data_file:dir { write create add_name };
diff --git a/imx8m/evk_a300/thermal_info_config_imx8mq.json b/imx8m/evk_a300/thermal_info_config_imx8mq.json
deleted file mode 100755
index 21b20736..00000000
--- a/imx8m/evk_a300/thermal_info_config_imx8mq.json
+++ /dev/null
@@ -1,55 +0,0 @@
-{
-    "Sensors":[
-        {
-            "Name":"cpu-thermal",
-            "Type":"CPU",
-            "HotThreshold":[
-                "NAN",
-                "NAN",
-                "NAN",
-                85.0,
-                95.0,
-                "NAN",
-                "NAN"
-            ],
-            "HotHysteresis":[
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        },
-        {
-            "Name":"battery",
-            "Type":"BATTERY",
-            "HotThreshold":[
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN"
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        }
-    ],
-    "CoolingDevices":[
-        {
-            "Name":"thermal-devfreq-0",
-            "Type":"GPU"
-        },
-        {
-            "Name":"thermal-cpufreq-0",
-            "Type":"CPU"
-        }
-    ]
-}
diff --git a/imx8m/evk_a300/ueventd.freescale.rc b/imx8m/evk_a300/ueventd.freescale.rc
deleted file mode 100644
index 07b5b317..00000000
--- a/imx8m/evk_a300/ueventd.freescale.rc
+++ /dev/null
@@ -1,26 +0,0 @@
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b50000\.mmc/by-name/presistdata 0600   system     system
-/dev/block/platform/soc@0/soc@0\:bus@30800000/30b40000\.mmc/by-name/presistdata 0600   system     system
-/dev/ttymxc1              0660   bluetooth  bluetooth
-/dev/snd/*                0660   system     audio
-/dev/video*               0660   system     camera
-/dev/mxc_hantro           0660   media      drmrpc
-/dev/imxdpu               0660   media      drmrpc
-/dev/uinput               0660   system     bluetooth
-/dev/ion                  0666   media      drmrpc
-/dev/galcore              0666 	 system     graphics
-/dev/graphics/fb0         0660   system     graphics
-/dev/watchdog             0660   system     root
-/dev/mmcblk0rpmb          0600   system     system
-/dev/trusty-ipc-dev0      0660   system     drmrpc
-
-/sys/devices/virtual/thermal/thermal_zone* trip_point_0_temp 0660 system system
-/sys/devices/virtual/thermal/thermal_zone* trip_point_1_temp 0660 system system
-
-/sys/devices/virtual/thermal/thermal_zone* trip_point_0_hyst 0660 system system
-/sys/devices/virtual/thermal/thermal_zone* trip_point_1_hyst 0660 system system
-
-#quectel port
-/dev/ttyUSB*              0660   radio        radio
-/dev/cdc-wdm*             0660   radio        radio
-/dev/qcqmi*               0660   radio        radio
-/dev/cdc-acm*             0660   radio        radio
diff --git a/imx8m/kingscanyon_8mq/BoardConfig.mk b/imx8m/kingscanyon_8mq/BoardConfig.mk
index e21779de..cc5ffeb0 100644
--- a/imx8m/kingscanyon_8mq/BoardConfig.mk
+++ b/imx8m/kingscanyon_8mq/BoardConfig.mk
@@ -21,14 +21,22 @@ HAVE_FSL_IMX_GPU3D := true
 HAVE_FSL_IMX_PXP := false
 TARGET_USES_HWC2 := true
 TARGET_HAVE_VULKAN := true
+ENABLE_SEC_DMABUF_HEAP := true
+CFG_SECURE_IOCTRL_REGS := true
 
 SOONG_CONFIG_IMXPLUGIN += \
-                          BOARD_VPU_TYPE
+                          BOARD_VPU_TYPE \
+			  ENABLE_SEC_DMABUF_HEAP \
+			  CFG_SECURE_IOCTRL_REGS
 
 SOONG_CONFIG_IMXPLUGIN_BOARD_SOC_TYPE = IMX8MQ
 SOONG_CONFIG_IMXPLUGIN_BOARD_HAVE_VPU = true
 SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_TYPE = hantro
 SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_ONLY = false
+SOONG_CONFIG_IMXPLUGIN_PREBUILT_FSL_IMX_CODEC = true
+SOONG_CONFIG_IMXPLUGIN_POWERSAVE = false
+SOONG_CONFIG_IMXPLUGIN_ENABLE_SEC_DMABUF_HEAP = true
+SOONG_CONFIG_IMXPLUGIN_CFG_SECURE_IOCTRL_REGS = true
 
 # -------@block_memory-------
 USE_ION_ALLOCATOR := true
@@ -123,36 +131,49 @@ CMASIZE=1280M
 endif
 
 # NXP default config
-BOARD_KERNEL_CMDLINE := init=/init androidboot.console=ttymxc0 androidboot.hardware=nxp firmware_class.path=/vendor/firmware loop.max_part=7
+BOARD_KERNEL_CMDLINE := init=/init firmware_class.path=/vendor/firmware loop.max_part=7 bootconfig
+BOARD_BOOTCONFIG += androidboot.console=ttymxc0 androidboot.hardware=nxp
 
 # framebuffer config
-BOARD_KERNEL_CMDLINE += androidboot.fbTileSupport=enable
+BOARD_BOOTCONFIG += androidboot.fbTileSupport=enable
 
 # memory config
 BOARD_KERNEL_CMDLINE += transparent_hugepage=never cma=$(CMASIZE)
 
 # display config
-BOARD_KERNEL_CMDLINE += androidboot.lcd_density=240 androidboot.primary_display=imx-dcss androidboot.gui_resolution=1080p androidboot.displaymode=4kp60
+BOARD_BOOTCONFIG += androidboot.lcd_density=240 androidboot.primary_display=imx-dcss androidboot.gui_resolution=1080p androidboot.displaymode=4kp60
 
 # wifi config
-BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN moal.mod_para=wifi_mod_para.conf
+BOARD_BOOTCONFIG += androidboot.wificountrycode=CN
+BOARD_KERNEL_CMDLINE += moal.mod_para=wifi_mod_para.conf pci=nomsi
 
 ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-BOARD_KERNEL_CMDLINE += androidboot.vendor.sysrq=1
+BOARD_BOOTCONFIG += androidboot.vendor.sysrq=1
 endif
 
 ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
   ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
     TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-no-product.dtb
   else
-    # imx8mq with HDMI display
-    TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2.dtb
-    # imx8mq with MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb
-    # imx8mq with HDMI and MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display.dtb
-    # imx8mq with MIPI panel display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191.dtb
+    ifeq ($(IMX8MQ_USES_GKI),true)
+      # imx8mq gki with HDMI display
+      TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2-gki.dtb
+      # imx8mq with MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535-gki.dtb
+      # imx8mq with HDMI and MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display-gki.dtb
+      # imx8mq with MIPI panel display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191-gki.dtb
+    else
+      # imx8mq with HDMI display
+      TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2.dtb
+      # imx8mq with MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb
+      # imx8mq with HDMI and MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display.dtb
+      # imx8mq with MIPI panel display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191.dtb
+    endif
   endif
 else # no dynamic parition feature
   ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
@@ -174,4 +195,8 @@ BOARD_SEPOLICY_DIRS += \
        $(IMX_DEVICE_PATH)/sepolicy_drm
 endif
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+    BOARD_KERNEL_CMDLINE += cpuidle.off=1
+endif
+
 BOARD_PLAT_PRIVATE_SEPOLICY_DIR := $(CONFIG_REPO_PATH)/imx8m/sepolicy_system/private
diff --git a/imx8m/kingscanyon_8mq/SharedBoardConfig.mk b/imx8m/kingscanyon_8mq/SharedBoardConfig.mk
index e79687af..743fdda5 100644
--- a/imx8m/kingscanyon_8mq/SharedBoardConfig.mk
+++ b/imx8m/kingscanyon_8mq/SharedBoardConfig.mk
@@ -1,17 +1,190 @@
 # -------@block_kernel_bootimg-------
 
-KERNEL_NAME := Image
+KERNEL_NAME := Image.lz4
 TARGET_KERNEL_ARCH := arm64
+IMX8MQ_USES_GKI := true
 
 # QCA qcacld wifi driver module
 BOARD_VENDOR_KERNEL_MODULES += \
     $(KERNEL_OUT)/drivers/net/wireless/qcacld-2.0/wlan.ko
 
-# mipi-panel touch driver module
+# CONFIG_SND_SOC_WM8524: snd-soc-wm8524.ko, wm8524 audio codec
+# CONFIG_IMX_LCDIF_CORE: imx-lcdif-core.ko
+# CONFIG_PHY_FSL_IMX8MQ_USB: phy-fsl-imx8mq-usb.ko
+# CONFIG_USB_DWC3_IMX8MP: dwc3-imx8mp.ko
+# CONFIG_TYPEC_SWITCH_GPIO: gpio-switch.ko
+# CONFIG_VIDEO_MXC_CAPTURE: only enable compile dir drivers/media/platform/mxc/capture/, no need mxc_v4l2_capture.c which used in imx6/7
+# linux bsp team will add new configure for mxc_v4l2_capture.c in lf-5.4 branch.
+# CONFIG_MXC_MIPI_CSI: mxc_mipi_csi.ko, mipi driver which get the sensor data and send data to csi
+# CONFIG_MXC_CAMERA_OV5640_MIPI_V2: ov5640_camera_mipi_v2.ko, sensor ov5640 driver, the input of mipi
+# CONFIG_IMX_SDMA: imx-sdma.ko, sdma used for audio
+# CONFIG_SND_SOC_IMX_PCM_DMA: imx-pcm-dma.ko imx-pcm-dma-v2.ko
+# CONFIG_SND_SOC_FSL_SAI: snd-soc-fsl-sai.ko, imx core audio
+# CONFIG_SND_SOC_IMX_SPDIF: snd-soc-imx-spdif.ko snd-soc-fsl-spdif.ko, sound spdif code
+# CONFIG_SND_SOC_IMX_AK4458: snd-soc-imx-ak4458.o
+# CONFIG_SND_SOC_IMX_AK5558: snd-soc-imx-ak5558.o snd-soc-fsl-utils.ko snd-soc-ak5558.ko
+# CONFIG_SND_SOC_BT_SCO: snd-soc-bt-sco.ko, audio hdmi code
+# CONFIG_SND_SOC_IMX_CDNHDMI: snd-soc-hdmi-codec.ko snd-soc-imx-cdnhdmi.ko snd-soc-fsl-aud2htx.ko, used for hdmi audio
+# CONFIG_SND_SIMPLE_CARD: snd-soc-simple-card.ko snd-soc-simple-card-utils.ko, connect cpu and codec
+# CONFIG_MXC_HANTRO: hantrodec.ko vpu decoder
+# CONFIG_MXC_HANTRO_V4L2: vsiv4l2.ko vpu decodder
+# CONFIG_RTC_DRV_SNVS: rtc-snvs.ko, snvs driver
+# CONFIG_AT803X_PHY: ethernet phy driver at803x.ko
+# CONFIG_FEC: fec.ko which depend on pps_core.ko and ptp.ko
+
+ifeq ($(IMX8MQ_USES_GKI),true)
+BOARD_VENDOR_KERNEL_MODULES += \
+    $(KERNEL_OUT)/drivers/mxc/gpu-viv/galcore.ko \
+    $(KERNEL_OUT)/drivers/media/platform/imx8/mxc-mipi-csi2_yav.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/mx6s_capture.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/mxc_mipi_csi.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/ov5640_camera_mipi_v2.ko \
+    $(KERNEL_OUT)/drivers/dma/imx-sdma.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma-v2.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-aud2htx.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-utils.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-sai.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-hdmi-codec.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-cdnhdmi.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-spdif.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-spdif.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-wm8524.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-ak5558.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-ak4458.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-ak4458.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-ak5558.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-bt-sco.ko \
+    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card.ko \
+    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card-utils.ko \
+    $(KERNEL_OUT)/drivers/mxc/hantro/hantrodec.ko \
+    $(KERNEL_OUT)/drivers/mxc/hantro_v4l2/vsiv4l2.ko \
+    $(KERNEL_OUT)/drivers/rtc/rtc-snvs.ko \
+    $(KERNEL_OUT)/drivers/pci/controller/dwc/pci-imx6.ko \
+    $(KERNEL_OUT)/drivers/pps/pps_core.ko \
+    $(KERNEL_OUT)/drivers/ptp/ptp.ko \
+    $(KERNEL_OUT)/drivers/net/phy/at803x.ko \
+    $(KERNEL_OUT)/drivers/net/ethernet/freescale/fec.ko
+else
 BOARD_VENDOR_KERNEL_MODULES += \
     $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko
+endif
+
+# CONFIG_ZRAM: zram.ko, lzo.ko, lzo-rle.ko compressed ram using LZ coding.
+# CONFIG_ZSMALLOC: zsmalloc.ko
+# CONFIG_CLK_IMX8MP: clk-imx8mq.ko
+# CONFIG_TIMER_IMX_SYS_CTR: timer-imx-sysctr.ko
+# CONFIG_IMX8M_BUSFREQ: busfreq-imx8mq.ko
+# CONFIG_IMX_IRQSTEER: irq-imx-irqsteer.ko
+# CONFIG_PINCTRL_IMX: pinctrl-imx.ko
+# CONFIG_PINCTRL_IMX8MQ: pinctrl-imx8mq.ko
+# CONFIG_SERIAL_IMX: imx.ko
+# CONFIG_IMX2_WDT: imx2_wdt.ko
+# CONFIG_GPIO_MXC: gpio-generic.ko gpio-mxc.ko
+# CONFIG_CPUFREQ_DT: cpufreq-dt.ko
+# CONFIG_ARM_IMX_CPUFREQ_DT: imx-cpufreq-dt.ko
+# CONFIG_NVMEM_IMX_OCOTP: nvmem-imx-ocotp.ko
+# CONFIG_PWM_IMX27: pwm-imx27.ko
+# CONFIG_MMC_SDHCI_ESDHC_IMX: sdhci-esdhc-imx.ko, cqhci.ko
+# CONFIG_I2C_IMX: i2c-imx.ko
+# CONFIG_IMX_MBOX: imx-mailbox.ko, imx mailbox driver
+# CONFIG_SND_IMX_SOC: SoC Audio for Freescale i.MX CPUs
+# CONFIG_DMABUF_HEAPS_SYSTEM: system_heap.ko
+# CONFIG_DMABUF_HEAPS_CMA: cma_heap.ko
+# CONFIG_DMABUF_IMX: dma-buf-imx.ko
+# CONFIG_RESET_IMX7: reset-imx7.ko
+# CONFIG_PHY_FSL_IMX8MQ_USB: phy-fsl-imx8mq-usb.ko
+# CONFIG_KEYBOARD_SNVS_PWRKEY: snvs_pwrkey.ko, snvs power key driver
+# mipi-panel touch driver module
+# CONFIG_IMX_LCDIF_CORE: imx-lcdif-core.ko
+# CONFIG_DRM_I2C_ADV7511: adv7511.ko
+# CONFIG_DRM_IMX_CDNS_MHDP: cdns_mhdp_drmcore.ko cdns_mhdp_imx.ko
+# CONFIG_DRM_IMX: imxdrm.ko, imx-lcdif-crtc.ko
+# CONFIG_USB_DWC3: dwc3-imx8mp.ko
+# CONFIG_TYPEC_SWITCH_GPIO: gpio-switch.ko
+# CONFIG_VIDEO_IMX_CAPTURE: imx8-media-dev.ko, imx8-isi-cap.ko, imx8-isi-hw.ko, imx8-isi-m2m.ko, imx8-mipi-csi2-sam.ko, imx isi and mipi driver
+# CONFIG_CFG80211: cfg80211.ko, cfg80211 - wireless configuration API
+# CONFIG_MAC80211: mac80211.ko, Generic IEEE 802.11 Networking Stack
+
+ifeq ($(IMX8MQ_USES_GKI),true)
+BOARD_VENDOR_RAMDISK_KERNEL_MODULES += \
+    $(KERNEL_OUT)/mm/zsmalloc.ko \
+    $(KERNEL_OUT)/crypto/lzo.ko \
+    $(KERNEL_OUT)/crypto/lzo-rle.ko \
+    $(KERNEL_OUT)/drivers/block/zram/zram.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/soc-imx8m.ko \
+    $(KERNEL_OUT)/drivers/clk/imx/mxc-clk.ko \
+    $(KERNEL_OUT)/drivers/clk/imx/clk-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/gpcv2.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/gpcv2-imx.ko \
+    $(KERNEL_OUT)/drivers/clocksource/timer-imx-sysctr.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/busfreq-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/irqchip/irq-imx-irqsteer.ko \
+    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx.ko \
+    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/tty/serial/imx.ko \
+    $(KERNEL_OUT)/drivers/watchdog/imx2_wdt.ko \
+    $(KERNEL_OUT)/drivers/regulator/pca9450-regulator.ko \
+    $(KERNEL_OUT)/drivers/regulator/gpio-regulator.ko \
+    $(KERNEL_OUT)/drivers/regulator/pfuze100-regulator.ko \
+    $(KERNEL_OUT)/drivers/gpio/gpio-mxc.ko \
+    $(KERNEL_OUT)/drivers/thermal/device_cooling.ko \
+    $(KERNEL_OUT)/drivers/thermal/qoriq_thermal.ko \
+    $(KERNEL_OUT)/drivers/perf/fsl_imx8_ddr_perf.ko \
+    $(KERNEL_OUT)/drivers/cpufreq/cpufreq-dt.ko \
+    $(KERNEL_OUT)/drivers/cpufreq/imx-cpufreq-dt.ko \
+    $(KERNEL_OUT)/drivers/nvmem/nvmem-imx-ocotp.ko \
+    $(KERNEL_OUT)/drivers/pwm/pwm-imx27.ko \
+    $(KERNEL_OUT)/drivers/mmc/host/sdhci-esdhc-imx.ko \
+    $(KERNEL_OUT)/drivers/mmc/host/cqhci.ko \
+    $(KERNEL_OUT)/drivers/i2c/busses/i2c-imx.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-fsl-qspi.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-bitbang.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-imx.ko \
+    $(KERNEL_OUT)/lib/stmp_device.ko \
+    $(KERNEL_OUT)/drivers/dma/mxs-dma.ko \
+    $(KERNEL_OUT)/drivers/mailbox/imx-mailbox.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/system_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/cma_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/secure_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/dma-buf-imx.ko \
+    $(KERNEL_OUT)/drivers/reset/gpio-reset.ko \
+    $(KERNEL_OUT)/drivers/reset/reset-imx7.ko \
+    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8-mipi-dphy.ko \
+    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8mq-usb.ko \
+    $(KERNEL_OUT)/drivers/input/keyboard/snvs_pwrkey.ko \
+    $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/panel/panel-raydium-rm67191.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/dcss/imx-dcss.ko \
+    $(KERNEL_OUT)/drivers/gpu/imx/lcdif/imx-lcdif-core.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/adv7511/adv7511.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/cadence/cdns_mhdp_drmcore.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/mhdp/cdns_mhdp_imx.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/imxdrm.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/lcdif/imx-lcdif-crtc.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/mxsfb/mxsfb.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/nwl-dsi.ko \
+    $(KERNEL_OUT)/drivers/mux/mux-mmio.ko \
+    $(KERNEL_OUT)/drivers/mux/mux-core.ko \
+    $(KERNEL_OUT)/drivers/usb/dwc3/dwc3-imx8mp.ko \
+    $(KERNEL_OUT)/drivers/usb/typec/mux/gpio-switch.ko \
+    $(KERNEL_OUT)/drivers/power/supply/dummy_battery.ko \
+    $(KERNEL_OUT)/drivers/media/rc/gpio-ir-recv.ko \
+    $(KERNEL_OUT)/drivers/media/v4l2-core/v4l2-fwnode.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-cap.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-hw.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-m2m.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-mipi-csi2-sam.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-ipc.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-core.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-irq.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-log.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-virtio.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-media-dev.ko \
+    $(KERNEL_OUT)/net/wireless/cfg80211.ko \
+    $(KERNEL_OUT)/net/mac80211/mac80211.ko
+endif
 
 # -------@block_security-------
 #Enable this to include trusty support
 PRODUCT_IMX_TRUSTY := true
-
diff --git a/imx8m/kingscanyon_8mq/UbootKernelBoardConfig.mk b/imx8m/kingscanyon_8mq/UbootKernelBoardConfig.mk
index 24e778c5..c1252c80 100644
--- a/imx8m/kingscanyon_8mq/UbootKernelBoardConfig.mk
+++ b/imx8m/kingscanyon_8mq/UbootKernelBoardConfig.mk
@@ -14,7 +14,12 @@ endif
 # u-boot target used by uuu for imx8mq_evk
 TARGET_BOOTLOADER_CONFIG += imx8mq-lpddr4-evk-uuu-mic3g:kingscanyon_8mq_ibr210_android_uuu_defconfig:signed
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+TARGET_KERNEL_DEFCONFIG := gki_defconfig
+TARGET_KERNEL_GKI_DEFCONF:= imx8mq_gki.fragment
+else
 TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
+endif
 TARGET_KERNEL_ADDITION_DEFCONF ?= android_addition_defconfig
 TARGET_KERNEL_SECURE_DEFCONF ?= android_secure_defconfig
 
diff --git a/imx8m/kingscanyon_8mq/audio_policy_configuration.xml b/imx8m/kingscanyon_8mq/audio_policy_configuration.xml
index 81de06c9..f40dec59 100644
--- a/imx8m/kingscanyon_8mq/audio_policy_configuration.xml
+++ b/imx8m/kingscanyon_8mq/audio_policy_configuration.xml
@@ -14,7 +14,7 @@
      limitations under the License.
 -->
 
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
+<audioPolicyConfiguration version="7.0" xmlns:xi="http://www.w3.org/2001/XInclude">
     <globalConfiguration speaker_drc_enabled="true"/>
 
     <modules>
@@ -30,17 +30,15 @@
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="hdmi output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
                 </mixPort>
                 <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000,96000,192000,384000,768000"
-                             channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_QUAD,AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
+                             samplingRates="48000 96000 192000 384000 768000"
+                             channelMasks="AUDIO_CHANNEL_OUT_STEREO AUDIO_CHANNEL_OUT_QUAD AUDIO_CHANNEL_OUT_5POINT1 AUDIO_CHANNEL_OUT_7POINT1"/>
                 </mixPort>
-                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
+                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
                     <profile name="" format="AUDIO_FORMAT_DSD"
-                             samplingRates="2822400,5644800,11289600,22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
+                             samplingRates="2822400 5644800 11289600 22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="bt sco output" role="source">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
@@ -49,8 +47,8 @@
 
                 <mixPort name="primary input" role="sink">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
+                             samplingRates="8000 11025 16000 22050 24000 32000 44100 48000"
+                             channelMasks="AUDIO_CHANNEL_IN_MONO AUDIO_CHANNEL_IN_STEREO"/>
                 </mixPort>
             </mixPorts>
             <devicePorts>
@@ -94,7 +92,7 @@
         </module>
 
         <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
+        <xi:include href="a2dp_audio_policy_configuration_7_0.xml"/>
 
         <!-- Usb Audio HAL -->
         <xi:include href="usb_audio_policy_configuration.xml"/>
diff --git a/imx8m/kingscanyon_8mq/audio_policy_configuration_drm.xml b/imx8m/kingscanyon_8mq/audio_policy_configuration_drm.xml
index cf60b8e3..dafc6bad 100644
--- a/imx8m/kingscanyon_8mq/audio_policy_configuration_drm.xml
+++ b/imx8m/kingscanyon_8mq/audio_policy_configuration_drm.xml
@@ -14,7 +14,7 @@
      limitations under the License.
 -->
 
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
+<audioPolicyConfiguration version="7.0" xmlns:xi="http://www.w3.org/2001/XInclude">
     <globalConfiguration speaker_drc_enabled="true"/>
 
     <modules>
@@ -30,17 +30,15 @@
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="hdmi output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
                 </mixPort>
                 <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
+                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_5POINT1 AUDIO_CHANNEL_OUT_7POINT1"/>
                 </mixPort>
                 <mixPort name="primary input" role="sink">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
+                             samplingRates="8000 11025 16000 22050 24000 32000 44100 48000"
+                             channelMasks="AUDIO_CHANNEL_IN_MONO AUDIO_CHANNEL_IN_STEREO"/>
                 </mixPort>
             </mixPorts>
             <devicePorts>
@@ -76,7 +74,7 @@
         </module>
 
         <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
+        <xi:include href="a2dp_audio_policy_configuration_7_0.xml"/>
 
         <!-- Usb Audio HAL -->
         <xi:include href="usb_audio_policy_configuration.xml"/>
diff --git a/imx8m/kingscanyon_8mq/camera_config_imx8mq.json b/imx8m/kingscanyon_8mq/camera_config_imx8mq.json
index 892e7a8f..ca01af49 100644
--- a/imx8m/kingscanyon_8mq/camera_config_imx8mq.json
+++ b/imx8m/kingscanyon_8mq/camera_config_imx8mq.json
@@ -6,6 +6,7 @@
   "hal_version": "3",
   "cam_blit_copy": "GPU_3D",
   "cam_blit_csc": "GPU_3D",
+  "use_cpu_encoder": "1",
 
   "camera_metadata": [
     {
@@ -22,8 +23,9 @@
       "PhysicalHeight": "2.7216",
       "FocalLength": "3.37",
       "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
+      "MinFrameDuration": "33333333",
       "MaxFrameDuration": "300000000",
+      "MinFrameDurationBlob5M": "600000000",
       "OmitFrame": [
           {
               "width": "2592",
diff --git a/imx8m/kingscanyon_8mq/init.imx8mq.rc b/imx8m/kingscanyon_8mq/init.imx8mq.rc
index 44613aae..86286707 100755
--- a/imx8m/kingscanyon_8mq/init.imx8mq.rc
+++ b/imx8m/kingscanyon_8mq/init.imx8mq.rc
@@ -32,7 +32,7 @@ on property:sys.boot_completed=1
     # Set up and down limit to 200us/200us
     write /sys/devices/system/cpu/cpufreq/schedutil/up_rate_limit_us 200
     write /sys/devices/system/cpu/cpufreq/schedutil/down_rate_limit_us 200
-    write /proc/sys/kernel/sched_util_clamp_min 512
+    write /proc/sys/kernel/sched_util_clamp_min_rt_default 512
 
 on property:sys.boot_completed=1
     # update cpuset now that processors are up
diff --git a/imx8m/kingscanyon_8mq/init.rc b/imx8m/kingscanyon_8mq/init.rc
index 6d873b7f..8fc775ce 100644
--- a/imx8m/kingscanyon_8mq/init.rc
+++ b/imx8m/kingscanyon_8mq/init.rc
@@ -46,29 +46,34 @@ on init && property:vendor.skip.charger_not_need=0
     # deattch the fbcon as hdmi hotplug conflict with fbcon
     write /sys/class/vtconsole/vtcon1/bind 0
 
-    chown system system /dev/stune/top-app/schedtune.boost
-    chmod 664 /dev/stune/top-app/schedtune.boost
-    chown system system /dev/stune/top-app/schedtune.prefer_idle
-    chmod 664 /dev/stune/top-app/schedtune.prefer_idle
-    chown system system /dev/stune/foreground/schedtune.boost
-    chmod 664 /dev/stune/foreground/schedtune.boost
-    chown system system /dev/stune/foreground/schedtune.prefer_idle
-    chmod 664 /dev/stune/foreground/schedtune.prefer_idle
-    chown system system /dev/stune/schedtune.boost
-    chmod 664 /dev/stune/schedtune.boost
-
-    # set default schedTune value for foreground/top-app (only affects EAS)
-    write /dev/stune/foreground/schedtune.boost 10
-    write /dev/stune/foreground/schedtune.prefer_idle 1
-    write /dev/stune/top-app/schedtune.boost 40
-    write /dev/stune/top-app/schedtune.prefer_idle 1
-    write /dev/stune/rt/schedtune.boost 50
-    write /dev/stune/rt/schedtune.prefer_idle 1
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.min
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.min
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/rt/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.min
+    chown system system /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/background/cpu.uclamp.max
+    chmod 664 /dev/cpuctl/background/cpu.uclamp.max
+
+    # set default uclamp value for foreground/top-app/rt/background (only affects EAS)
+    write /dev/cpuctl/foreground/cpu.uclamp.min 20
+    write /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/top-app/cpu.uclamp.min 50
+    write /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/rt/cpu.uclamp.min 60
+    write /dev/cpuctl/rt/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/background/cpu.uclamp.max 50
 
 on late-fs && property:vendor.skip.charger_not_need=0
     # Start keymaster/gatekeeper service
     start vendor.gatekeeper-1-0-${ro.boot.keystore}
-    start vendor.keymaster-4-0-${ro.boot.keystore}
+    start vendor.keymint-${ro.boot.keystore}
     setprop vendor.powerhal.init 1
 
     # Wait for keymaster
@@ -140,6 +145,10 @@ on early-boot && property:vendor.skip.charger_not_need=0
     setprop wifi.concurrent.interface p2p0
     start vendor.wifi_hal_legacy
 
+service vsidaemon /vendor/bin/vsidaemon
+    class main
+    user root
+
 on boot && property:vendor.skip.charger_not_need=0
     start audioserver
     start mediadrm
@@ -227,8 +236,6 @@ on post-fs && property:vendor.skip.charger_not_need=0
 
 on post-fs-data && property:vendor.skip.charger_not_need=0
     setprop vold.post_fs_data_done 1
-    # create temp node for secure storage proxy
-    mkdir /data/vendor/ss 0700 system system
 
     # tmp dir for opencl Compiler
     setprop vendor.TMPDIR /data/vendor/.opencl-cache
@@ -237,6 +244,7 @@ on post-fs-data && property:vendor.skip.charger_not_need=0
 on zygote-start && property:vendor.skip.charger_not_need=0
     # Create the directories used by the Wireless subsystem
     mkdir /data/vendor/wifi 0771 wifi wifi
+    mkdir /data/vendor/wifi/wifi_dumps 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
 
@@ -247,7 +255,9 @@ service early_init_sh /vendor/bin/init.insmod.sh /vendor/etc/early.init.cfg vend
     disabled
     oneshot
 
-on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+on post-fs-data && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+    # create temp node for secure storage proxy
+    mkdir /data/vendor/ss 0700 system system
     start storageproxyd
 
 service storageproxyd /vendor/bin/storageproxyd -p /data/vendor/ss -r /dev/mmcblk0rpmb -d /dev/trusty-ipc-dev0
diff --git a/imx8m/kingscanyon_8mq/init.usb.rc b/imx8m/kingscanyon_8mq/init.usb.rc
index 12fe7841..65db2c16 100644
--- a/imx8m/kingscanyon_8mq/init.usb.rc
+++ b/imx8m/kingscanyon_8mq/init.usb.rc
@@ -48,5 +48,7 @@ on early-boot
     write /sys/module/libcomposite/parameters/disable_l1_for_hs "y"
     symlink /config/usb_gadget/g1/configs/b.1 /config/usb_gadget/g1/os_desc/b.1
 
+    setprop vendor.usb.sysfs_path /sys/devices/platform/soc@0/38100000.usb/
+
 on boot
     setprop sys.usb.configfs 2
diff --git a/imx8m/kingscanyon_8mq/kingscanyon_8mq.mk b/imx8m/kingscanyon_8mq/kingscanyon_8mq.mk
index 45d36def..4019c4cf 100644
--- a/imx8m/kingscanyon_8mq/kingscanyon_8mq.mk
+++ b/imx8m/kingscanyon_8mq/kingscanyon_8mq.mk
@@ -25,6 +25,8 @@ DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
 
 PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
 
+PRODUCT_VENDOR_PROPERTIES += ro.soc.manufacturer=nxp
+PRODUCT_VENDOR_PROPERTIES += ro.soc.model=IMX8MQ
 # -------@block_treble-------
 PRODUCT_FULL_TREBLE_OVERRIDE := true
 
@@ -52,6 +54,10 @@ PRODUCT_PACKAGES += \
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/thermal_info_config_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mq.json
 
+# Task Profiles
+PRODUCT_COPY_FILES += \
+    $(IMX_DEVICE_PATH)/task_profiles.json:$(TARGET_COPY_OUT_VENDOR)/etc/task_profiles.json
+
 # -------@block_app-------
 #Enable this to choose 32 bit user space build
 IMX8_BUILD_32BIT_ROOTFS := false
@@ -66,6 +72,10 @@ PRODUCT_COPY_FILES += \
 # Enable this to support vendor boot and boot header v3, this would be a MUST for GKI
 TARGET_USE_VENDOR_BOOT ?= true
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+  BOARD_RAMDISK_USE_LZ4 := true
+endif
+
 # We load the fstab from device tree so this is not needed, but since no kernel modules are installed to vendor
 # boot ramdisk so far, we need this step to generate the vendor-ramdisk folder or build process would fail. This
 # can be deleted once we figure out what kernel modules should be put into the vendor boot ramdisk.
@@ -85,7 +95,11 @@ PRODUCT_COPY_FILES += \
 TARGET_USE_DYNAMIC_PARTITIONS ?= true
 
 ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  ifeq ($(TARGET_USE_VENDOR_BOOT),true)
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota/compression.mk)
+  else
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  endif
   PRODUCT_USE_DYNAMIC_PARTITIONS := true
   BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
   BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
@@ -143,12 +157,12 @@ endif
 # hardware backed keymaster service
 ifeq ($(PRODUCT_IMX_TRUSTY),true)
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service.trusty
+    android.hardware.security.keymint-service.trusty
 endif
 
 # Keymaster HAL
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service-imx
+    android.hardware.security.keymint-service-imx
 
 # new gatekeeper HAL
 PRODUCT_PACKAGES += \
@@ -186,13 +200,16 @@ endif
 
 $(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
 
-#DRM Widevine 1.2 L3 support
+#DRM Widevine L1 1.4 support
 PRODUCT_PACKAGES += \
-    android.hardware.drm@1.3-service.widevine \
-    android.hardware.drm@1.3-service.clearkey \
+    android.hardware.drm@1.4-service.widevine \
+    android.hardware.drm@1.4-service.clearkey \
     libwvdrmcryptoplugin \
     libwvhidl \
     libwvdrmengine \
+    liboemcrypto \
+
+$(call inherit-product-if-exists, vendor/nxp-private/widevine/nxp_widevine_tee_8mq.mk)
 
 # -------@block_audio-------
 # Audio card json
@@ -207,11 +224,6 @@ PRODUCT_COPY_FILES += \
     $(CONFIG_REPO_PATH)/common/audio-json/tlv320aic3110_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/tlv320aic3110_config.json \
     $(CONFIG_REPO_PATH)/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
 
-PRODUCT_PACKAGES += \
-    android.hardware.audio@6.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@6.0-impl:32
-
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
     $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml
@@ -233,7 +245,7 @@ PRODUCT_PACKAGES += \
 
 # define frame buffer count
 PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
-    ro.surface_flinger.max_frame_buffer_acquired_buffers=3
+    ro.surface_flinger.max_frame_buffer_acquired_buffers=4
 
 # Gralloc HAL
 PRODUCT_PACKAGES += \
@@ -325,8 +337,8 @@ PRODUCT_COPY_FILES += \
 
 # Wifi regulatory
 PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
+    external/wireless-regdb/regulatory.db:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/lib/firmware/regulatory.db \
+    external/wireless-regdb/regulatory.db.p7s:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/lib/firmware/regulatory.db.p7s
 
 # -------@block_bluetooth-------
 # Bluetooth HAL
@@ -350,6 +362,9 @@ PRODUCT_PACKAGES += \
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.usb.rc
 
+PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
+    sys.usb.mtp.batchcancel=1
+
 # -------@block_multimedia_codec-------
 # Vendor seccomp policy files for media components:
 PRODUCT_COPY_FILES += \
@@ -381,7 +396,6 @@ ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
 ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
 INSTALL_64BIT_LIBRARY := true
 endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
 endif
 
 # -------@block_neural_network-------
@@ -424,7 +438,8 @@ PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
     frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
     frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.software.vulkan.deqp.level-2020-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level-2020-03-01.xml \
+    frameworks/native/data/etc/android.software.vulkan.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level.xml \
+    frameworks/native/data/etc/android.software.opengles.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.opengles.deqp.level.xml \
     frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
     frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
     frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
diff --git a/imx8m/kingscanyon_8mq/manifest.xml b/imx8m/kingscanyon_8mq/manifest.xml
index 594acf9f..58c4764f 100644
--- a/imx8m/kingscanyon_8mq/manifest.xml
+++ b/imx8m/kingscanyon_8mq/manifest.xml
@@ -1,5 +1,5 @@
 <manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
+    <kernel  target-level="6" />
     <hal format="hidl">
 	<name>android.hardware.graphics.allocator</name>
         <transport>hwbinder</transport>
@@ -24,28 +24,6 @@
        <transport>hwbinder</transport>
        <fqname>@2.4::ICameraProvider/external/0</fqname>
     </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>4.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.3</version>
-        <interface>
-            <name>ICryptoFactory</name>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-        </interface>
-        <fqname>@1.3::ICryptoFactory/clearkey</fqname>
-        <fqname>@1.3::IDrmFactory/clearkey</fqname>
-    </hal>
     <hal format="hidl">
         <name>android.hardware.gatekeeper</name>
         <transport>hwbinder</transport>
@@ -99,7 +77,7 @@
     <hal format="hidl">
         <name>android.hardware.audio</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+        <version>7.0</version>
         <interface>
             <name>IDevicesFactory</name>
             <instance>default</instance>
@@ -108,7 +86,7 @@
     <hal format="hidl">
         <name>android.hardware.audio.effect</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+        <version>7.0</version>
         <interface>
             <name>IEffectsFactory</name>
             <instance>default</instance>
@@ -141,4 +119,20 @@
             <instance>default</instance>
         </interface>
     </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IKeyMintDevice/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IRemotelyProvisionedComponent/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.secureclock</name>
+       <fqname>ISecureClock/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.sharedsecret</name>
+       <fqname>ISharedSecret/default</fqname>
+    </hal>
 </manifest>
diff --git a/imx8m/kingscanyon_8mq/overlay/frameworks/base/core/res/res/values/config.xml b/imx8m/kingscanyon_8mq/overlay/frameworks/base/core/res/res/values/config.xml
index 512e7d79..9ee342e6 100644
--- a/imx8m/kingscanyon_8mq/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/imx8m/kingscanyon_8mq/overlay/frameworks/base/core/res/res/values/config.xml
@@ -185,6 +185,12 @@
     <!-- This device is not "voice capable"; it's data-only. -->
     <bool name="config_voice_capable">false</bool>
 
+    <!-- Flag indicating whether the current device allows data.
+        If true, this means that the device supports data connectivity through
+        the telephony network.
+        This can be overridden to false for devices that support voice and/or sms . -->
+    <bool name="config_mobile_data_capable">false</bool>
+
     <!-- Boolean indicating whether system support sustained performance mode. -->
     <bool name="config_sustainedPerformanceModeSupported">true</bool>
 
diff --git a/imx8m/kingscanyon_8mq/powerhint_imx8mq.json b/imx8m/kingscanyon_8mq/powerhint_imx8mq.json
index 3d7db6ab..e540d9a7 100644
--- a/imx8m/kingscanyon_8mq/powerhint_imx8mq.json
+++ b/imx8m/kingscanyon_8mq/powerhint_imx8mq.json
@@ -25,7 +25,7 @@
     },
     {
       "Name": "TASchedtuneBoost",
-      "Path": "/dev/stune/top-app/schedtune.boost",
+      "Path": "/dev/cpuctl/top-app/cpu.uclamp.min",
       "Values": [
         "60",
         "10"
diff --git a/imx8m/kingscanyon_8mq/required_hardware.xml b/imx8m/kingscanyon_8mq/required_hardware.xml
index aef0450a..3981b852 100644
--- a/imx8m/kingscanyon_8mq/required_hardware.xml
+++ b/imx8m/kingscanyon_8mq/required_hardware.xml
@@ -30,4 +30,5 @@
     <feature name="android.software.companion_device_setup" />
     <feature name="android.software.autofill" />
     <feature name="android.software.secure_lock_screen" />
+    <feature name="android.hardware.keystore.app_attest_key" />
 </permissions>
diff --git a/imx8m/kingscanyon_8mq/sepolicy/genfs_contexts b/imx8m/kingscanyon_8mq/sepolicy/genfs_contexts
index 5907ec74..323fe3cc 100644
--- a/imx8m/kingscanyon_8mq/sepolicy/genfs_contexts
+++ b/imx8m/kingscanyon_8mq/sepolicy/genfs_contexts
@@ -12,5 +12,8 @@ genfscon sysfs /devices/platform/soc@0/30800000.bus/30a00000.mipi-dsi/30a00000.m
 genfscon sysfs /devices/platform/soc@0/30800000.bus/30be0000.ethernet/net               u:object_r:sysfs_net:s0
 genfscon sysfs /devices/platform/soc@0/33c00000.pcie/pci0001:00/0001:00:00.0/0001:01:00.0/net u:object_r:sysfs_net:s0
 
+# for usb gadget HAL to add watch on the sysfs path of usb controller
+genfscon sysfs /devices/platform/soc@0/38100000.usb                                     u:object_r:sysfs_usb_device:s0
+
 # ibr210 as external connection
 genfscon sysfs /devices/platform/usb-id/extcon          u:object_r:sysfs_extcon:s0
diff --git a/imx8m/kingscanyon_8mq/task_profiles.json b/imx8m/kingscanyon_8mq/task_profiles.json
new file mode 100644
index 00000000..449a5054
--- /dev/null
+++ b/imx8m/kingscanyon_8mq/task_profiles.json
@@ -0,0 +1,644 @@
+{
+  "Attributes": [
+    {
+      "Name": "LowCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "background/cpus"
+    },
+    {
+      "Name": "HighCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "foreground/cpus"
+    },
+    {
+      "Name": "MaxCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "top-app/cpus"
+    },
+    {
+      "Name": "MemLimit",
+      "Controller": "memory",
+      "File": "memory.limit_in_bytes"
+    },
+    {
+      "Name": "MemSoftLimit",
+      "Controller": "memory",
+      "File": "memory.soft_limit_in_bytes"
+    },
+    {
+      "Name": "MemSwappiness",
+      "Controller": "memory",
+      "File": "memory.swappiness"
+    },
+    {
+      "Name": "UClampMin",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.min"
+    },
+    {
+      "Name": "UClampMax",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.max"
+    },
+    {
+      "Name": "UClampLatencySensitive",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.latency_sensitive"
+    },
+    {
+      "Name": "FreezerState",
+      "Controller": "freezer",
+      "File": "cgroup.freeze"
+    }
+  ],
+
+  "Profiles": [
+    {
+      "Name": "HighEnergySaving",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Frozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Unfrozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "RealtimePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "rt"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CameraServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NNApiHALPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "nnapi-hal"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CpuPolicySpread",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CpuPolicyPack",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "VrKernelCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/performance"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/performance"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityMax",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServiceCapacityRestricted",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "restricted"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CameraServiceCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "TimerSlackHigh",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "40000000"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "TimerSlackNormal",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "50000"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "SFMainPolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SFRenderEnginePolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "PerfBoost",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "50%",
+            "Clamp": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "PerfClamp",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "0",
+            "Clamp": "30%"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "16MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "150"
+
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "512MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "100"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SystemMemoryProcess",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "memory",
+            "Path": "system"
+          }
+        }
+      ]
+    }
+  ],
+
+  "AggregateProfiles": [
+    {
+      "Name": "SCHED_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "SCHED_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_SYSTEM",
+      "Profiles": [ "ServicePerformance", "LowIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_RT_APP",
+      "Profiles": [ "RealtimePerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "ProcessCapacityLow", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "CPUSET_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "ProcessCapacityHigh", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "ProcessCapacityMax", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_SYSTEM",
+      "Profiles": [ "ServiceCapacityLow", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_RESTRICTED",
+      "Profiles": [ "ServiceCapacityRestricted", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "Dex2OatBootComplete",
+      "Profiles": [ "SCHED_SP_BACKGROUND" ]
+    }
+  ]
+}
diff --git a/imx8m/kingscanyon_8mq/thermal_info_config_imx8mq.json b/imx8m/kingscanyon_8mq/thermal_info_config_imx8mq.json
index 758490bf..32aec548 100755
--- a/imx8m/kingscanyon_8mq/thermal_info_config_imx8mq.json
+++ b/imx8m/kingscanyon_8mq/thermal_info_config_imx8mq.json
@@ -12,9 +12,9 @@
                 80.0,
                 82.0,
                 86.0,
-                90.0,
+                88.0,
                 "NAN",
-                "NAN"
+                90.0
             ],
             "HotHysteresis":[
                 2.0,
@@ -39,7 +39,7 @@
                 "NAN",
                 "NAN",
                 "NAN",
-                "NAN"
+                100.0
             ],
             "VrThreshold":"NAN",
             "Multiplier":0.001,
diff --git a/imx8m/kingscanyon_8mq/ueventd.nxp.rc b/imx8m/kingscanyon_8mq/ueventd.nxp.rc
index f188543a..d062709b 100644
--- a/imx8m/kingscanyon_8mq/ueventd.nxp.rc
+++ b/imx8m/kingscanyon_8mq/ueventd.nxp.rc
@@ -11,6 +11,9 @@
 /dev/watchdog             0660   system     root
 /dev/mmcblk0rpmb          0600   system     system
 /dev/trusty-ipc-dev0      0660   system     drmrpc
+/dev/dma_heap/reserved    0666   system     system
+/dev/dma_heap/reserved-uncached    0666   system     system
+/dev/dma_heap/secure      0666   system     system
 
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_temp 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_temp 0660 system system
@@ -18,6 +21,8 @@
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_hyst 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_hyst 0660 system system
 
+/dev/dmabuf_imx           0664   system     system
+
 /dev/usb/lp0              0666   root         root
 
 #KIOSK LED
diff --git a/imx8m/redwood_8mq/BoardConfig.mk b/imx8m/redwood_8mq/BoardConfig.mk
index ad14fa52..ea8e72f4 100644
--- a/imx8m/redwood_8mq/BoardConfig.mk
+++ b/imx8m/redwood_8mq/BoardConfig.mk
@@ -21,14 +21,22 @@ HAVE_FSL_IMX_GPU3D := true
 HAVE_FSL_IMX_PXP := false
 TARGET_USES_HWC2 := true
 TARGET_HAVE_VULKAN := true
+ENABLE_SEC_DMABUF_HEAP := true
+CFG_SECURE_IOCTRL_REGS := true
 
 SOONG_CONFIG_IMXPLUGIN += \
-                          BOARD_VPU_TYPE
+                          BOARD_VPU_TYPE \
+			  ENABLE_SEC_DMABUF_HEAP \
+			  CFG_SECURE_IOCTRL_REGS
 
 SOONG_CONFIG_IMXPLUGIN_BOARD_SOC_TYPE = IMX8MQ
 SOONG_CONFIG_IMXPLUGIN_BOARD_HAVE_VPU = true
 SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_TYPE = hantro
 SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_ONLY = false
+SOONG_CONFIG_IMXPLUGIN_PREBUILT_FSL_IMX_CODEC = true
+SOONG_CONFIG_IMXPLUGIN_POWERSAVE = false
+SOONG_CONFIG_IMXPLUGIN_ENABLE_SEC_DMABUF_HEAP = true
+SOONG_CONFIG_IMXPLUGIN_CFG_SECURE_IOCTRL_REGS = true
 
 # -------@block_memory-------
 USE_ION_ALLOCATOR := true
@@ -122,37 +130,50 @@ CMASIZE=800M
 endif
 
 # NXP default config
-BOARD_KERNEL_CMDLINE := init=/init androidboot.console=ttymxc0 androidboot.hardware=nxp firmware_class.path=/vendor/firmware loop.max_part=7
+BOARD_KERNEL_CMDLINE := init=/init firmware_class.path=/vendor/firmware loop.max_part=7 bootconfig
+BOARD_BOOTCONFIG += androidboot.console=ttymxc0 androidboot.hardware=nxp
 
 # framebuffer config
-BOARD_KERNEL_CMDLINE += androidboot.fbTileSupport=enable
+BOARD_BOOTCONFIG += androidboot.fbTileSupport=enable
 
 # memory config
 BOARD_KERNEL_CMDLINE += transparent_hugepage=never cma=$(CMASIZE)
 
 # display config
-BOARD_KERNEL_CMDLINE += androidboot.lcd_density=187 androidboot.primary_display=mxsfb-drm androidboot.gui_resolution=1080p
+BOARD_BOOTCONFIG += androidboot.lcd_density=187 androidboot.primary_display=mxsfb-drm androidboot.gui_resolution=1080p
 BOARD_KERNEL_CMDLINE += video=DP-1:1920x1080@60
 
 # wifi config
-BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN moal.mod_para=wifi_mod_para.conf
+BOARD_BOOTCONFIG += androidboot.wificountrycode=CN
+BOARD_KERNEL_CMDLINE += moal.mod_para=wifi_mod_para.conf pci=nomsi
 
 ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-BOARD_KERNEL_CMDLINE += androidboot.vendor.sysrq=1
+BOARD_BOOTCONFIG += androidboot.vendor.sysrq=1
 endif
 
 ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
   ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
     TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-no-product.dtb
   else
-    # imx8mq with HDMI display
-    TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2.dtb
-    # imx8mq with MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb
-    # imx8mq with HDMI and MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display.dtb
-    # imx8mq with MIPI panel display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191.dtb
+    ifeq ($(IMX8MQ_USES_GKI),true)
+      # imx8mq gki with HDMI display
+      TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2-gki.dtb
+      # imx8mq with MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535-gki.dtb
+      # imx8mq with HDMI and MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display-gki.dtb
+      # imx8mq with MIPI panel display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191-gki.dtb
+    else
+      # imx8mq with HDMI display
+      TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2.dtb
+      # imx8mq with MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb
+      # imx8mq with HDMI and MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display.dtb
+      # imx8mq with MIPI panel display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191.dtb
+    endif
   endif
 else # no dynamic parition feature
   ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
@@ -174,4 +195,8 @@ BOARD_SEPOLICY_DIRS += \
        $(IMX_DEVICE_PATH)/sepolicy_drm
 endif
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+    BOARD_KERNEL_CMDLINE += cpuidle.off=1
+endif
+
 BOARD_PLAT_PRIVATE_SEPOLICY_DIR := $(CONFIG_REPO_PATH)/imx8m/sepolicy_system/private
diff --git a/imx8m/redwood_8mq/SharedBoardConfig.mk b/imx8m/redwood_8mq/SharedBoardConfig.mk
index e8dba14e..cba3d3cc 100644
--- a/imx8m/redwood_8mq/SharedBoardConfig.mk
+++ b/imx8m/redwood_8mq/SharedBoardConfig.mk
@@ -1,18 +1,191 @@
 # -------@block_kernel_bootimg-------
 
-KERNEL_NAME := Image
+KERNEL_NAME := Image.lz4
 TARGET_KERNEL_ARCH := arm64
+IMX8MQ_USES_GKI := true
 
 #NXP 8997 wifi driver module
 BOARD_VENDOR_KERNEL_MODULES += \
     $(TARGET_OUT_INTERMEDIATES)/MXMWIFI_OBJ/mlan.ko \
     $(TARGET_OUT_INTERMEDIATES)/MXMWIFI_OBJ/moal.ko
 
-# mipi-panel touch driver module
+# CONFIG_SND_SOC_WM8524: snd-soc-wm8524.ko, wm8524 audio codec
+# CONFIG_IMX_LCDIF_CORE: imx-lcdif-core.ko
+# CONFIG_PHY_FSL_IMX8MQ_USB: phy-fsl-imx8mq-usb.ko
+# CONFIG_USB_DWC3_IMX8MP: dwc3-imx8mp.ko
+# CONFIG_TYPEC_SWITCH_GPIO: gpio-switch.ko
+# CONFIG_VIDEO_MXC_CAPTURE: only enable compile dir drivers/media/platform/mxc/capture/, no need mxc_v4l2_capture.c which used in imx6/7
+# linux bsp team will add new configure for mxc_v4l2_capture.c in lf-5.4 branch.
+# CONFIG_MXC_MIPI_CSI: mxc_mipi_csi.ko, mipi driver which get the sensor data and send data to csi
+# CONFIG_MXC_CAMERA_OV5640_MIPI_V2: ov5640_camera_mipi_v2.ko, sensor ov5640 driver, the input of mipi
+# CONFIG_IMX_SDMA: imx-sdma.ko, sdma used for audio
+# CONFIG_SND_SOC_IMX_PCM_DMA: imx-pcm-dma.ko imx-pcm-dma-v2.ko
+# CONFIG_SND_SOC_FSL_SAI: snd-soc-fsl-sai.ko, imx core audio
+# CONFIG_SND_SOC_IMX_SPDIF: snd-soc-imx-spdif.ko snd-soc-fsl-spdif.ko, sound spdif code
+# CONFIG_SND_SOC_IMX_AK4458: snd-soc-imx-ak4458.o
+# CONFIG_SND_SOC_IMX_AK5558: snd-soc-imx-ak5558.o snd-soc-fsl-utils.ko snd-soc-ak5558.ko
+# CONFIG_SND_SOC_BT_SCO: snd-soc-bt-sco.ko, audio hdmi code
+# CONFIG_SND_SOC_IMX_CDNHDMI: snd-soc-hdmi-codec.ko snd-soc-imx-cdnhdmi.ko snd-soc-fsl-aud2htx.ko, used for hdmi audio
+# CONFIG_SND_SIMPLE_CARD: snd-soc-simple-card.ko snd-soc-simple-card-utils.ko, connect cpu and codec
+# CONFIG_MXC_HANTRO: hantrodec.ko vpu decoder
+# CONFIG_MXC_HANTRO_V4L2: vsiv4l2.ko vpu decodder
+# CONFIG_RTC_DRV_SNVS: rtc-snvs.ko, snvs driver
+# CONFIG_AT803X_PHY: ethernet phy driver at803x.ko
+# CONFIG_FEC: fec.ko which depend on pps_core.ko and ptp.ko
+
+ifeq ($(IMX8MQ_USES_GKI),true)
+BOARD_VENDOR_KERNEL_MODULES += \
+    $(KERNEL_OUT)/drivers/mxc/gpu-viv/galcore.ko \
+    $(KERNEL_OUT)/drivers/media/platform/imx8/mxc-mipi-csi2_yav.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/mx6s_capture.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/mxc_mipi_csi.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/ov5640_camera_mipi_v2.ko \
+    $(KERNEL_OUT)/drivers/dma/imx-sdma.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma-v2.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-aud2htx.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-utils.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-sai.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-hdmi-codec.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-cdnhdmi.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-spdif.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-spdif.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-wm8524.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-ak5558.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-ak4458.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-ak4458.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-ak5558.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-bt-sco.ko \
+    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card.ko \
+    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card-utils.ko \
+    $(KERNEL_OUT)/drivers/mxc/hantro/hantrodec.ko \
+    $(KERNEL_OUT)/drivers/mxc/hantro_v4l2/vsiv4l2.ko \
+    $(KERNEL_OUT)/drivers/rtc/rtc-snvs.ko \
+    $(KERNEL_OUT)/drivers/pci/controller/dwc/pci-imx6.ko \
+    $(KERNEL_OUT)/drivers/pps/pps_core.ko \
+    $(KERNEL_OUT)/drivers/ptp/ptp.ko \
+    $(KERNEL_OUT)/drivers/net/phy/at803x.ko \
+    $(KERNEL_OUT)/drivers/net/ethernet/freescale/fec.ko
+else
 BOARD_VENDOR_KERNEL_MODULES += \
     $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko
+endif
+
+# CONFIG_ZRAM: zram.ko, lzo.ko, lzo-rle.ko compressed ram using LZ coding.
+# CONFIG_ZSMALLOC: zsmalloc.ko
+# CONFIG_CLK_IMX8MP: clk-imx8mq.ko
+# CONFIG_TIMER_IMX_SYS_CTR: timer-imx-sysctr.ko
+# CONFIG_IMX8M_BUSFREQ: busfreq-imx8mq.ko
+# CONFIG_IMX_IRQSTEER: irq-imx-irqsteer.ko
+# CONFIG_PINCTRL_IMX: pinctrl-imx.ko
+# CONFIG_PINCTRL_IMX8MQ: pinctrl-imx8mq.ko
+# CONFIG_SERIAL_IMX: imx.ko
+# CONFIG_IMX2_WDT: imx2_wdt.ko
+# CONFIG_GPIO_MXC: gpio-generic.ko gpio-mxc.ko
+# CONFIG_CPUFREQ_DT: cpufreq-dt.ko
+# CONFIG_ARM_IMX_CPUFREQ_DT: imx-cpufreq-dt.ko
+# CONFIG_NVMEM_IMX_OCOTP: nvmem-imx-ocotp.ko
+# CONFIG_PWM_IMX27: pwm-imx27.ko
+# CONFIG_MMC_SDHCI_ESDHC_IMX: sdhci-esdhc-imx.ko, cqhci.ko
+# CONFIG_I2C_IMX: i2c-imx.ko
+# CONFIG_IMX_MBOX: imx-mailbox.ko, imx mailbox driver
+# CONFIG_SND_IMX_SOC: SoC Audio for Freescale i.MX CPUs
+# CONFIG_DMABUF_HEAPS_SYSTEM: system_heap.ko
+# CONFIG_DMABUF_HEAPS_CMA: cma_heap.ko
+# CONFIG_DMABUF_IMX: dma-buf-imx.ko
+# CONFIG_RESET_IMX7: reset-imx7.ko
+# CONFIG_PHY_FSL_IMX8MQ_USB: phy-fsl-imx8mq-usb.ko
+# CONFIG_KEYBOARD_SNVS_PWRKEY: snvs_pwrkey.ko, snvs power key driver
+# mipi-panel touch driver module
+# CONFIG_IMX_LCDIF_CORE: imx-lcdif-core.ko
+# CONFIG_DRM_I2C_ADV7511: adv7511.ko
+# CONFIG_DRM_IMX_CDNS_MHDP: cdns_mhdp_drmcore.ko cdns_mhdp_imx.ko
+# CONFIG_DRM_IMX: imxdrm.ko, imx-lcdif-crtc.ko
+# CONFIG_USB_DWC3: dwc3-imx8mp.ko
+# CONFIG_TYPEC_SWITCH_GPIO: gpio-switch.ko
+# CONFIG_VIDEO_IMX_CAPTURE: imx8-media-dev.ko, imx8-isi-cap.ko, imx8-isi-hw.ko, imx8-isi-m2m.ko, imx8-mipi-csi2-sam.ko, imx isi and mipi driver
+# CONFIG_CFG80211: cfg80211.ko, cfg80211 - wireless configuration API
+# CONFIG_MAC80211: mac80211.ko, Generic IEEE 802.11 Networking Stack
+
+ifeq ($(IMX8MQ_USES_GKI),true)
+BOARD_VENDOR_RAMDISK_KERNEL_MODULES += \
+    $(KERNEL_OUT)/mm/zsmalloc.ko \
+    $(KERNEL_OUT)/crypto/lzo.ko \
+    $(KERNEL_OUT)/crypto/lzo-rle.ko \
+    $(KERNEL_OUT)/drivers/block/zram/zram.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/soc-imx8m.ko \
+    $(KERNEL_OUT)/drivers/clk/imx/mxc-clk.ko \
+    $(KERNEL_OUT)/drivers/clk/imx/clk-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/gpcv2.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/gpcv2-imx.ko \
+    $(KERNEL_OUT)/drivers/clocksource/timer-imx-sysctr.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/busfreq-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/irqchip/irq-imx-irqsteer.ko \
+    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx.ko \
+    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/tty/serial/imx.ko \
+    $(KERNEL_OUT)/drivers/watchdog/imx2_wdt.ko \
+    $(KERNEL_OUT)/drivers/regulator/pca9450-regulator.ko \
+    $(KERNEL_OUT)/drivers/regulator/gpio-regulator.ko \
+    $(KERNEL_OUT)/drivers/regulator/pfuze100-regulator.ko \
+    $(KERNEL_OUT)/drivers/gpio/gpio-mxc.ko \
+    $(KERNEL_OUT)/drivers/thermal/device_cooling.ko \
+    $(KERNEL_OUT)/drivers/thermal/qoriq_thermal.ko \
+    $(KERNEL_OUT)/drivers/perf/fsl_imx8_ddr_perf.ko \
+    $(KERNEL_OUT)/drivers/cpufreq/cpufreq-dt.ko \
+    $(KERNEL_OUT)/drivers/cpufreq/imx-cpufreq-dt.ko \
+    $(KERNEL_OUT)/drivers/nvmem/nvmem-imx-ocotp.ko \
+    $(KERNEL_OUT)/drivers/pwm/pwm-imx27.ko \
+    $(KERNEL_OUT)/drivers/mmc/host/sdhci-esdhc-imx.ko \
+    $(KERNEL_OUT)/drivers/mmc/host/cqhci.ko \
+    $(KERNEL_OUT)/drivers/i2c/busses/i2c-imx.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-fsl-qspi.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-bitbang.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-imx.ko \
+    $(KERNEL_OUT)/lib/stmp_device.ko \
+    $(KERNEL_OUT)/drivers/dma/mxs-dma.ko \
+    $(KERNEL_OUT)/drivers/mailbox/imx-mailbox.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/system_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/cma_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/secure_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/dma-buf-imx.ko \
+    $(KERNEL_OUT)/drivers/reset/gpio-reset.ko \
+    $(KERNEL_OUT)/drivers/reset/reset-imx7.ko \
+    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8-mipi-dphy.ko \
+    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8mq-usb.ko \
+    $(KERNEL_OUT)/drivers/input/keyboard/snvs_pwrkey.ko \
+    $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/panel/panel-raydium-rm67191.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/dcss/imx-dcss.ko \
+    $(KERNEL_OUT)/drivers/gpu/imx/lcdif/imx-lcdif-core.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/adv7511/adv7511.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/cadence/cdns_mhdp_drmcore.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/mhdp/cdns_mhdp_imx.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/imxdrm.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/lcdif/imx-lcdif-crtc.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/mxsfb/mxsfb.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/nwl-dsi.ko \
+    $(KERNEL_OUT)/drivers/mux/mux-mmio.ko \
+    $(KERNEL_OUT)/drivers/mux/mux-core.ko \
+    $(KERNEL_OUT)/drivers/usb/dwc3/dwc3-imx8mp.ko \
+    $(KERNEL_OUT)/drivers/usb/typec/mux/gpio-switch.ko \
+    $(KERNEL_OUT)/drivers/power/supply/dummy_battery.ko \
+    $(KERNEL_OUT)/drivers/media/rc/gpio-ir-recv.ko \
+    $(KERNEL_OUT)/drivers/media/v4l2-core/v4l2-fwnode.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-cap.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-hw.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-m2m.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-mipi-csi2-sam.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-ipc.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-core.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-irq.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-log.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-virtio.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-media-dev.ko \
+    $(KERNEL_OUT)/net/wireless/cfg80211.ko \
+    $(KERNEL_OUT)/net/mac80211/mac80211.ko
+endif
 
 # -------@block_security-------
 #Enable this to include trusty support
 PRODUCT_IMX_TRUSTY := true
-
diff --git a/imx8m/redwood_8mq/UbootKernelBoardConfig.mk b/imx8m/redwood_8mq/UbootKernelBoardConfig.mk
index c67c9b6d..d7307ab9 100644
--- a/imx8m/redwood_8mq/UbootKernelBoardConfig.mk
+++ b/imx8m/redwood_8mq/UbootKernelBoardConfig.mk
@@ -13,7 +13,12 @@ endif
 TARGET_BOOTLOADER_CONFIG += imx8mq-lpddr4-evk-uuu-ktc2g:redwood_8mq_evk_android_uuu_ktc2g_defconfig:signed
 TARGET_BOOTLOADER_CONFIG += imx8mq-lpddr4-evk-uuu-ktc4g:redwood_8mq_evk_android_uuu_ktc4g_defconfig:signed
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+TARGET_KERNEL_DEFCONFIG := gki_defconfig
+TARGET_KERNEL_GKI_DEFCONF:= imx8mq_gki.fragment
+else
 TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
+endif
 TARGET_KERNEL_ADDITION_DEFCONF ?= android_addition_defconfig
 TARGET_KERNEL_SECURE_DEFCONF ?= android_secure_defconfig
 
diff --git a/imx8m/redwood_8mq/audio_policy_configuration.xml b/imx8m/redwood_8mq/audio_policy_configuration.xml
index 81de06c9..f40dec59 100644
--- a/imx8m/redwood_8mq/audio_policy_configuration.xml
+++ b/imx8m/redwood_8mq/audio_policy_configuration.xml
@@ -14,7 +14,7 @@
      limitations under the License.
 -->
 
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
+<audioPolicyConfiguration version="7.0" xmlns:xi="http://www.w3.org/2001/XInclude">
     <globalConfiguration speaker_drc_enabled="true"/>
 
     <modules>
@@ -30,17 +30,15 @@
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="hdmi output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
                 </mixPort>
                 <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000,96000,192000,384000,768000"
-                             channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_QUAD,AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
+                             samplingRates="48000 96000 192000 384000 768000"
+                             channelMasks="AUDIO_CHANNEL_OUT_STEREO AUDIO_CHANNEL_OUT_QUAD AUDIO_CHANNEL_OUT_5POINT1 AUDIO_CHANNEL_OUT_7POINT1"/>
                 </mixPort>
-                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
+                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
                     <profile name="" format="AUDIO_FORMAT_DSD"
-                             samplingRates="2822400,5644800,11289600,22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
+                             samplingRates="2822400 5644800 11289600 22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="bt sco output" role="source">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
@@ -49,8 +47,8 @@
 
                 <mixPort name="primary input" role="sink">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
+                             samplingRates="8000 11025 16000 22050 24000 32000 44100 48000"
+                             channelMasks="AUDIO_CHANNEL_IN_MONO AUDIO_CHANNEL_IN_STEREO"/>
                 </mixPort>
             </mixPorts>
             <devicePorts>
@@ -94,7 +92,7 @@
         </module>
 
         <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
+        <xi:include href="a2dp_audio_policy_configuration_7_0.xml"/>
 
         <!-- Usb Audio HAL -->
         <xi:include href="usb_audio_policy_configuration.xml"/>
diff --git a/imx8m/redwood_8mq/audio_policy_configuration_drm.xml b/imx8m/redwood_8mq/audio_policy_configuration_drm.xml
index cf60b8e3..dafc6bad 100644
--- a/imx8m/redwood_8mq/audio_policy_configuration_drm.xml
+++ b/imx8m/redwood_8mq/audio_policy_configuration_drm.xml
@@ -14,7 +14,7 @@
      limitations under the License.
 -->
 
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
+<audioPolicyConfiguration version="7.0" xmlns:xi="http://www.w3.org/2001/XInclude">
     <globalConfiguration speaker_drc_enabled="true"/>
 
     <modules>
@@ -30,17 +30,15 @@
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="hdmi output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
                 </mixPort>
                 <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
+                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_5POINT1 AUDIO_CHANNEL_OUT_7POINT1"/>
                 </mixPort>
                 <mixPort name="primary input" role="sink">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
+                             samplingRates="8000 11025 16000 22050 24000 32000 44100 48000"
+                             channelMasks="AUDIO_CHANNEL_IN_MONO AUDIO_CHANNEL_IN_STEREO"/>
                 </mixPort>
             </mixPorts>
             <devicePorts>
@@ -76,7 +74,7 @@
         </module>
 
         <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
+        <xi:include href="a2dp_audio_policy_configuration_7_0.xml"/>
 
         <!-- Usb Audio HAL -->
         <xi:include href="usb_audio_policy_configuration.xml"/>
diff --git a/imx8m/redwood_8mq/camera_config_imx8mq.json b/imx8m/redwood_8mq/camera_config_imx8mq.json
index 1edd6518..713e2c89 100644
--- a/imx8m/redwood_8mq/camera_config_imx8mq.json
+++ b/imx8m/redwood_8mq/camera_config_imx8mq.json
@@ -6,6 +6,7 @@
   "hal_version": "3",
   "cam_blit_copy": "GPU_3D",
   "cam_blit_csc": "GPU_3D",
+  "use_cpu_encoder": "1",
 
   "camera_metadata": [
     {
@@ -21,8 +22,9 @@
       "PhysicalHeight": "2.7216",
       "FocalLength": "3.37",
       "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
+      "MinFrameDuration": "33333333",
       "MaxFrameDuration": "300000000",
+      "MinFrameDurationBlob5M": "600000000",
       "OmitFrame": [
           {
               "width": "2592",
diff --git a/imx8m/redwood_8mq/init.imx8mq.rc b/imx8m/redwood_8mq/init.imx8mq.rc
index 40aa0f45..108079ef 100755
--- a/imx8m/redwood_8mq/init.imx8mq.rc
+++ b/imx8m/redwood_8mq/init.imx8mq.rc
@@ -34,7 +34,7 @@ on property:sys.boot_completed=1
     # Set up and down limit to 200us/200us
     write /sys/devices/system/cpu/cpufreq/schedutil/up_rate_limit_us 200
     write /sys/devices/system/cpu/cpufreq/schedutil/down_rate_limit_us 200
-    write /proc/sys/kernel/sched_util_clamp_min 512
+    write /proc/sys/kernel/sched_util_clamp_min_rt_default 512
 
 on property:sys.boot_completed=1
     # update cpuset now that processors are up
diff --git a/imx8m/redwood_8mq/init.rc b/imx8m/redwood_8mq/init.rc
index d846da35..88f08026 100644
--- a/imx8m/redwood_8mq/init.rc
+++ b/imx8m/redwood_8mq/init.rc
@@ -46,29 +46,34 @@ on init && property:vendor.skip.charger_not_need=0
     # deattch the fbcon as hdmi hotplug conflict with fbcon
     write /sys/class/vtconsole/vtcon1/bind 0
 
-    chown system system /dev/stune/top-app/schedtune.boost
-    chmod 664 /dev/stune/top-app/schedtune.boost
-    chown system system /dev/stune/top-app/schedtune.prefer_idle
-    chmod 664 /dev/stune/top-app/schedtune.prefer_idle
-    chown system system /dev/stune/foreground/schedtune.boost
-    chmod 664 /dev/stune/foreground/schedtune.boost
-    chown system system /dev/stune/foreground/schedtune.prefer_idle
-    chmod 664 /dev/stune/foreground/schedtune.prefer_idle
-    chown system system /dev/stune/schedtune.boost
-    chmod 664 /dev/stune/schedtune.boost
-
-    # set default schedTune value for foreground/top-app (only affects EAS)
-    write /dev/stune/foreground/schedtune.boost 10
-    write /dev/stune/foreground/schedtune.prefer_idle 1
-    write /dev/stune/top-app/schedtune.boost 40
-    write /dev/stune/top-app/schedtune.prefer_idle 1
-    write /dev/stune/rt/schedtune.boost 50
-    write /dev/stune/rt/schedtune.prefer_idle 1
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.min
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.min
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/rt/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.min
+    chown system system /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/background/cpu.uclamp.max
+    chmod 664 /dev/cpuctl/background/cpu.uclamp.max
+
+    # set default uclamp value for foreground/top-app/rt/background (only affects EAS)
+    write /dev/cpuctl/foreground/cpu.uclamp.min 20
+    write /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/top-app/cpu.uclamp.min 50
+    write /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/rt/cpu.uclamp.min 60
+    write /dev/cpuctl/rt/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/background/cpu.uclamp.max 50
 
 on late-fs && property:vendor.skip.charger_not_need=0
     # Start keymaster/gatekeeper service
     start vendor.gatekeeper-1-0-${ro.boot.keystore}
-    start vendor.keymaster-4-0-${ro.boot.keystore}
+    start vendor.keymint-${ro.boot.keystore}
     setprop vendor.powerhal.init 1
 
     # Wait for keymaster
@@ -148,6 +153,10 @@ on early-boot && property:vendor.skip.charger_not_need=0
     # Enlarge limition of audio buffer allocation
     setprop ro.af.client_heap_size_kbyte 32768
 
+service vsidaemon /vendor/bin/vsidaemon
+    class main
+    user root
+
 on boot && property:vendor.skip.charger_not_need=0
     start audioserver
     start mediadrm
@@ -217,8 +226,6 @@ on post-fs && property:vendor.skip.charger_not_need=0
 
 on post-fs-data && property:vendor.skip.charger_not_need=0
     setprop vold.post_fs_data_done 1
-    # create temp node for secure storage proxy
-    mkdir /data/vendor/ss 0700 system system
 
     # tmp dir for opencl Compiler
     setprop vendor.TMPDIR /data/vendor/.opencl-cache
@@ -227,6 +234,7 @@ on post-fs-data && property:vendor.skip.charger_not_need=0
 on zygote-start && property:vendor.skip.charger_not_need=0
     # Create the directories used by the Wireless subsystem
     mkdir /data/vendor/wifi 0771 wifi wifi
+    mkdir /data/vendor/wifi/wifi_dumps 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
 
@@ -237,7 +245,9 @@ service early_init_sh /vendor/bin/init.insmod.sh /vendor/etc/early.init.cfg vend
     disabled
     oneshot
 
-on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+on post-fs-data && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+    # create temp node for secure storage proxy
+    mkdir /data/vendor/ss 0700 system system
     start storageproxyd
 
 service storageproxyd /vendor/bin/storageproxyd -p /data/vendor/ss -r /dev/mmcblk0rpmb -d /dev/trusty-ipc-dev0
diff --git a/imx8m/redwood_8mq/init.usb.rc b/imx8m/redwood_8mq/init.usb.rc
index 12fe7841..65db2c16 100644
--- a/imx8m/redwood_8mq/init.usb.rc
+++ b/imx8m/redwood_8mq/init.usb.rc
@@ -48,5 +48,7 @@ on early-boot
     write /sys/module/libcomposite/parameters/disable_l1_for_hs "y"
     symlink /config/usb_gadget/g1/configs/b.1 /config/usb_gadget/g1/os_desc/b.1
 
+    setprop vendor.usb.sysfs_path /sys/devices/platform/soc@0/38100000.usb/
+
 on boot
     setprop sys.usb.configfs 2
diff --git a/imx8m/redwood_8mq/manifest.xml b/imx8m/redwood_8mq/manifest.xml
index 4fa3ce03..eff3af22 100644
--- a/imx8m/redwood_8mq/manifest.xml
+++ b/imx8m/redwood_8mq/manifest.xml
@@ -1,5 +1,5 @@
 <manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
+    <kernel  target-level="6" />
     <hal format="hidl">
 	<name>android.hardware.graphics.allocator</name>
         <transport>hwbinder</transport>
@@ -24,28 +24,6 @@
        <transport>hwbinder</transport>
        <fqname>@2.4::ICameraProvider/external/0</fqname>
     </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>4.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.3</version>
-        <interface>
-            <name>ICryptoFactory</name>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-        </interface>
-        <fqname>@1.3::ICryptoFactory/clearkey</fqname>
-        <fqname>@1.3::IDrmFactory/clearkey</fqname>
-    </hal>
     <hal format="hidl">
         <name>android.hardware.gatekeeper</name>
         <transport>hwbinder</transport>
@@ -108,7 +86,7 @@
     <hal format="hidl">
         <name>android.hardware.audio</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+        <version>7.0</version>
         <interface>
             <name>IDevicesFactory</name>
             <instance>default</instance>
@@ -117,7 +95,7 @@
     <hal format="hidl">
         <name>android.hardware.audio.effect</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+        <version>7.0</version>
         <interface>
             <name>IEffectsFactory</name>
             <instance>default</instance>
@@ -150,6 +128,22 @@
             <instance>default</instance>
         </interface>
     </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IKeyMintDevice/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IRemotelyProvisionedComponent/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.secureclock</name>
+       <fqname>ISecureClock/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.sharedsecret</name>
+       <fqname>ISharedSecret/default</fqname>
+    </hal>
     <hal format="hidl">
         <name>android.hardware.radio</name>
         <transport>hwbinder</transport>
diff --git a/imx8m/redwood_8mq/overlay/frameworks/base/core/res/res/values/config.xml b/imx8m/redwood_8mq/overlay/frameworks/base/core/res/res/values/config.xml
index fd585a4e..a32206d4 100644
--- a/imx8m/redwood_8mq/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/imx8m/redwood_8mq/overlay/frameworks/base/core/res/res/values/config.xml
@@ -202,6 +202,12 @@
     <!-- This device is not "voice capable"; it's data-only. -->
     <bool name="config_voice_capable">false</bool>
 
+    <!-- Flag indicating whether the current device allows data.
+        If true, this means that the device supports data connectivity through
+        the telephony network.
+        This can be overridden to false for devices that support voice and/or sms . -->
+    <bool name="config_mobile_data_capable">false</bool>
+
     <!-- Boolean indicating whether system support sustained performance mode. -->
     <bool name="config_sustainedPerformanceModeSupported">true</bool>
 
diff --git a/imx8m/redwood_8mq/powerhint_imx8mq.json b/imx8m/redwood_8mq/powerhint_imx8mq.json
index 3d7db6ab..e540d9a7 100644
--- a/imx8m/redwood_8mq/powerhint_imx8mq.json
+++ b/imx8m/redwood_8mq/powerhint_imx8mq.json
@@ -25,7 +25,7 @@
     },
     {
       "Name": "TASchedtuneBoost",
-      "Path": "/dev/stune/top-app/schedtune.boost",
+      "Path": "/dev/cpuctl/top-app/cpu.uclamp.min",
       "Values": [
         "60",
         "10"
diff --git a/imx8m/redwood_8mq/redwood_8mq_common.mk b/imx8m/redwood_8mq/redwood_8mq_common.mk
index 4af1f7f0..b9f5e8c7 100644
--- a/imx8m/redwood_8mq/redwood_8mq_common.mk
+++ b/imx8m/redwood_8mq/redwood_8mq_common.mk
@@ -25,6 +25,8 @@ DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
 
 PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
 
+PRODUCT_VENDOR_PROPERTIES += ro.soc.manufacturer=nxp
+PRODUCT_VENDOR_PROPERTIES += ro.soc.model=IMX8MQ
 # -------@block_treble-------
 PRODUCT_FULL_TREBLE_OVERRIDE := true
 
@@ -52,6 +54,10 @@ PRODUCT_PACKAGES += \
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/thermal_info_config_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mq.json
 
+# Task Profiles
+PRODUCT_COPY_FILES += \
+    $(IMX_DEVICE_PATH)/task_profiles.json:$(TARGET_COPY_OUT_VENDOR)/etc/task_profiles.json
+
 # -------@block_app-------
 #Enable this to choose 32 bit user space build
 IMX8_BUILD_32BIT_ROOTFS := false
@@ -66,6 +72,10 @@ PRODUCT_COPY_FILES += \
 # Enable this to support vendor boot and boot header v3, this would be a MUST for GKI
 TARGET_USE_VENDOR_BOOT ?= true
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+  BOARD_RAMDISK_USE_LZ4 := true
+endif
+
 # We load the fstab from device tree so this is not needed, but since no kernel modules are installed to vendor
 # boot ramdisk so far, we need this step to generate the vendor-ramdisk folder or build process would fail. This
 # can be deleted once we figure out what kernel modules should be put into the vendor boot ramdisk.
@@ -85,7 +95,11 @@ PRODUCT_COPY_FILES += \
 TARGET_USE_DYNAMIC_PARTITIONS ?= true
 
 ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  ifeq ($(TARGET_USE_VENDOR_BOOT),true)
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota/compression.mk)
+  else
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  endif
   PRODUCT_USE_DYNAMIC_PARTITIONS := true
   BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
   BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
@@ -143,12 +157,12 @@ endif
 # hardware backed keymaster service
 ifeq ($(PRODUCT_IMX_TRUSTY),true)
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service.trusty
+    android.hardware.security.keymint-service.trusty
 endif
 
 # Keymaster HAL
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service-imx
+    android.hardware.security.keymint-service-imx
 
 # new gatekeeper HAL
 PRODUCT_PACKAGES += \
@@ -186,24 +200,22 @@ endif
 
 $(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
 
-#DRM Widevine 1.2 L3 support
+#DRM Widevine L1 1.4 support
 PRODUCT_PACKAGES += \
-    android.hardware.drm@1.3-service.widevine \
-    android.hardware.drm@1.3-service.clearkey \
+    android.hardware.drm@1.4-service.widevine \
+    android.hardware.drm@1.4-service.clearkey \
     libwvdrmcryptoplugin \
     libwvhidl \
     libwvdrmengine \
+    liboemcrypto \
+
+$(call inherit-product-if-exists, vendor/nxp-private/widevine/nxp_widevine_tee_8mq.mk)
 
 # -------@block_audio-------
 # Audio card json
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/audio-json/tlv320aic3110_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/tlv320aic3110_config.json
 
-PRODUCT_PACKAGES += \
-    android.hardware.audio@6.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@6.0-impl:32
-
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
     $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
@@ -229,7 +241,7 @@ PRODUCT_PACKAGES += \
 
 # define frame buffer count
 PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
-    ro.surface_flinger.max_frame_buffer_acquired_buffers=3
+    ro.surface_flinger.max_frame_buffer_acquired_buffers=4
 
 # Gralloc HAL
 PRODUCT_PACKAGES += \
@@ -326,8 +338,8 @@ PRODUCT_COPY_FILES += \
 
 # Wifi regulatory
 PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
+    external/wireless-regdb/regulatory.db:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/lib/firmware/regulatory.db \
+    external/wireless-regdb/regulatory.db.p7s:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/lib/firmware/regulatory.db.p7s
 
 # -------@block_bluetooth-------
 # Bluetooth HAL
@@ -347,6 +359,9 @@ PRODUCT_PACKAGES += \
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.usb.rc
 
+PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
+    sys.usb.mtp.batchcancel=1
+
 # -------@block_multimedia_codec-------
 # Vendor seccomp policy files for media components:
 PRODUCT_COPY_FILES += \
@@ -378,7 +393,6 @@ ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
 ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
 INSTALL_64BIT_LIBRARY := true
 endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
 endif
 
 # -------@block_neural_network-------
@@ -421,7 +435,8 @@ PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
     frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
     frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.software.vulkan.deqp.level-2020-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level-2020-03-01.xml \
+    frameworks/native/data/etc/android.software.vulkan.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level.xml \
+    frameworks/native/data/etc/android.software.opengles.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.opengles.deqp.level.xml \
     frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
     frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
     frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
diff --git a/imx8m/redwood_8mq/required_hardware.xml b/imx8m/redwood_8mq/required_hardware.xml
index aef0450a..3981b852 100644
--- a/imx8m/redwood_8mq/required_hardware.xml
+++ b/imx8m/redwood_8mq/required_hardware.xml
@@ -30,4 +30,5 @@
     <feature name="android.software.companion_device_setup" />
     <feature name="android.software.autofill" />
     <feature name="android.software.secure_lock_screen" />
+    <feature name="android.hardware.keystore.app_attest_key" />
 </permissions>
diff --git a/imx8m/redwood_8mq/sepolicy/genfs_contexts b/imx8m/redwood_8mq/sepolicy/genfs_contexts
index 92b42d57..99d0b6e0 100644
--- a/imx8m/redwood_8mq/sepolicy/genfs_contexts
+++ b/imx8m/redwood_8mq/sepolicy/genfs_contexts
@@ -12,6 +12,9 @@ genfscon sysfs /devices/platform/soc@0/30800000.bus/30a00000.mipi-dsi/30a00000.m
 genfscon sysfs /devices/platform/soc@0/30800000.bus/30be0000.ethernet/net               u:object_r:sysfs_net:s0
 genfscon sysfs /devices/platform/soc@0/33c00000.pcie/pci0001:00/0001:00:00.0/0001:01:00.0/net u:object_r:sysfs_net:s0
 
+# for usb gadget HAL to add watch on the sysfs path of usb controller
+genfscon sysfs /devices/platform/soc@0/38100000.usb                                     u:object_r:sysfs_usb_device:s0
+
 # vp6820 chip as external connection
 genfscon sysfs /devices/platform/soc@0/30800000.bus/30a40000.i2c/i2c-2/2-0067/extcon   u:object_r:sysfs_extcon:s0
 
diff --git a/imx8m/redwood_8mq/task_profiles.json b/imx8m/redwood_8mq/task_profiles.json
new file mode 100644
index 00000000..449a5054
--- /dev/null
+++ b/imx8m/redwood_8mq/task_profiles.json
@@ -0,0 +1,644 @@
+{
+  "Attributes": [
+    {
+      "Name": "LowCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "background/cpus"
+    },
+    {
+      "Name": "HighCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "foreground/cpus"
+    },
+    {
+      "Name": "MaxCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "top-app/cpus"
+    },
+    {
+      "Name": "MemLimit",
+      "Controller": "memory",
+      "File": "memory.limit_in_bytes"
+    },
+    {
+      "Name": "MemSoftLimit",
+      "Controller": "memory",
+      "File": "memory.soft_limit_in_bytes"
+    },
+    {
+      "Name": "MemSwappiness",
+      "Controller": "memory",
+      "File": "memory.swappiness"
+    },
+    {
+      "Name": "UClampMin",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.min"
+    },
+    {
+      "Name": "UClampMax",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.max"
+    },
+    {
+      "Name": "UClampLatencySensitive",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.latency_sensitive"
+    },
+    {
+      "Name": "FreezerState",
+      "Controller": "freezer",
+      "File": "cgroup.freeze"
+    }
+  ],
+
+  "Profiles": [
+    {
+      "Name": "HighEnergySaving",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Frozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Unfrozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "RealtimePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "rt"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CameraServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NNApiHALPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "nnapi-hal"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CpuPolicySpread",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CpuPolicyPack",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "VrKernelCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/performance"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/performance"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityMax",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServiceCapacityRestricted",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "restricted"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CameraServiceCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "TimerSlackHigh",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "40000000"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "TimerSlackNormal",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "50000"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "SFMainPolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SFRenderEnginePolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "PerfBoost",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "50%",
+            "Clamp": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "PerfClamp",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "0",
+            "Clamp": "30%"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "16MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "150"
+
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "512MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "100"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SystemMemoryProcess",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "memory",
+            "Path": "system"
+          }
+        }
+      ]
+    }
+  ],
+
+  "AggregateProfiles": [
+    {
+      "Name": "SCHED_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "SCHED_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_SYSTEM",
+      "Profiles": [ "ServicePerformance", "LowIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_RT_APP",
+      "Profiles": [ "RealtimePerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "ProcessCapacityLow", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "CPUSET_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "ProcessCapacityHigh", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "ProcessCapacityMax", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_SYSTEM",
+      "Profiles": [ "ServiceCapacityLow", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_RESTRICTED",
+      "Profiles": [ "ServiceCapacityRestricted", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "Dex2OatBootComplete",
+      "Profiles": [ "SCHED_SP_BACKGROUND" ]
+    }
+  ]
+}
diff --git a/imx8m/redwood_8mq/thermal_info_config_imx8mq.json b/imx8m/redwood_8mq/thermal_info_config_imx8mq.json
index 758490bf..32aec548 100755
--- a/imx8m/redwood_8mq/thermal_info_config_imx8mq.json
+++ b/imx8m/redwood_8mq/thermal_info_config_imx8mq.json
@@ -12,9 +12,9 @@
                 80.0,
                 82.0,
                 86.0,
-                90.0,
+                88.0,
                 "NAN",
-                "NAN"
+                90.0
             ],
             "HotHysteresis":[
                 2.0,
@@ -39,7 +39,7 @@
                 "NAN",
                 "NAN",
                 "NAN",
-                "NAN"
+                100.0
             ],
             "VrThreshold":"NAN",
             "Multiplier":0.001,
diff --git a/imx8m/redwood_8mq/ueventd.nxp.rc b/imx8m/redwood_8mq/ueventd.nxp.rc
index 777dcbcd..9d44fc06 100644
--- a/imx8m/redwood_8mq/ueventd.nxp.rc
+++ b/imx8m/redwood_8mq/ueventd.nxp.rc
@@ -11,6 +11,9 @@
 /dev/watchdog             0660   system     root
 /dev/mmcblk0rpmb          0600   system     system
 /dev/trusty-ipc-dev0      0660   system     drmrpc
+/dev/dma_heap/reserved    0666   system     system
+/dev/dma_heap/reserved-uncached    0666   system     system
+/dev/dma_heap/secure      0666   system     system
 
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_temp 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_temp 0660 system system
@@ -18,6 +21,8 @@
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_hyst 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_hyst 0660 system system
 
+/dev/dmabuf_imx           0664   system     system
+
 #quectel port
 /dev/ttyUSB*              0660   radio        radio
 /dev/ttyACM*              0660   radio        radio
diff --git a/imx8m/sepolicy/hal_usb_impl.te b/imx8m/sepolicy/hal_usb_impl.te
index aa9185a9..f36092d9 100644
--- a/imx8m/sepolicy/hal_usb_impl.te
+++ b/imx8m/sepolicy/hal_usb_impl.te
@@ -18,3 +18,5 @@ allow hal_usb_impl  ctl_start_prop:property_service  { set };
 allow hal_usb_impl  ctl_stop_prop:property_service  { set };
 wakelock_use(hal_usb_impl)
 set_prop(hal_usb_impl, vendor_usb_config_prop)
+
+allow hal_usb_impl sysfs_usb_device:dir { watch watch_reads };
diff --git a/imx8m/sepolicy/property_contexts b/imx8m/sepolicy/property_contexts
index eb8c436d..6a8dc5a0 100644
--- a/imx8m/sepolicy/property_contexts
+++ b/imx8m/sepolicy/property_contexts
@@ -1,6 +1,7 @@
 vendor.wc_transport.                u:object_r:vendor_wc_prop:s0
 persist.vendor.usb.config           u:object_r:vendor_usb_config_prop:s0
 vendor.usb.config                   u:object_r:vendor_usb_config_prop:s0
+vendor.usb.sysfs_path               u:object_r:vendor_usb_config_prop:s0
 vendor.powerhal.                    u:object_r:vendor_power_hal_prop:s0
 
 ro.boot.vendor.sysrq                u:object_r:vendor_public_default_prop:s0
diff --git a/imx8m/vp6820_8mn/BoardConfig.mk b/imx8m/vp6820_8mn/BoardConfig.mk
index 5403b522..49771437 100644
--- a/imx8m/vp6820_8mn/BoardConfig.mk
+++ b/imx8m/vp6820_8mn/BoardConfig.mk
@@ -23,6 +23,8 @@ TARGET_HAVE_VULKAN := true
 SOONG_CONFIG_IMXPLUGIN_BOARD_SOC_TYPE = IMX8MN
 SOONG_CONFIG_IMXPLUGIN_BOARD_HAVE_VPU = false
 SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_ONLY = false
+SOONG_CONFIG_IMXPLUGIN_PREBUILT_FSL_IMX_CODEC = true
+SOONG_CONFIG_IMXPLUGIN_POWERSAVE = false
 
 # -------@block_memory-------
 USE_ION_ALLOCATOR := true
@@ -106,26 +108,29 @@ BOARD_KERNEL_BASE := 0x40400000
 CMASIZE=800M
 
 # NXP default config
-BOARD_KERNEL_CMDLINE := init=/init androidboot.console=ttymxc1 androidboot.hardware=nxp firmware_class.path=/vendor/firmware loop.max_part=7
+BOARD_KERNEL_CMDLINE := init=/init firmware_class.path=/vendor/firmware loop.max_part=7 bootconfig
+BOARD_BOOTCONFIG += androidboot.console=ttymxc1 androidboot.hardware=nxp
 
 # memory config
 BOARD_KERNEL_CMDLINE += transparent_hugepage=never
 
 # display config
-BOARD_KERNEL_CMDLINE += androidboot.lcd_density=294 androidboot.primary_display=imx-drm
+BOARD_BOOTCONFIG += androidboot.lcd_density=294 androidboot.primary_display=imx-drm
 
 # wifi config
-BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN moal.mod_para=wifi_mod_para_sd8987.conf
+BOARD_BOOTCONFIG += androidboot.wificountrycode=CN
+BOARD_KERNEL_CMDLINE += moal.mod_para=wifi_mod_para_sd8987.conf
 
 # low memory device build config
 ifeq ($(LOW_MEMORY),true)
-BOARD_KERNEL_CMDLINE += cma=320M@0x400M-0xb80M androidboot.displaymode=720p galcore.contiguousSize=33554432
+BOARD_BOOTCONFIG += androidboot.displaymode=720p
+BOARD_KERNEL_CMDLINE += cma=320M@0x400M-0xb80M galcore.contiguousSize=33554432
 else
 BOARD_KERNEL_CMDLINE += cma=$(CMASIZE)@0x400M-0xb80M
 endif
 
 ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-BOARD_KERNEL_CMDLINE += androidboot.vendor.sysrq=1
+BOARD_BOOTCONFIG += androidboot.vendor.sysrq=1
 endif
 
 
diff --git a/imx8m/vp6820_8mn/SharedBoardConfig.mk b/imx8m/vp6820_8mn/SharedBoardConfig.mk
index 7b5c326a..69814f32 100644
--- a/imx8m/vp6820_8mn/SharedBoardConfig.mk
+++ b/imx8m/vp6820_8mn/SharedBoardConfig.mk
@@ -1,15 +1,177 @@
 # -------@block_kernel_bootimg-------
-KERNEL_NAME := Image
+KERNEL_NAME := Image.lz4
 TARGET_KERNEL_ARCH := arm64
+IMX8MN_USES_GKI := true
 
 # BCM fmac wifi driver module
 BOARD_VENDOR_KERNEL_MODULES += \
     $(KERNEL_OUT)/drivers/net/wireless/broadcom/brcm80211/brcmfmac/brcmfmac.ko \
     $(KERNEL_OUT)/drivers/net/wireless/broadcom/brcm80211/brcmutil/brcmutil.ko
 
-# mipi-panel touch driver module
+# CONFIG_TOUCHSCREEN_SYNAPTICS_DSX_I2C: synaptics_dsx_i2c.ko, mipi-panel touch driver module
+# CONFIG_VIDEO_MXC_CSI_CAMERA: mx6s_capture.ko, it's csi adapt driver which is the input of v4l2 framework
+# CONFIG_MXC_CAMERA_OV5640_MIPI_V2: ov5640_camera_mipi_v2.ko, sensor ov5640 driver, the input of mipi
+# CONFIG_MXC_MIPI_CSI: mxc_mipi_csi.ko, mipi driver which get the sensor data and send data to csi
+# CONFIG_VIDEO_MXC_CAPTURE: only enable compile dir drivers/media/platform/mxc/capture/, no need mxc_v4l2_capture.c which used in imx6/7
+# linux bsp team will add new configure for mxc_v4l2_capture.c in lf-5.4 branch.
+# CONFIG_SND_SOC_WM8524: snd-soc-wm8524.ko, wm8524 audio codec
+# CONFIG_SND_IMX_SOC: SoC Audio for Freescale i.MX CPUs
+# CONFIG_SND_SIMPLE_CARD: snd-soc-simple-card.ko snd-soc-simple-card-utils.ko, connect cpu and codec
+# CONFIG_SND_SOC_FSL_SAI: snd-soc-fsl-sai.ko, audio cpu, privide i2s
+# CONFIG_IMX_SDMA: imx-sdma.ko, sdma used for audio
+# CONFIG_SND_SOC_FSL_MICFIL: snd-soc-fsl-micfil.ko, used in audio mic
+# CONFIG_SND_SOC_IMX_MICFIL: snd-soc-imx-micfil.ko, used in audio mic
+# CONFIG_SND_SOC_IMX_PCM_DMA: imx-pcm-dma-common.ko, used in fsl_micfil
+# CONFIG_MXC_HANTRO: hantrodec.ko vpu decoder
+# CONFIG_MXC_HANTRO_845: hantrodec_845s.ko vpu decodder
+# CONFIG_MXC_HANTRO_845_H1: hx280enc.ko vpu encoder
+# CONFIG_RTC_DRV_SNVS: rtc-snvs.ko, snvs driver
+# CONFIG_FEC: fec.ko which depend on pps_core.ko and ptp.ko
+# CONFIG_AT803X_PHY: ethernet phy driver at803x.ko
+
+ifeq ($(IMX8MN_USES_GKI),true)
 BOARD_VENDOR_KERNEL_MODULES += \
+    $(KERNEL_OUT)/drivers/mxc/gpu-viv/galcore.ko \
+    $(KERNEL_OUT)/drivers/leds/leds-gpio.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/mx6s_capture.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/mxc_mipi_csi.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/ov5640_camera_mipi_v2.ko \
+    $(KERNEL_OUT)/drivers/dma/imx-sdma.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma-v2.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-micfil.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-micfil.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-asrc.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-easrc.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-sai.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-spdif.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-spdif.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-wm8524.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-ak5558.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-ak4458.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-ak4458.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-ak5558.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-bt-sco.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-hdmi-codec.ko \
+    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card.ko \
+    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card-utils.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-audmux.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-asoc-card.ko \
+    $(KERNEL_OUT)/drivers/rtc/rtc-snvs.ko \
+    $(KERNEL_OUT)/drivers/pps/pps_core.ko \
+    $(KERNEL_OUT)/drivers/ptp/ptp.ko \
+    $(KERNEL_OUT)/drivers/net/phy/at803x.ko \
+    $(KERNEL_OUT)/drivers/net/ethernet/freescale/fec.ko
+else
+BOARD_VENDOR_KERNEL_MODULES +=     \
     $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko
+endif
+
+# CONFIG_ZRAM: zram.ko, lzo.ko, lzo-rle.ko compressed ram using LZ coding.
+# CONFIG_ZSMALLOC: zsmalloc.ko
+# CONFIG_CLK_IMX8MM: clk-imx8mm.ko
+# CONFIG_IMX8M_PM_DOMAINS: imx8m_pm_domains.ko, this driver still not upstream
+# CONFIG_PINCTRL_IMX8MM: pinctrl-imx8mm.ko
+# CONFIG_SERIAL_IMX: imx.ko
+# CONFIG_IMX2_WDT: imx2_wdt.ko
+# CONFIG_MFD_ROHM_BD718XX: rohm-bd718x7.ko
+# CONFIG_GPIO_MXC: gpio-generic.ko gpio-mxc.ko
+# CONFIG_MMC_SDHCI_ESDHC_IMX: sdhci-esdhc-imx.ko cqhci.ko
+# CONFIG_I2C_IMX:i2c-imx.ko
+# CONFIG_DMABUF_HEAPS_SYSTEM: system_heap.ko
+# CONFIG_DMABUF_HEAPS_CMA: cma_heap.ko
+# CONFIG_DMABUF_IMX: dma-buf-imx.ko
+# depend on clk module: reset-dispmix.ko, it will been select as m if clk build as m.
+# CONFIG_KEYBOARD_SNVS_PWRKEY: snvs_pwrkey.ko, snvs power key driver
+# CONFIG_IMX_LCDIF_CORE: imx-lcdif-core.ko
+# CONFIG_DRM_IMX: imxdrm.ko imx-lcdif-crtc.ko
+# CONFIG_DRM_SEC_MIPI_DSIM: sec-dsim.ko
+# CONFIG_DRM_IMX_SEC_DSIM: sec_mipi_dsim-imx.ko
+# CONFIG_DRM_I2C_ADV7511: adv7511.ko
+# CONFIG_USB_CHIPIDEA_OF: usbmisc_imx.ko ci_hdrc_imx.ko
+# CONFIG_USB_CHIPIDEA: ci_hdrc.ko
+# CONFIG_NOP_USB_XCEIV: phy-generic.ko
+# CONFIG_TYPEC_TCPCI: tcpci.ko
+# CONFIG_USB_EHCI_HCD: ehci-hcd.ko
+# CONFIG_VIDEO_IMX_CAPTURE: imx8-media-dev.ko, imx8-isi-cap.ko, imx8-isi-hw.ko, imx8-isi-m2m.ko, imx8-mipi-csi2-sam.ko, imx isi and mipi driver
+# CONFIG_CFG80211: cfg80211.ko, cfg80211 - wireless configuration API
+# CONFIG_MAC80211: mac80211.ko, Generic IEEE 802.11 Networking Stack
+
+ifeq ($(IMX8MN_USES_GKI),true)
+BOARD_VENDOR_RAMDISK_KERNEL_MODULES += \
+    $(KERNEL_OUT)/mm/zsmalloc.ko \
+    $(KERNEL_OUT)/crypto/lzo.ko \
+    $(KERNEL_OUT)/crypto/lzo-rle.ko \
+    $(KERNEL_OUT)/drivers/block/zram/zram.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/soc-imx8m.ko \
+    $(KERNEL_OUT)/drivers/clk/imx/mxc-clk.ko \
+    $(KERNEL_OUT)/drivers/clk/imx/clk-imx8mn.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/imx8m_pm_domains.ko \
+    $(KERNEL_OUT)/drivers/clocksource/timer-imx-sysctr.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/busfreq-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx.ko \
+    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx8mn.ko \
+    $(KERNEL_OUT)/drivers/tty/serial/imx.ko \
+    $(KERNEL_OUT)/drivers/watchdog/imx2_wdt.ko \
+    $(KERNEL_OUT)/drivers/regulator/pca9450-regulator.ko \
+    $(KERNEL_OUT)/drivers/gpio/gpio-mxc.ko \
+    $(KERNEL_OUT)/drivers/gpio/gpio-pca953x.ko \
+    $(KERNEL_OUT)/drivers/thermal/device_cooling.ko \
+    $(KERNEL_OUT)/drivers/thermal/imx8mm_thermal.ko \
+    $(KERNEL_OUT)/drivers/perf/fsl_imx8_ddr_perf.ko \
+    $(KERNEL_OUT)/drivers/cpufreq/cpufreq-dt.ko \
+    $(KERNEL_OUT)/drivers/cpufreq/imx-cpufreq-dt.ko \
+    $(KERNEL_OUT)/drivers/nvmem/nvmem-imx-ocotp.ko \
+    $(KERNEL_OUT)/drivers/pwm/pwm-imx27.ko \
+    $(KERNEL_OUT)/drivers/mmc/host/sdhci-esdhc-imx.ko \
+    $(KERNEL_OUT)/drivers/mmc/host/cqhci.ko \
+    $(KERNEL_OUT)/drivers/i2c/busses/i2c-imx.ko \
+    $(KERNEL_OUT)/drivers/spi/spidev.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-bitbang.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-nxp-fspi.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-imx.ko \
+    $(KERNEL_OUT)/lib/stmp_device.ko \
+    $(KERNEL_OUT)/drivers/dma/mxs-dma.ko \
+    $(KERNEL_OUT)/drivers/mmc/core/pwrseq_simple.ko \
+    $(KERNEL_OUT)/drivers/mailbox/imx-mailbox.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/system_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/cma_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/dma-buf-imx.ko \
+    $(KERNEL_OUT)/drivers/reset/gpio-reset.ko \
+    $(KERNEL_OUT)/drivers/reset/reset-imx7.ko \
+    $(KERNEL_OUT)/drivers/input/keyboard/snvs_pwrkey.ko \
+    $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko \
+    $(KERNEL_OUT)/drivers/reset/reset-dispmix.ko \
+    $(KERNEL_OUT)/drivers/gpu/imx/lcdif/imx-lcdif-core.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/adv7511/adv7511.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/sec-dsim.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/imxdrm.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/lcdif/imx-lcdif-crtc.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/panel/panel-raydium-rm67191.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/sec_mipi_dsim-imx.ko \
+    $(KERNEL_OUT)/drivers/usb/chipidea/usbmisc_imx.ko \
+    $(KERNEL_OUT)/drivers/usb/common/ulpi.ko \
+    $(KERNEL_OUT)/drivers/usb/chipidea/ci_hdrc_imx.ko \
+    $(KERNEL_OUT)/drivers/usb/chipidea/ci_hdrc.ko \
+    $(KERNEL_OUT)/drivers/usb/phy/phy-generic.ko \
+    $(KERNEL_OUT)/drivers/power/supply/dummy_battery.ko \
+    $(KERNEL_OUT)/drivers/media/rc/gpio-ir-recv.ko \
+    $(KERNEL_OUT)/drivers/media/v4l2-core/v4l2-fwnode.ko \
+    $(KERNEL_OUT)/drivers/media/i2c/ov5640.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-capture.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-cap.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-hw.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-m2m.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-mipi-csi2-sam.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-ipc.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-core.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-irq.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-log.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-virtio.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-media-dev.ko \
+    $(KERNEL_OUT)/net/wireless/cfg80211.ko \
+    $(KERNEL_OUT)/net/mac80211/mac80211.ko
+endif
 
 # -------@block_memory-------
 #Enable this to config 1GB ddr on evk_imx8mn
@@ -18,4 +180,3 @@ LOW_MEMORY := false
 # -------@block_security-------
 #Enable this to include trusty support
 PRODUCT_IMX_TRUSTY := true
-
diff --git a/imx8m/vp6820_8mn/UbootKernelBoardConfig.mk b/imx8m/vp6820_8mn/UbootKernelBoardConfig.mk
index 670f9363..f5cb4c7a 100644
--- a/imx8m/vp6820_8mn/UbootKernelBoardConfig.mk
+++ b/imx8m/vp6820_8mn/UbootKernelBoardConfig.mk
@@ -22,7 +22,13 @@ TARGET_BOOTLOADER_CONFIG += imx8mn-ddr4-dual:vp6820_8mn_ddr4_evk_android_dual_de
 # u-boot target used by uuu for imx8mn_evk
 TARGET_BOOTLOADER_CONFIG += imx8mn-ddr4-evk-uuu-mic2g:vp6820_8mn_ddr4_evk_android_uuu_defconfig:signed
 
+ifeq ($(IMX8MN_USES_GKI),true)
+TARGET_KERNEL_DEFCONFIG := gki_defconfig
+TARGET_KERNEL_GKI_DEFCONF := imx8mn_gki.fragment
+else
 TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
+endif
+
 TARGET_KERNEL_ADDITION_DEFCONF := android_addition_defconfig
 TARGET_KERNEL_SECURE_DEFCONF ?= android_secure_defconfig
 
diff --git a/imx8m/vp6820_8mn/audio_policy_configuration.xml b/imx8m/vp6820_8mn/audio_policy_configuration.xml
index 61800f55..0e1194b0 100644
--- a/imx8m/vp6820_8mn/audio_policy_configuration.xml
+++ b/imx8m/vp6820_8mn/audio_policy_configuration.xml
@@ -14,7 +14,7 @@
      limitations under the License.
 -->
 
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
+<audioPolicyConfiguration version="7.0" xmlns:xi="http://www.w3.org/2001/XInclude">
     <globalConfiguration speaker_drc_enabled="true"/>
 
     <modules>
@@ -38,8 +38,8 @@
 
                 <mixPort name="primary input" role="sink">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
+                             samplingRates="8000 11025 16000 22050 24000 32000 44100 48000"
+                             channelMasks="AUDIO_CHANNEL_IN_MONO AUDIO_CHANNEL_IN_STEREO"/>
                 </mixPort>
             </mixPorts>
             <devicePorts>
@@ -81,7 +81,7 @@
         </module>
 
         <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
+        <xi:include href="a2dp_audio_policy_configuration_7_0.xml"/>
 
         <!-- Usb Audio HAL -->
         <xi:include href="usb_audio_policy_configuration.xml"/>
diff --git a/imx8m/vp6820_8mn/camera_config_imx8mn.json b/imx8m/vp6820_8mn/camera_config_imx8mn.json
index 31b1e298..30bda30d 100644
--- a/imx8m/vp6820_8mn/camera_config_imx8mn.json
+++ b/imx8m/vp6820_8mn/camera_config_imx8mn.json
@@ -6,6 +6,7 @@
   "hal_version": "3",
   "cam_blit_copy": "GPU_3D",
   "cam_blit_csc": "GPU_3D",
+  "use_cpu_encoder": "1",
 
   "camera_metadata": [
     {
@@ -22,8 +23,16 @@
       "PhysicalHeight": "2.7216",
       "FocalLength": "3.37",
       "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000"
+      "MinFrameDuration": "33333333",
+      "MaxFrameDuration": "300000000",
+      "MinFrameDurationBlob5M": "600000000",
+      "OmitFrame": [
+          {
+              "width": "2592",
+              "height": "1944",
+              "omit_num": "2"
+          }
+      ]
     }
   ]
 }
diff --git a/imx8m/vp6820_8mn/init.imx8mn.rc b/imx8m/vp6820_8mn/init.imx8mn.rc
index 4b2629ff..834e5745 100755
--- a/imx8m/vp6820_8mn/init.imx8mn.rc
+++ b/imx8m/vp6820_8mn/init.imx8mn.rc
@@ -32,7 +32,7 @@ on property:sys.boot_completed=1
     # Set up and down limit to 200us/200us
     write /sys/devices/system/cpu/cpufreq/schedutil/up_rate_limit_us 200
     write /sys/devices/system/cpu/cpufreq/schedutil/down_rate_limit_us 200
-    write /proc/sys/kernel/sched_util_clamp_min 512
+    write /proc/sys/kernel/sched_util_clamp_min_rt_default 512
 
 on property:sys.boot_completed=1
     # update cpuset now that processors are up
diff --git a/imx8m/vp6820_8mn/init.rc b/imx8m/vp6820_8mn/init.rc
index 14ba04bd..eae34823 100644
--- a/imx8m/vp6820_8mn/init.rc
+++ b/imx8m/vp6820_8mn/init.rc
@@ -46,29 +46,34 @@ on init && property:vendor.skip.charger_not_need=0
     # deattch the fbcon as hdmi hotplug conflict with fbcon
     write /sys/class/vtconsole/vtcon1/bind 0
 
-    chown system system /dev/stune/top-app/schedtune.boost
-    chmod 664 /dev/stune/top-app/schedtune.boost
-    chown system system /dev/stune/top-app/schedtune.prefer_idle
-    chmod 664 /dev/stune/top-app/schedtune.prefer_idle
-    chown system system /dev/stune/foreground/schedtune.boost
-    chmod 664 /dev/stune/foreground/schedtune.boost
-    chown system system /dev/stune/foreground/schedtune.prefer_idle
-    chmod 664 /dev/stune/foreground/schedtune.prefer_idle
-    chown system system /dev/stune/schedtune.boost
-    chmod 664 /dev/stune/schedtune.boost
-
-    # set default schedTune value for foreground/top-app (only affects EAS)
-    write /dev/stune/foreground/schedtune.boost 10
-    write /dev/stune/foreground/schedtune.prefer_idle 1
-    write /dev/stune/top-app/schedtune.boost 40
-    write /dev/stune/top-app/schedtune.prefer_idle 1
-    write /dev/stune/rt/schedtune.boost 50
-    write /dev/stune/rt/schedtune.prefer_idle 1
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.min
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.min
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/rt/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.min
+    chown system system /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/background/cpu.uclamp.max
+    chmod 664 /dev/cpuctl/background/cpu.uclamp.max
+
+    # set default uclamp value for foreground/top-app/rt/background (only affects EAS)
+    write /dev/cpuctl/foreground/cpu.uclamp.min 20
+    write /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/top-app/cpu.uclamp.min 50
+    write /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/rt/cpu.uclamp.min 60
+    write /dev/cpuctl/rt/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/background/cpu.uclamp.max 50
 
 on late-fs && property:vendor.skip.charger_not_need=0
     # Start keymaster/gatekeeper service
     start vendor.gatekeeper-1-0-${ro.boot.keystore}
-    start vendor.keymaster-4-0-${ro.boot.keystore}
+    start vendor.keymint-${ro.boot.keystore}
     setprop vendor.powerhal.init 1
 
     # Wait for keymaster
@@ -79,7 +84,6 @@ on late-fs && property:vendor.skip.charger_not_need=0
 on late-fs && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
     start vendor.oemlock-1-0
     start confirmationui-1-0
-    start securedisplayd-imx
 
 on early-boot && property:vendor.skip.charger_not_need=0
     # For vp6820_8mn, when swap used about 400M, upgrade the level.
@@ -95,9 +99,6 @@ on early-boot && property:vendor.skip.charger_not_need=0
 
     setprop camera.disable_zsl_mode 1
 
-    #Enable GPU 2D do CSC on imx8mn platform
-    setprop vendor.camera.2d.enable true
-
    # Tweak the mmc device read ahead buffer size
     write /sys/block/mmcblk1/queue/read_ahead_kb 2048
     write /sys/block/mmcblk2/queue/read_ahead_kb 2048
@@ -220,8 +221,6 @@ on post-fs && property:vendor.skip.charger_not_need=0
 
 on post-fs-data && property:vendor.skip.charger_not_need=0
     setprop vold.post_fs_data_done 1
-    # create temp node for secure storage proxy
-    mkdir /data/vendor/ss 0700 system system
 
     # tmp dir for opencl Compiler
     setprop vendor.TMPDIR /data/vendor/.opencl-cache
@@ -230,6 +229,7 @@ on post-fs-data && property:vendor.skip.charger_not_need=0
 on zygote-start && property:vendor.skip.charger_not_need=0
     # Create the directories used by the Wireless subsystem
     mkdir /data/vendor/wifi 0771 wifi wifi
+    mkdir /data/vendor/wifi/wifi_dumps 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
 
@@ -240,7 +240,9 @@ service early_init_sh /vendor/bin/init.insmod.sh /vendor/etc/early.init.cfg vend
     disabled
     oneshot
 
-on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+on post-fs-data && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+    # create temp node for secure storage proxy
+    mkdir /data/vendor/ss 0700 system system
     start storageproxyd
 
 service storageproxyd /vendor/bin/storageproxyd -p /data/vendor/ss -r /dev/mmcblk2rpmb -d /dev/trusty-ipc-dev0
@@ -252,3 +254,12 @@ on property:ro.boot.vendor.sysrq=1 && property:vendor.skip.charger_not_need=0
 # setenv append_bootargs androidboot.usb.debugging=1
 on property:ro.boot.usb.debugging=1
     setprop persist.sys.usb.config adb
+
+service confirmationui_ta_load /vendor/bin/trusty_apploader /vendor/firmware/tee/confirmationui.app
+    user root
+    group root system
+    disabled
+    oneshot
+
+on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+    start confirmationui_ta_load
diff --git a/imx8m/vp6820_8mn/init.recovery.nxp.rc b/imx8m/vp6820_8mn/init.recovery.nxp.rc
index 477be025..9a595c06 100644
--- a/imx8m/vp6820_8mn/init.recovery.nxp.rc
+++ b/imx8m/vp6820_8mn/init.recovery.nxp.rc
@@ -5,4 +5,4 @@ on init
     setprop sys.usb.configfs 1
 
 on post-fs-data
-    setprop sys.usb.controller "5b130000.usb"
+    setprop sys.usb.controller "ci_hdrc.0"
diff --git a/imx8m/vp6820_8mn/manifest.xml b/imx8m/vp6820_8mn/manifest.xml
index ea7deb5f..bbb248b5 100644
--- a/imx8m/vp6820_8mn/manifest.xml
+++ b/imx8m/vp6820_8mn/manifest.xml
@@ -1,5 +1,5 @@
 <manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
+    <kernel  target-level="6" />
     <hal format="hidl">
 	<name>android.hardware.graphics.allocator</name>
         <transport>hwbinder</transport>
@@ -19,28 +19,6 @@
             <instance>default</instance>
         </interface>
     </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>4.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.3</version>
-        <interface>
-            <name>ICryptoFactory</name>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-        </interface>
-        <fqname>@1.3::ICryptoFactory/clearkey</fqname>
-        <fqname>@1.3::IDrmFactory/clearkey</fqname>
-    </hal>
     <hal format="hidl">
         <name>android.hardware.gatekeeper</name>
         <transport>hwbinder</transport>
@@ -103,7 +81,7 @@
     <hal format="hidl">
         <name>android.hardware.audio</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+        <version>7.0</version>
         <interface>
             <name>IDevicesFactory</name>
             <instance>default</instance>
@@ -112,7 +90,7 @@
     <hal format="hidl">
         <name>android.hardware.audio.effect</name>
         <transport>hwbinder</transport>
-		<version>6.0</version>
+		<version>7.0</version>
         <interface>
             <name>IEffectsFactory</name>
             <instance>default</instance>
@@ -150,4 +128,20 @@
        <transport>hwbinder</transport>
        <fqname>@2.4::ICameraProvider/external/0</fqname>
     </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IKeyMintDevice/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IRemotelyProvisionedComponent/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.secureclock</name>
+       <fqname>ISecureClock/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.sharedsecret</name>
+       <fqname>ISharedSecret/default</fqname>
+    </hal>
 </manifest>
diff --git a/imx8m/vp6820_8mn/overlay/frameworks/base/core/res/res/values/config.xml b/imx8m/vp6820_8mn/overlay/frameworks/base/core/res/res/values/config.xml
index 416ce4ff..026bccba 100644
--- a/imx8m/vp6820_8mn/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/imx8m/vp6820_8mn/overlay/frameworks/base/core/res/res/values/config.xml
@@ -185,6 +185,12 @@
     <!-- This device is not "voice capable"; it's data-only. -->
     <bool name="config_voice_capable">false</bool>
 
+    <!-- Flag indicating whether the current device allows data.
+        If true, this means that the device supports data connectivity through
+        the telephony network.
+        This can be overridden to false for devices that support voice and/or sms . -->
+    <bool name="config_mobile_data_capable">false</bool>
+
     <!-- Boolean indicating whether system support sustained performance mode. -->
     <bool name="config_sustainedPerformanceModeSupported">true</bool>
 
diff --git a/imx8m/vp6820_8mn/powerhint_imx8mn.json b/imx8m/vp6820_8mn/powerhint_imx8mn.json
index 56c3da5d..c7f4c365 100644
--- a/imx8m/vp6820_8mn/powerhint_imx8mn.json
+++ b/imx8m/vp6820_8mn/powerhint_imx8mn.json
@@ -23,7 +23,7 @@
     },
     {
       "Name": "TASchedtuneBoost",
-      "Path": "/dev/stune/top-app/schedtune.boost",
+      "Path": "/dev/cpuctl/top-app/cpu.uclamp.min",
       "Values": [
         "60",
         "10"
diff --git a/imx8m/vp6820_8mn/required_hardware.xml b/imx8m/vp6820_8mn/required_hardware.xml
index f751b4ae..766e1843 100644
--- a/imx8m/vp6820_8mn/required_hardware.xml
+++ b/imx8m/vp6820_8mn/required_hardware.xml
@@ -31,4 +31,5 @@
     <feature name="android.software.companion_device_setup" />
     <feature name="android.software.autofill" />
     <feature name="android.software.secure_lock_screen" />
+    <feature name="android.hardware.keystore.app_attest_key" />
 </permissions>
diff --git a/imx8m/vp6820_8mn/task_profiles.json b/imx8m/vp6820_8mn/task_profiles.json
new file mode 100644
index 00000000..449a5054
--- /dev/null
+++ b/imx8m/vp6820_8mn/task_profiles.json
@@ -0,0 +1,644 @@
+{
+  "Attributes": [
+    {
+      "Name": "LowCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "background/cpus"
+    },
+    {
+      "Name": "HighCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "foreground/cpus"
+    },
+    {
+      "Name": "MaxCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "top-app/cpus"
+    },
+    {
+      "Name": "MemLimit",
+      "Controller": "memory",
+      "File": "memory.limit_in_bytes"
+    },
+    {
+      "Name": "MemSoftLimit",
+      "Controller": "memory",
+      "File": "memory.soft_limit_in_bytes"
+    },
+    {
+      "Name": "MemSwappiness",
+      "Controller": "memory",
+      "File": "memory.swappiness"
+    },
+    {
+      "Name": "UClampMin",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.min"
+    },
+    {
+      "Name": "UClampMax",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.max"
+    },
+    {
+      "Name": "UClampLatencySensitive",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.latency_sensitive"
+    },
+    {
+      "Name": "FreezerState",
+      "Controller": "freezer",
+      "File": "cgroup.freeze"
+    }
+  ],
+
+  "Profiles": [
+    {
+      "Name": "HighEnergySaving",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Frozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Unfrozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "RealtimePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "rt"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CameraServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NNApiHALPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "nnapi-hal"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CpuPolicySpread",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CpuPolicyPack",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "VrKernelCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/performance"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/performance"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityMax",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServiceCapacityRestricted",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "restricted"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CameraServiceCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "TimerSlackHigh",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "40000000"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "TimerSlackNormal",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "50000"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "SFMainPolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SFRenderEnginePolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "PerfBoost",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "50%",
+            "Clamp": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "PerfClamp",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "0",
+            "Clamp": "30%"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "16MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "150"
+
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "512MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "100"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SystemMemoryProcess",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "memory",
+            "Path": "system"
+          }
+        }
+      ]
+    }
+  ],
+
+  "AggregateProfiles": [
+    {
+      "Name": "SCHED_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "SCHED_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_SYSTEM",
+      "Profiles": [ "ServicePerformance", "LowIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_RT_APP",
+      "Profiles": [ "RealtimePerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "ProcessCapacityLow", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "CPUSET_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "ProcessCapacityHigh", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "ProcessCapacityMax", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_SYSTEM",
+      "Profiles": [ "ServiceCapacityLow", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_RESTRICTED",
+      "Profiles": [ "ServiceCapacityRestricted", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "Dex2OatBootComplete",
+      "Profiles": [ "SCHED_SP_BACKGROUND" ]
+    }
+  ]
+}
diff --git a/imx8m/vp6820_8mn/thermal_info_config_imx8mn.json b/imx8m/vp6820_8mn/thermal_info_config_imx8mn.json
index 758490bf..32aec548 100755
--- a/imx8m/vp6820_8mn/thermal_info_config_imx8mn.json
+++ b/imx8m/vp6820_8mn/thermal_info_config_imx8mn.json
@@ -12,9 +12,9 @@
                 80.0,
                 82.0,
                 86.0,
-                90.0,
+                88.0,
                 "NAN",
-                "NAN"
+                90.0
             ],
             "HotHysteresis":[
                 2.0,
@@ -39,7 +39,7 @@
                 "NAN",
                 "NAN",
                 "NAN",
-                "NAN"
+                100.0
             ],
             "VrThreshold":"NAN",
             "Multiplier":0.001,
diff --git a/imx8m/vp6820_8mn/ueventd.nxp.rc b/imx8m/vp6820_8mn/ueventd.nxp.rc
index 0c2537a7..f996e214 100644
--- a/imx8m/vp6820_8mn/ueventd.nxp.rc
+++ b/imx8m/vp6820_8mn/ueventd.nxp.rc
@@ -11,6 +11,9 @@
 /dev/mmcblk2rpmb    0600   system     system
 /dev/trusty-ipc-dev0      0660   system     drmrpc
 /dev/block/pmem0          0660    system    system
+/dev/dma_heap/reserved    0666   system     system
+/dev/dma_heap/reserved-uncached    0666   system     system
+/dev/dma_heap/secure      0666   system     system
 
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_temp 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_temp 0660 system system
@@ -18,6 +21,8 @@
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_hyst 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_hyst 0660 system system
 
+/dev/dmabuf_imx           0664   system     system
+
 #quectel port
 /dev/ttyUSB*              0660   radio        radio
 /dev/cdc-wdm*             0660   radio        radio
diff --git a/imx8m/vp6820_8mn/vp6820_8mn.mk b/imx8m/vp6820_8mn/vp6820_8mn.mk
index 6fcf48b1..64ddf3e9 100644
--- a/imx8m/vp6820_8mn/vp6820_8mn.mk
+++ b/imx8m/vp6820_8mn/vp6820_8mn.mk
@@ -25,6 +25,8 @@ DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
 
 PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
 
+PRODUCT_VENDOR_PROPERTIES += ro.soc.manufacturer=nxp
+PRODUCT_VENDOR_PROPERTIES += ro.soc.model=IMX8MN
 # -------@block_treble-------
 PRODUCT_FULL_TREBLE_OVERRIDE := true
 
@@ -52,6 +54,10 @@ PRODUCT_PACKAGES += \
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/thermal_info_config_imx8mn.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mn.json
 
+# Task Profiles
+PRODUCT_COPY_FILES += \
+    $(IMX_DEVICE_PATH)/task_profiles.json:$(TARGET_COPY_OUT_VENDOR)/etc/task_profiles.json
+
 # -------@block_app-------
 #Enable this to choose 32 bit user space build
 IMX8_BUILD_32BIT_ROOTFS := false
@@ -67,6 +73,10 @@ PRODUCT_COPY_FILES += \
 # Enable this to support vendor boot and boot header v3, this would be a MUST for GKI
 TARGET_USE_VENDOR_BOOT ?= true
 
+ifeq ($(IMX8MN_USES_GKI),true)
+  BOARD_RAMDISK_USE_LZ4 := true
+endif
+
 # We load the fstab from device tree so this is not needed, but since no kernel modules are installed to vendor
 # boot ramdisk so far, we need this step to generate the vendor-ramdisk folder or build process would fail. This
 # can be deleted once we figure out what kernel modules should be put into the vendor boot ramdisk.
@@ -86,7 +96,11 @@ PRODUCT_COPY_FILES += \
 TARGET_USE_DYNAMIC_PARTITIONS ?= true
 
 ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  ifeq ($(TARGET_USE_VENDOR_BOOT),true)
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota/compression.mk)
+  else
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  endif
   PRODUCT_USE_DYNAMIC_PARTITIONS := true
   BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
   BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
@@ -143,22 +157,21 @@ endif
 # Keymaster HAL
 ifeq ($(PRODUCT_IMX_TRUSTY),true)
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service.trusty
+    android.hardware.security.keymint-service.trusty
 endif
 
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service-imx
+    android.hardware.security.keymint-service-imx
 
 # Confirmation UI
 ifeq ($(PRODUCT_IMX_TRUSTY),true)
 PRODUCT_PACKAGES += \
-    android.hardware.confirmationui@1.0-service.trusty \
-    securedisplayd-imx
+    android.hardware.confirmationui@1.0-service.trusty
 endif
 
-#DRM Widevine 1.2 L3 support
+#DRM Clearkey 1.4 L3 support
 PRODUCT_PACKAGES += \
-    android.hardware.drm@1.3-service.clearkey \
+    android.hardware.drm@1.4-service.clearkey \
 
 # new gatekeeper HAL
 PRODUCT_PACKAGES += \
@@ -212,11 +225,6 @@ PRODUCT_COPY_FILES += \
     $(CONFIG_REPO_PATH)/common/audio-json/rt5640_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/rt5640_config.json \
     $(CONFIG_REPO_PATH)/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
 
-PRODUCT_PACKAGES += \
-    android.hardware.audio@6.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@6.0-impl:32
-
 PRODUCT_COPY_FILES += \
     $(FSL_PROPRIETARY_PATH)/fsl-proprietary/mcu-sdk/imx8mn/imx8mn_mcu_demo.img:imx8mn_mcu_demo.img \
     $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
@@ -373,7 +381,6 @@ ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
 ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
 INSTALL_64BIT_LIBRARY := true
 endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
 endif
 
 # -------@block_memory-------
@@ -426,7 +433,8 @@ PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
     frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
     frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.software.vulkan.deqp.level-2020-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level-2020-03-01.xml \
+    frameworks/native/data/etc/android.software.vulkan.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level.xml \
+    frameworks/native/data/etc/android.software.opengles.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.opengles.deqp.level.xml \
     frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
     frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
     frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
@@ -442,6 +450,10 @@ PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.software.activities_on_secondary_displays.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.activities_on_secondary_displays.xml \
     frameworks/native/data/etc/android.software.picture_in_picture.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.picture_in_picture.xml
 
+# trusty loadable apps
+PRODUCT_COPY_FILES += \
+    vendor/nxp/fsl-proprietary/uboot-firmware/imx8m/confirmationui.app:/vendor/firmware/tee/confirmationui.app
+
 #AMS
 PRODUCT_PACKAGES += \
     deviceadmin \
diff --git a/imx8m/vp6820_8mp/AndroidBoard.mk b/imx8m/vp6820_8mp/AndroidBoard.mk
deleted file mode 100644
index 75193153..00000000
--- a/imx8m/vp6820_8mp/AndroidBoard.mk
+++ /dev/null
@@ -1,9 +0,0 @@
-LOCAL_PATH := $(call my-dir)
-
-include $(CONFIG_REPO_PATH)/common/build/dtbo.mk
-include $(CONFIG_REPO_PATH)/common/build/imx-recovery.mk
-include $(CONFIG_REPO_PATH)/common/build/gpt.mk
-#TODO add imx8mp target
-include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/media-profile/media-profile.mk
-include $(FSL_PROPRIETARY_PATH)/fsl-proprietary/sensor/fsl-sensor.mk
--include $(IMX_MEDIA_CODEC_XML_PATH)/mediacodec-profile/mediacodec-profile.mk
diff --git a/imx8m/vp6820_8mp/AndroidUboot.mk b/imx8m/vp6820_8mp/AndroidUboot.mk
deleted file mode 100644
index cfb66ae6..00000000
--- a/imx8m/vp6820_8mp/AndroidUboot.mk
+++ /dev/null
@@ -1,41 +0,0 @@
-# uboot.imx in android combine scfw.bin and uboot.bin
-MAKE += SHELL=/bin/bash
-
-ifneq ($(AARCH64_GCC_CROSS_COMPILE),)
-  ATF_CROSS_COMPILE := $(strip $(AARCH64_GCC_CROSS_COMPILE))
-else
-  $(error shell env AARCH64_GCC_CROSS_COMPILE is not set)
-endif
-
-define build_imx_uboot
-	$(hide) echo Building i.MX U-Boot with firmware; \
-	cp $(UBOOT_OUT)/u-boot-nodtb.$(strip $(1)) $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(UBOOT_OUT)/spl/u-boot-spl.bin  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(UBOOT_OUT)/tools/mkimage  $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/mkimage_uboot; \
-	cp $(UBOOT_OUT)/arch/arm/dts/imx8mp-evk.dtb $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	cp $(FSL_PROPRIETARY_PATH)/linux-firmware-imx/firmware/ddr/synopsys/lpddr4_pmu_train* $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/.; \
-	$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ PLAT=`echo $(2) | cut -d '-' -f1` clean; \
-	if [ `echo $(2) | cut -d '-' -f3` = "trusty" ]; then \
-		cp $(FSL_PROPRIETARY_PATH)/fsl-proprietary/uboot-firmware/imx8m/tee-imx8mp.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B SPD=trusty 1>/dev/null || exit 1; \
-	else \
-		if [ -f $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin ] ; then \
-			rm -rf $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/tee.bin; \
-		fi; \
-		$(MAKE) -C $(IMX_PATH)/arm-trusted-firmware/ CROSS_COMPILE="$(ATF_CROSS_COMPILE)" PLAT=`echo $(2) | cut -d '-' -f1` bl31 -B 1>/dev/null || exit 1; \
-	fi; \
-	cp $(IMX_PATH)/arm-trusted-firmware/build/`echo $(2) | cut -d '-' -f1`/release/bl31.bin $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/bl31.bin; \
-	$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ clean; \
-	if [ `echo $(2) | rev | cut -d '-' -f1 | rev` = "dual" ]; then \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MP flash_evk_no_hdmi_dual_bootloader || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MP PRINT_FIT_HAB_OFFSET=0x0 print_fit_hab || exit 1; \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/flash.bin $(UBOOT_COLLECTION)/spl-$(strip $(2)).bin; \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/u-boot-ivt.itb $(UBOOT_COLLECTION)/bootloader-$(strip $(2)).img; \
-	else \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MP flash_evk || exit 1; \
-		$(MAKE) -C $(IMX_MKIMAGE_PATH)/imx-mkimage/ SOC=iMX8MP print_fit_hab || exit 1; \
-		cp $(IMX_MKIMAGE_PATH)/imx-mkimage/iMX8M/flash.bin $(UBOOT_COLLECTION)/u-boot-$(strip $(2)).imx; \
-	fi;
-endef
-
-
diff --git a/imx8m/vp6820_8mp/BoardConfig.mk b/imx8m/vp6820_8mp/BoardConfig.mk
deleted file mode 100644
index b9d41981..00000000
--- a/imx8m/vp6820_8mp/BoardConfig.mk
+++ /dev/null
@@ -1,194 +0,0 @@
-# -------@block_infrastructure-------
-#
-# Product-specific compile-time definitions.
-#
-
-include $(CONFIG_REPO_PATH)/imx8m/BoardConfigCommon.mk
-
-# -------@block_common_config-------
-#
-# SoC-specific compile-time definitions.
-#
-
-BOARD_SOC_TYPE := IMX8MP
-BOARD_SOM_TYPE := a200
-BOARD_TYPE := DEVBOARD
-BOARD_MAIN_DISPLAY_ROTATION := 0
-BOARD_HAVE_VPU := true
-BOARD_VPU_TYPE := hantro
-HAVE_FSL_IMX_GPU2D := false
-HAVE_FSL_IMX_GPU3D := true
-HAVE_FSL_IMX_PXP := false
-TARGET_USES_HWC2 := true
-TARGET_HAVE_VULKAN := true
-
-SOONG_CONFIG_IMXPLUGIN += \
-                        BOARD_VPU_TYPE
-
-SOONG_CONFIG_IMXPLUGIN_BOARD_SOC_TYPE = IMX8MP
-SOONG_CONFIG_IMXPLUGIN_BOARD_HAVE_VPU = true
-SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_TYPE = hantro
-SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_ONLY = false
-
-
-
-# -------@block_memory-------
-USE_ION_ALLOCATOR := true
-USE_GPU_ALLOCATOR := false
-
-# -------@block_storage-------
-
-TARGET_USERIMAGES_USE_EXT4 := true
-
-# use sparse image.
-TARGET_USERIMAGES_SPARSE_EXT_DISABLED := false
-
-# Support gpt
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  BOARD_BPT_INPUT_FILES += $(CONFIG_REPO_PATH)/common/partition/device-partitions-14.4GB-ab_super.bpt
-  ADDITION_BPT_PARTITION = partition-table-28GB:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab_super.bpt \
-                           partition-table-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-14.4GB-ab-dual-bootloader_super.bpt \
-                           partition-table-28GB-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab-dual-bootloader_super.bpt
-else
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    BOARD_BPT_INPUT_FILES += $(CONFIG_REPO_PATH)/common/partition/device-partitions-13GB-ab-no-product.bpt
-    ADDITION_BPT_PARTITION = partition-table-28GB:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab-no-product.bpt \
-                             partition-table-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-13GB-ab-dual-bootloader-no-product.bpt \
-                             partition-table-28GB-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab-dual-bootloader-no-product.bpt
-  else
-    BOARD_BPT_INPUT_FILES += $(CONFIG_REPO_PATH)/common/partition/device-partitions-14.4GB-ab.bpt
-    ADDITION_BPT_PARTITION = partition-table-28GB:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab.bpt \
-                             partition-table-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-14.4GB-ab-dual-bootloader.bpt \
-                             partition-table-28GB-dual:$(CONFIG_REPO_PATH)/common/partition/device-partitions-28GB-ab-dual-bootloader.bpt
-  endif
-endif
-
-LOWER_BOARD_TYPE  = $(shell echo $(BOARD_TYPE) | tr A-Z a-z)
-LOWER_BOARD_SOC_TYPE  = $(shell echo $(BOARD_SOC_TYPE) | tr A-Z a-z)
-BOARD_PREBUILT_DTBOIMAGE := $(OUT_DIR)/target/product/$(PRODUCT_DEVICE)/dtbo-$(BOARD_SOM_TYPE)-$(LOWER_BOARD_TYPE).img
-
-BOARD_USES_METADATA_PARTITION := true
-BOARD_ROOT_EXTRA_FOLDERS += metadata
-
-# -------@block_security-------
-ENABLE_CFI=false
-
-BOARD_AVB_ENABLE := true
-BOARD_AVB_ALGORITHM := SHA256_RSA2048
-# The testkey_rsa4096.pem is copied from external/avb/test/data/testkey_rsa4096.pem
-BOARD_AVB_KEY_PATH := $(CONFIG_REPO_PATH)/common/security/idt_testkey_rsa2048.pem
-
-#BOARD_AVB_BOOT_KEY_PATH := external/avb/test/data/testkey_rsa2048.pem
-#BOARD_AVB_BOOT_ALGORITHM := SHA256_RSA2048
-#BOARD_AVB_BOOT_ROLLBACK_INDEX_LOCATION := 2
-
-# -------@block_treble-------
-# Vendor Interface manifest and compatibility
-ifeq ($(POWERSAVE),true)
-    DEVICE_MANIFEST_FILE := $(IMX_DEVICE_PATH)/manifest_powersave.xml
-else
-    DEVICE_MANIFEST_FILE := $(IMX_DEVICE_PATH)/manifest.xml
-endif
-ifneq (,$(filter userdebug,$(TARGET_BUILD_VARIANT)))
-DEVICE_MANIFEST_FILE += $(IMX_DEVICE_PATH)/manifest_userdebug.xml
-endif
-
-DEVICE_MATRIX_FILE := $(IMX_DEVICE_PATH)/compatibility_matrix.xml
-DEVICE_FRAMEWORK_COMPATIBILITY_MATRIX_FILE := $(IMX_DEVICE_PATH)/device_framework_matrix.xml
-
-# -------@block_wifi-------
-# NXP 8997 WIFI
-BOARD_WLAN_DEVICE            := nxp
-WPA_SUPPLICANT_VERSION       := VER_0_8_X
-BOARD_WPA_SUPPLICANT_DRIVER  := NL80211
-BOARD_HOSTAPD_DRIVER         := NL80211
-BOARD_HOSTAPD_PRIVATE_LIB               := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
-BOARD_WPA_SUPPLICANT_PRIVATE_LIB        := lib_driver_cmd_$(BOARD_WLAN_DEVICE)
-
-WIFI_HIDL_FEATURE_DUAL_INTERFACE := true
-# -------@block_bluetooth-------
-# NXP 8997 BT
-BOARD_HAVE_BLUETOOTH_NXP := true
-BOARD_BLUETOOTH_BDROID_BUILDCFG_INCLUDE_DIR := $(IMX_DEVICE_PATH)/bluetooth
-
-# -------@block_sensor-------
-BOARD_USE_ST_SENSOR_INPUT := true
-
-# -------@block_kernel_bootimg-------
-BOARD_KERNEL_BASE := 0x40400000
-
-CMASIZE=960M
-# NXP default config
-BOARD_KERNEL_CMDLINE := init=/init androidboot.console=ttymxc1 androidboot.hardware=nxp firmware_class.path=/vendor/firmware loop.max_part=7
-
-# memory config
-BOARD_KERNEL_CMDLINE += transparent_hugepage=never
-BOARD_KERNEL_CMDLINE += swiotlb=65536
-
-# display config
-BOARD_KERNEL_CMDLINE += androidboot.lcd_density=240 androidboot.primary_display=imx-drm
-
-# wifi config
-ifeq ($(POWERSAVE),true)
-    BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN moal.mod_para=wifi_mod_para_powersave.conf
-else
-    BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN moal.mod_para=wifi_mod_para.conf
-endif
-
-# low memory device build config
-ifeq ($(LOW_MEMORY),true)
-BOARD_KERNEL_CMDLINE += cma=320M@0x400M-0xb80M androidboot.displaymode=720p galcore.contiguousSize=33554432
-else
-BOARD_KERNEL_CMDLINE += cma=$(CMASIZE)@0x400M-0x1000M
-endif
-
-# powersave config
-ifeq ($(POWERSAVE),true)
-    BOARD_KERNEL_CMDLINE += androidboot.powersave.usb=true
-endif
-
-ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-BOARD_KERNEL_CMDLINE += androidboot.vendor.sysrq=1
-endif
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    TARGET_BOARD_DTS_CONFIG := imx8mp:imx8mp-evk-no-product.dtb
-  else
-    # Default dual basler
-    TARGET_BOARD_DTS_CONFIG := imx8mp:imx8mp-evk-dual-basler.dtb
-    # basler + ov5640
-    TARGET_BOARD_DTS_CONFIG += imx8mp-basler-ov5640:imx8mp-evk-basler-ov5640.dtb
-    # Only ov5640
-    TARGET_BOARD_DTS_CONFIG += imx8mp-ov5640:imx8mp-evk.dtb
-    # Only basler
-    TARGET_BOARD_DTS_CONFIG += imx8mp-basler:imx8mp-evk-basler.dtb
-    # Used to support mcu image
-    TARGET_BOARD_DTS_CONFIG += imx8mp-rpmsg:imx8mp-evk-rpmsg.dtb
-    # Support LVDS interface
-    TARGET_BOARD_DTS_CONFIG += imx8mp-lvds:imx8mp-evk-it6263-lvds-dual-channel.dtb
-    # Support LVDS panel
-    TARGET_BOARD_DTS_CONFIG += imx8mp-lvds-panel:imx8mp-evk-jdi-wuxga-lvds-panel.dtb
-    # Support MIPI panel
-    TARGET_BOARD_DTS_CONFIG += imx8mp-mipi-panel:imx8mp-evk-rm67191.dtb
-    #Used to support powersave
-    TARGET_BOARD_DTS_CONFIG += imx8mp-powersave:imx8mp-evk-powersave.dtb
-    #Used to support powersave and mcu image
-    TARGET_BOARD_DTS_CONFIG += imx8mp-powersave-non-rpmsg:imx8mp-evk-powersave-non-rpmsg.dtb
-  endif
-else # no dynamic parition feature
-  ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
-    TARGET_BOARD_DTS_CONFIG := imx8mp:imx8mp-evk-no-product-no-dynamic_partition.dtb
-  else
-    TARGET_BOARD_DTS_CONFIG := imx8mp:imx8mp-evk-no-dynamic_partition.dtb
-  endif
-endif
-
-ALL_DEFAULT_INSTALLED_MODULES += $(BOARD_VENDOR_KERNEL_MODULES)
-
-# -------@block_sepolicy-------
-BOARD_SEPOLICY_DIRS := \
-       $(CONFIG_REPO_PATH)/imx8m/sepolicy \
-       $(IMX_DEVICE_PATH)/sepolicy
-
-BOARD_PLAT_PRIVATE_SEPOLICY_DIR := $(CONFIG_REPO_PATH)/imx8m/sepolicy_system/private
diff --git a/imx8m/vp6820_8mp/SharedBoardConfig.mk b/imx8m/vp6820_8mp/SharedBoardConfig.mk
deleted file mode 100644
index 19c271b6..00000000
--- a/imx8m/vp6820_8mp/SharedBoardConfig.mk
+++ /dev/null
@@ -1,211 +0,0 @@
-# -------@block_kernel_bootimg-------
-KERNEL_NAME := Image
-TARGET_KERNEL_ARCH := arm64
-#IMX8MP_USES_GKI := true
-
-#NXP 8997 wifi driver module
-BOARD_VENDOR_KERNEL_MODULES += \
-    $(TARGET_OUT_INTERMEDIATES)/MXMWIFI_OBJ/mlan.ko \
-    $(TARGET_OUT_INTERMEDIATES)/MXMWIFI_OBJ/moal.ko
-
-# CONFIG_IMX_SDMA: imx-sdma.ko, sdma used for audio
-# CONFIG_SND_SOC_IMX_PCM_DMA: imx-pcm-dma-common.ko, used for fsl_micfil
-# CONFIG_SND_SOC_IMX_MICFIL: snd-soc-fsl-micfil.ko snd-soc-imx-micfil.ko, used for fsl_micfil
-# CONFIG_SND_SOC_FSL_EASRC: snd-soc-fsl-easrc.ko, used for audio
-# CONFIG_SND_IMX_SOC: snd-soc-fsl-sai.ko snd-soc-fsl-utils.ko, imx core audio
-# CONFIG_DRM_DW_HDMI_CEC: dw-hdmi-cec.ko, used for hdmi audio
-# CONFIG_DRM_DW_HDMI_GP_AUDIO: dw-hdmi-gp-audio.ko, used for hdmi audio
-# CONFIG_SND_SOC_IMX_CDNHDMI: snd-soc-hdmi-codec.ko snd-soc-imx-cdnhdmi.ko snd-soc-fsl-aud2htx.ko, used for hdmi audio
-# CONFIG_SND_SOC_IMX_WM8960: snd-soc-wm8960.ko snd-soc-imx-wm8960.ko, wm8960 audio driver
-# CONFIG_SND_SOC_BT_SCO: snd-soc-bt-sco.ko, bt sco driver
-# CONFIG_SND_SIMPLE_CARD: snd-soc-simple-card-utils.ko snd-soc-simple-card.ko, simple audio card used for bt sco
-# CONFIG_RTC_DRV_SNVS: rtc-snvs.ko, snvs rtc driver
-# CONFIG_STAGING_MEDIA: able to build drivers/staging/media/
-# CONFIG_IMX_MBOX: imx-mailbox.ko, imx mailbox driver
-# CONFIG_I2C_RPBUS: virtio_rpmsg_bus.ko, virtio rpmsg bus driver
-# CONFIG_IMX_REMOTEPROC: imx_rproc.ko, remote proc driver
-# CONFIG_SND_SOC_IMX_RPMSG: imx-pcm-rpmsg.ko snd-soc-fsl-rpmsg-i2s.ko imx-i2s-rpmsg.ko, rpmsg audio driver
-# CONFIG_SND_SOC_FSL_DSP: snd-soc-fsl-dsp.ko snd-soc-fsl-dsp-audiomix.ko, dsp audio driver
-# CONFIG_MXC_HANTRO_VC8000E: hx280enc_vc8000e.ko, vpu encoder driver
-# CONFIG_MXC_HANTRO_845: hantrodec_845s.ko, vpu decoder driver
-
-ifeq ($(IMX8MP_USES_GKI),true)
-BOARD_VENDOR_KERNEL_MODULES += \
-    $(KERNEL_OUT)/drivers/mxc/gpu-viv/galcore.ko \
-    $(KERNEL_OUT)/drivers/dma/imx-sdma.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma-v2.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-micfil.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-micfil.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-aud2htx.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-asrc.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-easrc.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-sai.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/bridge/synopsys/dw-hdmi-cec.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/bridge/synopsys/dw-hdmi-gp-audio.ko \
-    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-hdmi-codec.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-cdnhdmi.ko \
-    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-wm8960.ko \
-    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-bt-sco.ko \
-    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card-utils.ko \
-    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-audmux.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-asoc-card.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-dsp-audiomix.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-dsp.ko \
-    $(KERNEL_OUT)/drivers/mxc/hantro_vc8000e/hx280enc_vc8000e.ko \
-    $(KERNEL_OUT)/drivers/mxc/hantro_845/hantrodec_845s.ko \
-    $(KERNEL_OUT)/drivers/mailbox/imx-mailbox.ko \
-    $(KERNEL_OUT)/drivers/rpmsg/virtio_rpmsg_bus.ko \
-    $(KERNEL_OUT)/drivers/remoteproc/imx_rproc.ko \
-    $(KERNEL_OUT)/drivers/i2c/busses/i2c-rpmsg-imx.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-rpmsg.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-rpmsg-i2s.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/imx-i2s-rpmsg.ko \
-    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-rpmsg-wm8960.ko \
-    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-rpmsg-wm8960-i2c.ko \
-    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-rpmsg.ko \
-    $(KERNEL_OUT)/drivers/rtc/rtc-snvs.ko \
-    $(KERNEL_OUT)/drivers/pci/controller/dwc/pci-imx6.ko \
-    $(KERNEL_OUT)/drivers/net/phy/realtek.ko \
-    $(KERNEL_OUT)/drivers/ptp/ptp.ko \
-    $(KERNEL_OUT)/drivers/pps/pps_core.ko \
-    $(KERNEL_OUT)/drivers/net/ethernet/freescale/fec.ko
-else
-BOARD_VENDOR_KERNEL_MODULES +=     \
-    $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko
-endif
-
-# CONFIG_CLK_IMX8MP: clk-imx8mp.ko, clk-audiomix.ko, clk-gate-shared.ko, clk-hdmimix.ko
-# CONFIG_IMX8M_PM_DOMAINS: imx8m_pm_domains.ko
-# CONFIG_PINCTRL_IMX: pinctrl-imx.ko
-# CONFIG_PINCTRL_IMX8MP: pinctrl-imx8mp.ko
-# CONFIG_SERIAL_IMX: imx.ko
-# CONFIG_IMX2_WDT: imx2_wdt.ko
-# CONFIG_I2C_IMX: i2c-imx.ko
-# CONFIG_MFD_PCA9450: pca9450.ko
-# CONFIG_REGULATOR_PCA9450: pca9450-regulator.ko
-# CONFIG_PWM_IMX27: pwm-imx27.ko
-# CONFIG_BACKLIGHT_PWM : pwm_bl.ko
-# CONFIG_MMC_SDHCI_ESDHC_IMX: sdhci-esdhc-imx.ko, cqhci.ko
-# CONFIG_ION_CMA_HEAP: ion_cma_heap.ko
-# CONFIG_MFD_IMX_AUDIOMIX: imx-audiomix.ko
-# CONFIG_PHY_FSL_IMX8MP_LVDS: phy-fsl-imx8mp-lvds.ko
-# CONFIG_PHY_SAMSUNG_HDMI_PHY: phy-fsl-samsung-hdmi.ko
-# CONFIG_MXC_GPU_VIV: galcore.ko
-# CONFIG_IMX_LCDIF_CORE: imx-lcdif-core.ko
-# CONFIG_DRM_I2C_ADV7511: adv7511.ko
-# CONFIG_DRM_IMX_CDNS_MHDP: cdns_mhdp_drmcore.ko cdns_mhdp_imx.ko
-# CONFIG_DRM_IMX8MP_LDB: imx8mp-ldb.ko
-# CONFIG_DRM_FSL_IMX_LVDS_BRIDGE: fsl-imx-ldb.ko
-# CONFIG_DRM_ITE_IT6263: it6263.ko
-# CONFIG_DRM_IMX_SEC_DSIM: sec-dsim.ko sec_mipi_dsim-imx.ko
-# CONFIG_DRM_IMX_HDMI: dw-hdmi.ko dw_hdmi-imx.ko imx8mp-hdmi-pavi.ko
-# CONFIG_DRM_IMX: imxdrm.ko, imx-lcdif-crtc.ko
-# CONFIG_IMX_LCDIFV3_CORE: imx-lcdifv3-core.ko imx-lcdifv3-crtc.ko
-# CONFIG_USB_DWC3: dwc3-haps.ko dwc3-imx8mp.ko dwc3-of-simple.ko dwc3-qcom.ko dwc3.ko
-# CONFIG_DRM_PANEL_SIMPLE: panel-simple.ko
-# CONFIG_TYPEC_SWITCH_GPIO: gpio-switch.ko
-# CONFIG_TYPEC_TCPCI: tcpci.ko
-# CONFIG_PHY_FSL_IMX8MQ_USB: phy-fsl-imx8mq-usb.ko
-# CONFIG_PHY_FSL_IMX_PCIE: phy-fsl-imx8-pcie.ko
-# CONFIG_USB_XHCI_HCD: xhci-hcd.ko xhci-pci.ko xhci-plat-hcd.ko, usb host driver
-# CONFIG_KEYBOARD_SNVS_PWRKEY: snvs_pwrkey.ko, snvs power key driver
-# CONFIG_RESET_IMX7: reset-imx7.ko
-# CONFIG_RESET_IMX_HDMIMIX: reset-imx-audiomix.ko
-# CONFIG_RESET_IMX_AUDIOMIX: reset-imx-hdmimix.ko
-# CONFIG_IMX8M_BUSFREQ: busfreq-imx8mq.ko
-# CONFIG_IMX_IRQSTEER: irq-imx-irqsteer.ko
-# CONFIG_GPIO_MXC: gpio-generic.ko gpio-mxc.ko
-# CONFIG_TIMER_IMX_SYS_CTR: timer-imx-sysctr.ko
-# CONFIG_NVMEM_IMX_OCOTP: nvmem-imx-ocotp.ko
-# CONFIG_CPUFREQ_DT: cpufreq-dt.ko
-# CONFIG_ARM_IMX_CPUFREQ_DT: imx-cpufreq-dt.ko
-# CONFIG_VIDEO_OV5640: ov5640.ko, ov5640 sensor driver
-# CONFIG_VIDEO_IMX_CAPTURE: imx8-media-dev.ko, imx8-isi-cap.ko, imx8-isi-hw.ko, imx8-isi-m2m.ko, imx8-mipi-csi2-sam.ko, imx isi and mipi driver
-
-ifeq ($(IMX8MP_USES_GKI),true)
-BOARD_VENDOR_RAMDISK_KERNEL_MODULES +=     \
-    $(KERNEL_OUT)/drivers/soc/imx/soc-imx8m.ko \
-    $(KERNEL_OUT)/drivers/soc/imx/mu/mx8_mu.ko \
-    $(KERNEL_OUT)/drivers/clk/imx/mxc-clk.ko \
-    $(KERNEL_OUT)/drivers/clk/imx/clk-imx8mp.ko \
-    $(KERNEL_OUT)/drivers/clk/imx/clk-blk-ctrl.ko \
-    $(KERNEL_OUT)/drivers/soc/imx/imx8m_pm_domains.ko \
-    $(KERNEL_OUT)/drivers/clocksource/timer-imx-sysctr.ko \
-    $(KERNEL_OUT)/drivers/soc/imx/busfreq-imx8mq.ko \
-    $(KERNEL_OUT)/drivers/irqchip/irq-imx-irqsteer.ko \
-    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx.ko \
-    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx8mp.ko \
-    $(KERNEL_OUT)/drivers/gpio/gpio-mxc.ko \
-    $(KERNEL_OUT)/drivers/tty/serial/imx.ko \
-    $(KERNEL_OUT)/drivers/watchdog/imx2_wdt.ko \
-    $(KERNEL_OUT)/drivers/i2c/busses/i2c-imx.ko \
-    $(KERNEL_OUT)/drivers/regulator/pca9450-regulator.ko \
-    $(KERNEL_OUT)/drivers/pwm/pwm-imx27.ko \
-    $(KERNEL_OUT)/drivers/video/backlight/pwm_bl.ko \
-    $(KERNEL_OUT)/drivers/mmc/host/cqhci.ko \
-    $(KERNEL_OUT)/drivers/mmc/host/sdhci-esdhc-imx.ko \
-    $(KERNEL_OUT)/drivers/staging/android/ion/ion-alloc.ko \
-    $(KERNEL_OUT)/drivers/staging/android/ion/heaps/ion_sys_heap.ko \
-    $(KERNEL_OUT)/drivers/staging/android/ion/heaps/ion_cma_heap.ko \
-    $(KERNEL_OUT)/drivers/staging/android/ion/heaps/ion_unmapped_heap.ko \
-    $(KERNEL_OUT)/drivers/reset/reset-imx7.ko \
-    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8mp-lvds.ko \
-    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-samsung-hdmi.ko \
-    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8mq-usb.ko \
-    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8-pcie.ko \
-    $(KERNEL_OUT)/drivers/input/keyboard/snvs_pwrkey.ko \
-    $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko \
-    $(KERNEL_OUT)/drivers/gpu/imx/lcdif/imx-lcdif-core.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/bridge/adv7511/adv7511.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/bridge/cadence/cdns_mhdp_drmcore.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/bridge/fsl-imx-ldb.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/bridge/it6263.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/bridge/sec-dsim.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/bridge/synopsys/dw-hdmi.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/imx/mhdp/cdns_mhdp_imx.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/imx/dw_hdmi-imx.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/imx/imx8mp-hdmi-pavi.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/imx/imx8mp-ldb.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/imx/imxdrm.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/imx/lcdif/imx-lcdif-crtc.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/imx/lcdifv3/imx-lcdifv3-crtc.ko \
-    $(KERNEL_OUT)/drivers/gpu/imx/lcdifv3/imx-lcdifv3-core.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/imx/sec_mipi_dsim-imx.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/panel/panel-raydium-rm67191.ko \
-    $(KERNEL_OUT)/drivers/gpu/drm/panel/panel-simple.ko \
-    $(KERNEL_OUT)/drivers/usb/dwc3/dwc3-imx8mp.ko \
-    $(KERNEL_OUT)/drivers/usb/typec/mux/gpio-switch.ko \
-    $(KERNEL_OUT)/drivers/power/supply/dummy_battery.ko \
-    $(KERNEL_OUT)/drivers/nvmem/nvmem-imx-ocotp.ko \
-    $(KERNEL_OUT)/drivers/thermal/device_cooling.ko \
-    $(KERNEL_OUT)/drivers/thermal/imx8mm_thermal.ko \
-    $(KERNEL_OUT)/drivers/cpufreq/cpufreq-dt.ko \
-    $(KERNEL_OUT)/drivers/cpufreq/imx-cpufreq-dt.ko \
-    $(KERNEL_OUT)/drivers/media/v4l2-core/v4l2-fwnode.ko \
-    $(KERNEL_OUT)/drivers/media/i2c/ov5640.ko \
-    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-capture.ko \
-    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-cap.ko \
-    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-hw.ko \
-    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-m2m.ko \
-    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-mipi-csi2-sam.ko \
-    $(KERNEL_OUT)/drivers/trusty/trusty-core.ko \
-    $(KERNEL_OUT)/drivers/trusty/trusty-irq.ko \
-    $(KERNEL_OUT)/drivers/trusty/trusty-log.ko \
-    $(KERNEL_OUT)/drivers/trusty/trusty-virtio.ko \
-    $(KERNEL_OUT)/drivers/trusty/trusty-ipc.ko \
-    $(TARGET_OUT_INTERMEDIATES)/VVCAM_OBJ/basler-camera-driver-vvcam.ko \
-    $(TARGET_OUT_INTERMEDIATES)/VVCAM_OBJ/vvcam-video.ko \
-    $(TARGET_OUT_INTERMEDIATES)/VVCAM_OBJ/vvcam-dwe.ko \
-    $(TARGET_OUT_INTERMEDIATES)/VVCAM_OBJ/vvcam-isp.ko \
-    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-media-dev.ko
-endif
-
-# -------@block_memory-------
-#Enable this to config 1GB ddr on evk_imx8mp
-LOW_MEMORY := false
-
-# -------@block_security-------
-#Enable this to include trusty support
-PRODUCT_IMX_TRUSTY := true
diff --git a/imx8m/vp6820_8mp/UbootKernelBoardConfig.mk b/imx8m/vp6820_8mp/UbootKernelBoardConfig.mk
deleted file mode 100644
index db0a0dd5..00000000
--- a/imx8m/vp6820_8mp/UbootKernelBoardConfig.mk
+++ /dev/null
@@ -1,31 +0,0 @@
-# from BoardConfig.mk
-TARGET_BOOTLOADER_POSTFIX := bin
-UBOOT_POST_PROCESS := true
-
-# u-boot target
-TARGET_BOOTLOADER_CONFIG := imx8mp-lpddr4:vp6820_8mp_evk_android_defconfig:signed
-TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty:vp6820_8mp_evk_android_trusty_defconfig
-TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty-secure-unlock:vp6820_8mp_evk_android_trusty_secure_unlock_defconfig
-TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-dual:vp6820_8mp_evk_android_dual_defconfig:signed
-TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty-dual:vp6820_8mp_evk_android_trusty_dual_defconfig:signed
-TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-evk-uuu-mic6g:vp6820_8mp_evk_android_uuu_mic6g_defconfig:signed
-#TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-powersave:vp6820_8mp_evk_android_powersave_defconfig
-#TARGET_BOOTLOADER_CONFIG += imx8mp-lpddr4-trusty-powersave:vp6820_8mp_evk_android_trusty_powersave_defconfig
-
-ifeq ($(IMX8MP_USES_GKI),true)
-TARGET_KERNEL_DEFCONFIG := gki_defconfig
-TARGET_KERNEL_GKI_DEFCONF:= imx8mp_gki.fragment
-else
-TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
-endif
-
-TARGET_KERNEL_ADDITION_DEFCONF := android_addition_defconfig
-TARGET_KERNEL_SECURE_DEFCONF ?= android_secure_defconfig
-
-
-# absolute path is used, not the same as relative path used in AOSP make
-TARGET_DEVICE_DIR := $(patsubst %/, %, $(dir $(realpath $(lastword $(MAKEFILE_LIST)))))
-
-# define bootloader rollback index
-BOOTLOADER_RBINDEX ?= 0
-
diff --git a/imx8m/vp6820_8mp/android_addition_defconfig b/imx8m/vp6820_8mp/android_addition_defconfig
deleted file mode 100644
index 1473454a..00000000
--- a/imx8m/vp6820_8mp/android_addition_defconfig
+++ /dev/null
@@ -1,265 +0,0 @@
-CONFIG_LIBNVDIMM=y
-CONFIG_OF_PMEM=y
-CONFIG_IDG_SPI=y
-# CONFIG_USB_NET_QMI_WWAN is not set
-CONFIG_SINGLE_LOGO=y
-CONFIG_SPLASH_SCREEN_CENTERED=y
-CONFIG_USB_SERIAL=y
-CONFIG_USB_SERIAL_OPTION=y
-CONFIG_INPUT_VL53L1X_ULD=y
-CONFIG_SND_SOC_IMX_RT5640=y
-CONFIG_SND_SOC_RT5640=y
-CONFIG_KEYBOARD_MATRIX=y
-CONFIG_TYPEC_HD3SS3220=y
-CONFIG_MXC_DUAL_MIPI_CAMERA=y
-CONFIG_MXC_CAMERA_OV2685_MIPI_V2=y
-CONFIG_INPUT_ST=y
-CONFIG_INPUT_ECOMPASS=y
-CONFIG_INPUT_LSM303AGR=y
-CONFIG_INPUT_LSM303AGR_I2C=y
-CONFIG_TOUCHSCREEN_GOODIX=y
-CONFIG_DRM_PANEL_DATAIMAGE_5INCHLCM=y
-CONFIG_DEBUG_FS=y
-CONFIG_PPP=y
-CONFIG_PPP_ASYNC=y
-CONFIG_PPP_SYNC_TTY=y
-CONFIG_OF_OVERLAY=y
-CONFIG_TASKSTATS=y
-CONFIG_DEVMEM=y
-CONFIG_ION_UNMAPPED_HEAP=y
-CONFIG_KFENCE_SAMPLE_INTERVAL=500
-CONFIG_KFENCE_NUM_OBJECTS=63
-CONFIG_CMA_SYSFS=y
-CONFIG_CMA_DEBUGFS=y
-CONFIG_DMABUF_SYSFS_STATS=y
-CONFIG_DMABUF_HEAPS_DEFERRED_FREE=y
-CONFIG_DMABUF_HEAPS_PAGE_POOL=y
-CONFIG_GPU_OLD_RESET_METHOD=y
-
-CONFIG_PARAVIRT=y
-CONFIG_NETFILTER_XT_TARGET_CT=y
-CONFIG_MVMDIO=y
-CONFIG_MDIO_BITBANG=y
-CONFIG_I2C_SLAVE=y
-CONFIG_GPIOLIB=y
-CONFIG_GPIO_GENERIC_PLATFORM=y
-CONFIG_POWER_RESET_BRCMSTB=y
-CONFIG_REGULATOR=y
-CONFIG_DRM_I2C_CH7006=m
-CONFIG_DRM_I2C_SIL164=m
-CONFIG_TMPFS=y
-CONFIG_BCM_FLEXRM_MBOX=y
-CONFIG_PHY_SAMSUNG_USB2=y
-CONFIG_ARM_TIMER_SP804=y
-CONFIG_COMMON_CLK_VERSATILE=y
-CONFIG_CLK_SP810=y
-CONFIG_USB_SNP_UDC_PLAT=y
-CONFIG_USB_BDC_UDC=y
-CONFIG_BCM_SBA_RAID=m
-CONFIG_WLAN_VENDOR_NXP=y
-CONFIG_MWL8K=y
-CONFIG_WLAN_VENDOR_MARVELL=m
-
-# CONFIG_KVM is not set
-# CONFIG_MTD_UBI is not set
-# CONFIG_VGA_ARB is not set
-# CONFIG_ARCH_SUNXI is not set
-# CONFIG_ARCH_ALPINE is not set
-# CONFIG_ARCH_BCM2835 is not set
-# CONFIG_ARCH_BCM_IPROC is not set
-# CONFIG_ARCH_BERLIN is not set
-# CONFIG_ARCH_BRCMSTB is not set
-# CONFIG_ARCH_EXYNOS is not set
-# CONFIG_ARCH_LAYERSCAPE is not set
-# CONFIG_ARCH_LG1K is not set
-# CONFIG_ARCH_HISI is not set
-# CONFIG_ARCH_MEDIATEK is not set
-# CONFIG_ARCH_MESON is not set
-# CONFIG_ARCH_MVEBU is not set
-# CONFIG_ARCH_QCOM is not set
-# CONFIG_ARCH_ROCKCHIP is not set
-# CONFIG_ARCH_SEATTLE is not set
-# CONFIG_ARCH_RENESAS is not set
-# CONFIG_ARCH_R8A7795 is not set
-# CONFIG_ARCH_R8A7796 is not set
-# CONFIG_ARCH_STRATIX10 is not set
-# CONFIG_ARCH_TEGRA is not set
-# CONFIG_ARCH_SPRD is not set
-# CONFIG_ARCH_THUNDER is not set
-# CONFIG_ARCH_THUNDER2 is not set
-# CONFIG_ARCH_UNIPHIER is not set
-# CONFIG_ARCH_VEXPRESS is not set
-# CONFIG_ARCH_XGENE is not set
-# CONFIG_ARCH_ZX is not set
-# CONFIG_ARCH_ZYNQMP is not set
-# CONFIG_ARCH_TEGRA_132_SOC is not set
-# CONFIG_ARCH_TEGRA_210_SOC is not set
-# CONFIG_ARCH_TEGRA_186_SOC is not set
-# CONFIG_PCI_HISI is not set
-# CONFIG_PCIE_KIRIN is not set
-# CONFIG_PCI_AARDVARK is not set
-# CONFIG_PCIE_RCAR is not set
-# CONFIG_PCIE_ROCKCHIP is not set
-# CONFIG_XEN is not set
-# CONFIG_SPI_FSL_QUADSPI is not set
-# CONFIG_XEN_BLKDEV_BACKEND is not set
-# CONFIG_AHCI_MVEBU is not set
-# CONFIG_SATA_RCAR is not set
-# CONFIG_NET_XGENE is not set
-# CONFIG_MVNETA is not set
-# CONFIG_MVPP2 is not set
-# CONFIG_RAVB is not set
-# CONFIG_MESON_GXL_PHY is not set
-# CONFIG_XEN_NETDEV_BACKEND is not set
-# CONFIG_INPUT_PM8941_PWRKEY is not set
-# CONFIG_INPUT_HISI_POWERKEY is not set
-# CONFIG_SERIAL_8250_BCM2835AUX is not set
-# CONFIG_SERIAL_8250_MT6577 is not set
-# CONFIG_SERIAL_8250_UNIPHIER is not set
-# CONFIG_SERIAL_MESON is not set
-# CONFIG_SERIAL_MESON_CONSOLE is not set
-# CONFIG_SERIAL_SAMSUNG is not set
-# CONFIG_SERIAL_SAMSUNG_CONSOLE is not set
-# CONFIG_SERIAL_TEGRA is not set
-# CONFIG_SERIAL_SH_SCI is not set
-# CONFIG_SERIAL_SH_SCI_NR_UARTS is not set
-# CONFIG_SERIAL_SH_SCI_CONSOLE is not set
-# CONFIG_SERIAL_MSM is not set
-# CONFIG_SERIAL_MSM_CONSOLE is not set
-# CONFIG_SERIAL_XILINX_PS_UART is not set
-# CONFIG_SERIAL_XILINX_PS_UART_CONSOLE is not set
-# CONFIG_SERIAL_MVEBU_UART is not set
-# CONFIG_I2C_BCM2835 is not set
-# CONFIG_I2C_MESON is not set
-# CONFIG_I2C_MV64XXX is not set
-# CONFIG_I2C_PXA is not set
-# CONFIG_I2C_QUP is not set
-# CONFIG_I2C_SH_MOBILE is not set
-# CONFIG_I2C_TEGRA is not set
-# CONFIG_I2C_UNIPHIER_F is not set
-# CONFIG_I2C_RCAR is not set
-# CONFIG_SPI_BCM2835 is not set
-# CONFIG_SPI_BCM2835AUX is not set
-# CONFIG_SPI_MESON_SPICC is not set
-# CONFIG_SPI_ORION is not set
-# CONFIG_SPI_ROCKCHIP is not set
-# CONFIG_SPI_QUP is not set
-# CONFIG_SPI_S3C64XX is not set
-# CONFIG_PINCTRL_MAX77620 is not set
-# CONFIG_PINCTRL_IPQ8074 is not set
-# CONFIG_PINCTRL_MSM8916 is not set
-# CONFIG_PINCTRL_MSM8994 is not set
-# CONFIG_PINCTRL_MSM8996 is not set
-# CONFIG_PINCTRL_QDF2XXX is not set
-# CONFIG_PINCTRL_QCOM_SPMI_PMIC is not set
-# CONFIG_GPIO_RCAR is not set
-# CONFIG_GPIO_XGENE_SB is not set
-# CONFIG_POWER_RESET_MSM is not set
-# CONFIG_ROCKCHIP_THERMAL is not set
-# CONFIG_EXYNOS_THERMAL is not set
-# CONFIG_S3C2410_WATCHDOG is not set
-# CONFIG_MESON_GXBB_WATCHDOG is not set
-# CONFIG_MESON_WATCHDOG is not set
-# CONFIG_RENESAS_WDT is not set
-# CONFIG_UNIPHIER_WATCHDOG is not set
-# CONFIG_BCM2835_WDT is not set
-# CONFIG_MFD_AXP20X_RSB is not set
-# CONFIG_MFD_EXYNOS_LPASS is not set
-# CONFIG_MFD_HI655X_PMIC is not set
-# CONFIG_MFD_SPMI_PMIC is not set
-# CONFIG_REGULATOR_AXP20X is not set
-# CONFIG_REGULATOR_HI655X is not set
-# CONFIG_REGULATOR_QCOM_SMD_RPM is not set
-# CONFIG_RPMSG is not set
-# CONFIG_IR_MESON is not set
-# CONFIG_VIDEO_SAMSUNG_S5P_JPEG is not set
-# CONFIG_VIDEO_SAMSUNG_S5P_MFC is not set
-# CONFIG_VIDEO_SAMSUNG_EXYNOS_GSC is not set
-# CONFIG_VIDEO_RENESAS_FCP is not set
-# CONFIG_VIDEO_RENESAS_VSP1 is not set
-# CONFIG_ROCKCHIP_ANALOGIX_DP is not set
-# CONFIG_ROCKCHIP_CDN_DP is not set
-# CONFIG_ROCKCHIP_DW_HDMI is not set
-# CONFIG_ROCKCHIP_DW_MIPI_DSI is not set
-# CONFIG_ROCKCHIP_INNO_HDMI is not set
-# CONFIG_SND_BCM2835_SOC_I2S is not set
-# CONFIG_SND_SOC_SAMSUNG is not set
-# CONFIG_SND_SOC_RCAR is not set
-# CONFIG_DRM_NOUVEAU is not set
-# CONFIG_DRM_EXYNOS is not set
-# CONFIG_DRM_EXYNOS5433_DECON is not set
-# CONFIG_DRM_EXYNOS7_DECON is not set
-# CONFIG_DRM_EXYNOS_DSI is not set
-# CONFIG_DRM_EXYNOS_DP is not set
-# CONFIG_DRM_EXYNOS_HDMI is not set
-# CONFIG_DRM_EXYNOS_MIC is not set
-# CONFIG_DRM_ROCKCHIP is not set
-# CONFIG_DRM_RCAR_DU is not set
-# CONFIG_DRM_RCAR_LVDS is not set
-# CONFIG_DRM_RCAR_VSP is not set
-# CONFIG_DRM_TEGRA is not set
-# CONFIG_DRM_VC4 is not set
-# CONFIG_DRM_MESON is not set
-# CONFIG_USB_XHCI_TEGRA is not set
-# CONFIG_USB_EHCI_MSM is not set
-# CONFIG_USB_EHCI_EXYNOS is not set
-# CONFIG_USB_OHCI_EXYNOS is not set
-# CONFIG_USB_RENESAS_USBHS is not set
-# CONFIG_USB_QCOM_8X16_PHY is not set
-# CONFIG_RASPBERRYPI_FIRMWARE is not set
-# CONFIG_PHY_SUN4I_USB is not set
-# CONFIG_PHY_HI6220_USB is not set
-# CONFIG_PHY_RCAR_GEN3_USB2 is not set
-# CONFIG_PHY_ROCKCHIP_EMMC is not set
-# CONFIG_PHY_ROCKCHIP_INNO_USB2 is not set
-# CONFIG_PHY_ROCKCHIP_PCIE is not set
-# CONFIG_PHY_TEGRA_XUSB is not set
-# CONFIG_QCOM_L2_PMU is not set
-# CONFIG_QCOM_L3_PMU is not set
-# CONFIG_PWM_MESON is not set
-# CONFIG_PWM_ROCKCHIP is not set
-# CONFIG_PWM_SAMSUNG is not set
-# CONFIG_PWM_TEGRA is not set
-# CONFIG_QCOM_SMEM is not set
-# CONFIG_QCOM_SMD_RPM is not set
-# CONFIG_QCOM_SMP2P is not set
-# CONFIG_QCOM_SMSM is not set
-# CONFIG_ROCKCHIP_PM_DOMAINS is not set
-# CONFIG_ARCH_TEGRA_132_SOC is not set
-# CONFIG_ARCH_TEGRA_210_SOC is not set
-# CONFIG_ARCH_TEGRA_186_SOC is not set
-# CONFIG_EXYNOS_ADC is not set
-# CONFIG_ROCKCHIP_SARADC is not set
-# CONFIG_PWM_BCM2835 is not set
-# CONFIG_RPMSG_QCOM_SMD is not set
-# CONFIG_RASPBERRYPI_POWER is not set
-# CONFIG_BCM2835_MBOX is not set
-# CONFIG_HI6220_MBOX is not set
-# CONFIG_ROCKCHIP_IOMMU is not set
-# CONFIG_HWSPINLOCK_QCOM is not set
-# CONFIG_COMMON_CLK_QCOM is not set
-# CONFIG_QCOM_CLK_SMD_RPM is not set
-# CONFIG_IPQ_GCC_8074 is not set
-# CONFIG_MSM_GCC_8916 is not set
-# CONFIG_MSM_GCC_8994 is not set
-# CONFIG_MSM_MMCC_8996 is not set
-# CONFIG_USB_RENESAS_USBHS_UDC is not set
-# CONFIG_MMC_SDHCI_OF_ESDHC is not set
-# CONFIG_XEN_GNTDEV is not set
-# CONFIG_XEN_GRANT_DEV_ALLOC is not set
-# CONFIG_RCAR_DMAC is not set
-# CONFIG_TEGRA20_APB_DMA is not set
-# CONFIG_QCOM_BAM_DMA is not set
-# CONFIG_K3_DMA is not set
-# CONFIG_DMA_BCM2835 is not set
-# CONFIG_RTC_DRV_XGENE is not set
-# CONFIG_RTC_DRV_TEGRA is not set
-# CONFIG_RTC_DRV_S3C is not set
-# CONFIG_MMC_DW_ROCKCHIP is not set
-# CONFIG_MMC_SUNXI is not set
-# CONFIG_MMC_BCM2835 is not set
-# CONFIG_MMC_SDHCI_TEGRA is not set
-# CONFIG_MMC_MESON_GX is not set
-# CONFIG_MMC_SDHCI_MSM is not set
-# CONFIG_MMC_SDHI is not set
-# CONFIG_MMC_DW_EXYNOS is not set
diff --git a/imx8m/vp6820_8mp/android_gki_defconfig b/imx8m/vp6820_8mp/android_gki_defconfig
deleted file mode 100644
index bb220eff..00000000
--- a/imx8m/vp6820_8mp/android_gki_defconfig
+++ /dev/null
@@ -1,106 +0,0 @@
-CONFIG_ARCH_MXC=y
-CONFIG_SOC_IMX8M=m
-CONFIG_SOC_IMX_MU=m
-CONFIG_MXC_CLK=m
-CONFIG_CLK_IMX8MP=m
-CONFIG_DEVICE_THERMAL=m
-CONFIG_IMX8MM_THERMAL=m
-# CONFIG_DEVFREQ_THERMAL is not set
-CONFIG_IMX8M_PM_DOMAINS=m
-CONFIG_PINCTRL_IMX=m
-CONFIG_PINCTRL_IMX8MP=m
-CONFIG_SERIAL_IMX=m
-CONFIG_SERIAL_IMX_CONSOLE=m
-CONFIG_IMX2_WDT=m
-CONFIG_I2C_IMX=m
-CONFIG_REGULATOR_PCA9450=m
-CONFIG_PWM_IMX27=m
-CONFIG_BACKLIGHT_PWM=m
-CONFIG_MMC_SDHCI_ESDHC_IMX=m
-CONFIG_ION_CMA_HEAP=m
-CONFIG_PHY_FSL_IMX8MP_LVDS=m
-CONFIG_PHY_SAMSUNG_HDMI_PHY=m
-CONFIG_MXC_GPU_VIV=m
-CONFIG_IMX_LCDIF_CORE=m
-CONFIG_DRM_I2C_ADV7511=m
-CONFIG_DRM_IMX_CDNS_MHDP=m
-CONFIG_DRM_IMX8MP_LDB=m
-CONFIG_DRM_FSL_IMX_LVDS_BRIDGE=m
-CONFIG_DRM_ITE_IT6263=m
-CONFIG_DRM_IMX_SEC_DSIM=m
-CONFIG_DRM_DW_HDMI_CEC=m
-CONFIG_DRM_DW_HDMI_GP_AUDIO=m
-CONFIG_DRM_IMX_HDMI=m
-CONFIG_DRM_IMX=m
-CONFIG_DRM_PANEL_RAYDIUM_RM67191=m
-CONFIG_DRM_PANEL_SIMPLE=m
-CONFIG_IMX_LCDIFV3_CORE=m
-CONFIG_PHY_FSL_IMX8MQ_USB=m
-CONFIG_USB_DWC3=m
-CONFIG_MEDIA_USB_SUPPORT=y
-CONFIG_USB_VIDEO_CLASS=y
-CONFIG_USB_XHCI_HCD=m
-CONFIG_TYPEC_SWITCH_GPIO=m
-
-CONFIG_IMX_SDMA=m
-CONFIG_SND_IMX_SOC=m
-CONFIG_SND_SOC_IMX_MICFIL=m
-CONFIG_SND_SOC_FSL_ASRC=m
-CONFIG_SND_SOC_FSL_EASRC=m
-CONFIG_SND_SOC_IMX_CDNHDMI=m
-CONFIG_SND_SOC_WM8960=m
-CONFIG_SND_SOC_FSL_ASOC_CARD=m
-CONFIG_SND_SOC_BT_SCO=m
-CONFIG_SND_SIMPLE_CARD=m
-CONFIG_SND_SOC_FSL_DSP=m
-CONFIG_SND_VERBOSE_PROCFS=y
-
-CONFIG_IMX_MBOX=m
-CONFIG_I2C_RPBUS=m
-CONFIG_SND_SOC_IMX_RPMSG=m
-CONFIG_IMX_REMOTEPROC=m
-
-CONFIG_RTC_DRV_SNVS=m
-
-CONFIG_WLAN_VENDOR_NXP=m
-CONFIG_MXMWIFIEX=m
-CONFIG_TOUCHSCREEN_SYNAPTICS_DSX_I2C=m
-CONFIG_KEYBOARD_SNVS_PWRKEY=m
-# CONFIG_MXC_VPU_MALONE is not set
-# CONFIG_MXC_VPU_WINDSOR is not set
-# CONFIG_MXC_IMX_DMX_HW is not set
-
-CONFIG_PHY_FSL_IMX_PCIE=m
-CONFIG_PCI_IMX6=m
-
-CONFIG_STAGING_MEDIA=y
-CONFIG_VIDEO_OV5640=m
-CONFIG_VIDEO_IMX_CAPTURE=m
-
-CONFIG_NET_VENDOR_FREESCALE=y
-CONFIG_ETHERNET=y
-CONFIG_FEC=m
-
-CONFIG_TRUSTY=m
-
-CONFIG_MXC_HANTRO_VC8000E=m
-CONFIG_MXC_HANTRO_845=m
-
-CONFIG_BATTERY_DUMMY=m
-
-CONFIG_RESET_IMX7=m
-CONFIG_IMX8M_BUSFREQ=m
-CONFIG_IMX_IRQSTEER=m
-CONFIG_GPIO_MXC=m
-CONFIG_TIMER_IMX_SYS_CTR=m
-
-CONFIG_FPGA=y
-CONFIG_INIT_STACK_NONE=y
-
-CONFIG_NVMEM_IMX_OCOTP=m
-CONFIG_CPUFREQ_DT=m
-CONFIG_ARM_IMX_CPUFREQ_DT=m
-
-CONFIG_STATIC_USERMODEHELPER_PATH="/system/bin/sh"
-
-CONFIG_FORCE_MAX_ZONEORDER=14
diff --git a/imx8m/vp6820_8mp/android_secure_defconfig b/imx8m/vp6820_8mp/android_secure_defconfig
deleted file mode 100644
index b576dfc0..00000000
--- a/imx8m/vp6820_8mp/android_secure_defconfig
+++ /dev/null
@@ -1,3 +0,0 @@
-# CONFIG_SERIAL_IMX_CONSOLE is not set
-# CONFIG_DEBUG_FS is not set
-# CONFIG_DEVMEM is not set
diff --git a/imx8m/vp6820_8mp/app_whitelist.xml b/imx8m/vp6820_8mp/app_whitelist.xml
deleted file mode 100644
index 0084b334..00000000
--- a/imx8m/vp6820_8mp/app_whitelist.xml
+++ /dev/null
@@ -1,36 +0,0 @@
-<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
-
-<!--
-/* Copyright (c) 2017, The Linux Foundation. All rights reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions are
- * met:
- *     * Redistributions of source code must retain the above copyright
- *       notice, this list of conditions and the following disclaimer.
- *     * Redistributions in binary form must reproduce the above
- *       copyright notice, this list of conditions and the following
- *       disclaimer in the documentation and/or other materials provided
- *       with the distribution.
- *     * Neither the name of The Linux Foundation nor the names of its
- *       contributors may be used to endorse or promote products derived
- *       from this software without specific prior written permission.
- *
- * THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESS OR IMPLIED
- * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
- * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT
- * ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
- * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
- * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
- * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
- * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
- * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
- * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
- * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
- */
--->
-
-<config>
-    <!-- deskclock need to freely run in the background -->
-    <allow-in-power-save package="com.android.deskclock" />
-</config>
diff --git a/imx8m/vp6820_8mp/audio_effects.xml b/imx8m/vp6820_8mp/audio_effects.xml
deleted file mode 100644
index a1c1fc2a..00000000
--- a/imx8m/vp6820_8mp/audio_effects.xml
+++ /dev/null
@@ -1,26 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<audio_effects_conf version="2.0" xmlns="http://schemas.android.com/audio/audio_effects_conf/v2_0">
-    <libraries>
-        <library name="bundle" path="libbundlewrapper.so"/>
-        <library name="reverb" path="libreverbwrapper.so"/>
-        <library name="visualizer" path="libvisualizer.so"/>
-        <library name="downmix" path="libdownmix.so"/>
-        <library name="loudness_enhancer" path="libldnhncr.so"/>
-        <library name="dynamics_processing" path="libdynproc.so"/>
-    </libraries>
-
-    <effects>
-        <effect name="bassboost" library="bundle" uuid="8631f300-72e2-11df-b57e-0002a5d5c51b"/>
-        <effect name="virtualizer" library="bundle" uuid="1d4033c0-8557-11df-9f2d-0002a5d5c51b"/>
-        <effect name="equalizer" library="bundle" uuid="ce772f20-847d-11df-bb17-0002a5d5c51b"/>
-        <effect name="volume" library="bundle" uuid="119341a0-8469-11df-81f9-0002a5d5c51b"/>
-        <effect name="reverb_env_aux" library="reverb" uuid="4a387fc0-8ab3-11df-8bad-0002a5d5c51b"/>
-        <effect name="reverb_env_ins" library="reverb" uuid="c7a511a0-a3bb-11df-860e-0002a5d5c51b"/>
-        <effect name="reverb_pre_aux" library="reverb" uuid="f29a1400-a3bb-11df-8ddc-0002a5d5c51b"/>
-        <effect name="reverb_pre_ins" library="reverb" uuid="172cdf00-a3bc-11df-a72f-0002a5d5c51b"/>
-        <effect name="visualizer" library="visualizer" uuid="d069d9e0-8329-11df-9168-0002a5d5c51b"/>
-        <effect name="downmix" library="downmix" uuid="93f04452-e4fe-41cc-91f9-e475b6d1d69f"/>
-        <effect name="loudness_enhancer" library="loudness_enhancer" uuid="fa415329-2034-4bea-b5dc-5b381c8d1e2c"/>
-        <effect name="dynamics_processing" library="dynamics_processing" uuid="e0e6539b-1781-7261-676f-6d7573696340"/>
-    </effects>
-</audio_effects_conf>
diff --git a/imx8m/vp6820_8mp/bluetooth/bdroid_buildcfg.h b/imx8m/vp6820_8mp/bluetooth/bdroid_buildcfg.h
deleted file mode 100644
index 606e9abb..00000000
--- a/imx8m/vp6820_8mp/bluetooth/bdroid_buildcfg.h
+++ /dev/null
@@ -1,34 +0,0 @@
-/*
- * Copyright (C) 2012 The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-/* Copyright (C) 2015-2016 Freescale Semiconductor, Inc. */
-/* Copyright 2017-2018 NXP */
-
-#ifndef _BDROID_BUILDCFG_H
-#define _BDROID_BUILDCFG_H
-
-#define BTM_DEF_LOCAL_NAME "iMX8"
-
-// Disables Interleave scan
-#define BTA_HOST_INTERLEAVE_SEARCH  FALSE
-// skips conn update at conn completion
-#define BTA_BLE_SKIP_CONN_UPD  TRUE
-// Disables read remote device feature
-#define BTA_SKIP_BLE_READ_REMOTE_FEAT TRUE
-
-//Enable A2DPSink AVRCPController
-#define BTA_AV_SINK_INCLUDED TRUE
-#endif
diff --git a/imx8m/vp6820_8mp/camera_config_imx8mp-basler-ov5640.json b/imx8m/vp6820_8mp/camera_config_imx8mp-basler-ov5640.json
deleted file mode 100644
index ecfd9486..00000000
--- a/imx8m/vp6820_8mp/camera_config_imx8mp-basler-ov5640.json
+++ /dev/null
@@ -1,52 +0,0 @@
-{
-  "__readme": [
-    "Basic Camera HAL v3 configuration."
-  ],
-
-  "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "GPU_3D",
-
-  "camera_metadata": [
-    {
-      "camera_type": "back",
-      "camera_name": "viv_v4l20",
-      "bus_info": "platform:viv0",
-      "orientation": "0",
-      "buffer_type": "mmap",
-      "ActiveArrayWidth": "3840",
-      "ActiveArrayHeight": "2160",
-      "PixelArrayWidth": "3840",
-      "PixelArrayHeight": "2160",
-      "PhysicalWidth": "8.064",
-      "PhysicalHeight": "4.536",
-      "FocalLength": "4.0",
-      "MaxJpegSize": "6291456",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000",
-      "ae_comp_min": "-4",
-      "ae_comp_max": "4",
-      "ae_comp_step_nummerator": "1",
-      "ae_comp_step_denominator": "2",
-      "exposure_ns_min": "68000",
-      "exposure_ns_max": "33360000"
-    },
-    {
-      "camera_type": "front",
-      "camera_name": "mxc_isi.1.capture",
-      "orientation": "0",
-      "mplane": "1",
-      "buffer_type": "dma",
-      "ActiveArrayWidth": "2592",
-      "ActiveArrayHeight": "1944",
-      "PixelArrayWidth": "2592",
-      "PixelArrayHeight": "1944",
-      "PhysicalWidth": "3.6288",
-      "PhysicalHeight": "2.7216",
-      "FocalLength": "3.37",
-      "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000"
-    }
-  ]
-}
diff --git a/imx8m/vp6820_8mp/camera_config_imx8mp-only-ov5640.json b/imx8m/vp6820_8mp/camera_config_imx8mp-only-ov5640.json
deleted file mode 100644
index 31b1e298..00000000
--- a/imx8m/vp6820_8mp/camera_config_imx8mp-only-ov5640.json
+++ /dev/null
@@ -1,29 +0,0 @@
-{
-  "__readme": [
-    "Basic Camera HAL v3 configuration."
-  ],
-
-  "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "GPU_3D",
-
-  "camera_metadata": [
-    {
-      "camera_type": "back",
-      "camera_name": "mxc_isi.0.capture",
-      "orientation": "0",
-      "mplane": "1",
-      "buffer_type": "dma",
-      "ActiveArrayWidth": "2592",
-      "ActiveArrayHeight": "1944",
-      "PixelArrayWidth": "2592",
-      "PixelArrayHeight": "1944",
-      "PhysicalWidth": "3.6288",
-      "PhysicalHeight": "2.7216",
-      "FocalLength": "3.37",
-      "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000"
-    }
-  ]
-}
diff --git a/imx8m/vp6820_8mp/camera_config_imx8mp.json b/imx8m/vp6820_8mp/camera_config_imx8mp.json
deleted file mode 100644
index 7acd8191..00000000
--- a/imx8m/vp6820_8mp/camera_config_imx8mp.json
+++ /dev/null
@@ -1,58 +0,0 @@
-{
-  "__readme": [
-    "Basic Camera HAL v3 configuration."
-  ],
-
-  "hal_version": "3",
-  "cam_blit_copy": "GPU_3D",
-  "cam_blit_csc": "GPU_3D",
-
-  "camera_metadata": [
-    {
-      "camera_type": "back",
-      "camera_name": "viv_v4l20",
-      "bus_info": "platform:viv0",
-      "orientation": "0",
-      "buffer_type": "mmap",
-      "ActiveArrayWidth": "1920",
-      "ActiveArrayHeight": "1080",
-      "PixelArrayWidth": "1920",
-      "PixelArrayHeight": "1080",
-      "PhysicalWidth": "4.032",
-      "PhysicalHeight": "2.268",
-      "FocalLength": "4.0",
-      "MaxJpegSize": "4194304",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000",
-      "ae_comp_min": "-4",
-      "ae_comp_max": "4",
-      "ae_comp_step_nummerator": "1",
-      "ae_comp_step_denominator": "2",
-      "exposure_ns_min": "68000",
-      "exposure_ns_max": "33360000"
-    },
-    {
-      "camera_type": "front",
-      "camera_name": "viv_v4l21",
-      "bus_info": "platform:viv1",
-      "orientation": "0",
-      "buffer_type": "mmap",
-      "ActiveArrayWidth": "1920",
-      "ActiveArrayHeight": "1080",
-      "PixelArrayWidth": "1920",
-      "PixelArrayHeight": "1080",
-      "PhysicalWidth": "4.032",
-      "PhysicalHeight": "2.268",
-      "FocalLength": "4.0",
-      "MaxJpegSize": "4194304",
-      "MinFrameDuration": "33331760",
-      "MaxFrameDuration": "300000000",
-      "ae_comp_min": "-4",
-      "ae_comp_max": "4",
-      "ae_comp_step_nummerator": "1",
-      "ae_comp_step_denominator": "2",
-      "exposure_ns_min": "68000",
-      "exposure_ns_max": "33360000"
-    }
-  ]
-}
diff --git a/imx8m/vp6820_8mp/compatibility_matrix.xml b/imx8m/vp6820_8mp/compatibility_matrix.xml
deleted file mode 100644
index 67ab2209..00000000
--- a/imx8m/vp6820_8mp/compatibility_matrix.xml
+++ /dev/null
@@ -1,62 +0,0 @@
-<compatibility-matrix version="1.0" type="device">
-    <hal format="hidl" optional="false">
-        <name>android.frameworks.schedulerservice</name>
-        <version>1.0</version>
-        <interface>
-            <name>ISchedulingPolicyService</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.frameworks.sensorservice</name>
-        <version>1.0</version>
-        <interface>
-            <name>ISensorManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.allocator</name>
-        <version>1.0</version>
-        <interface>
-            <name>IAllocator</name>
-            <instance>ashmem</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.manager</name>
-        <version>1.0</version>
-        <interface>
-            <name>IServiceManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.memory</name>
-        <version>1.0</version>
-        <interface>
-            <name>IMapper</name>
-            <instance>ashmem</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.hidl.token</name>
-        <version>1.0</version>
-        <interface>
-            <name>ITokenManager</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl" optional="false">
-        <name>android.system.wifi.keystore</name>
-        <version>1.0</version>
-        <interface>
-            <name>IKeystore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="native" optional="false">
-        <name>netutils-wrapper</name>
-        <version>1.0</version>
-    </hal>
-</compatibility-matrix>
diff --git a/imx8m/vp6820_8mp/device_framework_matrix.xml b/imx8m/vp6820_8mp/device_framework_matrix.xml
deleted file mode 100644
index c8b5825c..00000000
--- a/imx8m/vp6820_8mp/device_framework_matrix.xml
+++ /dev/null
@@ -1,10 +0,0 @@
-<compatibility-matrix version="1.0" type="framework">
-    <hal format="hidl" optional="true">
-        <name>nxp.hardware.display</name>
-        <version>1.0</version>
-        <interface>
-            <name>IDisplay</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-</compatibility-matrix>
diff --git a/imx8m/vp6820_8mp/early.init.cfg b/imx8m/vp6820_8mp/early.init.cfg
deleted file mode 100644
index 9dd16032..00000000
--- a/imx8m/vp6820_8mp/early.init.cfg
+++ /dev/null
@@ -1,2 +0,0 @@
-# support insmod xx.ko; setprop xx xx; modeprobe
-modprobe
diff --git a/imx8m/vp6820_8mp/external_camera_config.xml b/imx8m/vp6820_8mp/external_camera_config.xml
deleted file mode 100644
index 81fe3e88..00000000
--- a/imx8m/vp6820_8mp/external_camera_config.xml
+++ /dev/null
@@ -1,31 +0,0 @@
-<ExternalCamera>
-    <Provider>
-        <ignore>
-            <!-- Internal video devices to be ignored by external camera HAL -->
-            <!-- No leading/trailing spaces -->
-            <!-- <id>0</id>  -->
-        </ignore>
-    </Provider>
-    <!-- See ExternalCameraUtils.cpp for default values of Device configurations below -->
-    <Device>
-        <!-- Max JPEG buffer size in bytes-->
-        <MaxJpegBufferSize bytes="3145728"/>
-        <!-- Size of v4l2 buffer queue when streaming >= 30fps -->
-        <!-- Larger value: more request can be cached pipeline (less janky)  -->
-        <!-- Smaller value: use less memory -->
-        <NumVideoBuffers count="4"/>
-        <!-- Size of v4l2 buffer queue when streaming < 30fps -->
-        <NumStillBuffers count="2"/>
-
-        <!-- List of maximum fps for various output sizes -->
-        <!-- Any image size smaller than the size listed in Limit row will report
-            fps (as minimum frame duration) up to the fpsBound value. -->
-        <FpsList>
-            <!-- width/height must be increasing, fpsBound must be decreasing-->
-            <Limit width="640" height="480" fpsBound="60.0"/>
-            <Limit width="1280" height="720" fpsBound="30.0"/>
-            <Limit width="1920" height="1080" fpsBound="30.0"/>
-            <!-- image size larger than the last entry will not be supported-->
-        </FpsList>
-    </Device>
-</ExternalCamera>
diff --git a/imx8m/vp6820_8mp/fstab.nxp b/imx8m/vp6820_8mp/fstab.nxp
deleted file mode 100644
index bdab2b2d..00000000
--- a/imx8m/vp6820_8mp/fstab.nxp
+++ /dev/null
@@ -1,14 +0,0 @@
-# Android fstab file.
-#<src>                                                  <mnt_point>         <type>    <mnt_flags and options>                       <fs_mgr_flags>
-# The filesystem that contains the filesystem checker binary (typically /system) cannot
-# specify MF_CHECK, and must come before any filesystems that do specify MF_CHECK
-
-/devices/platform/soc@0/32f10108.usb/38200000.dwc3/* auto auto defaults voldmanaged=usb:auto
-/dev/block/by-name/userdata    /data        ext4    nosuid,nodev,nodiratime,noatime,noauto_da_alloc,errors=panic    latemount,wait,formattable,quota,fileencryption=aes-256-xts:aes-256-cts:v2,keydirectory=/metadata/vold/metadata_encryption,reservedsize=128M,checkpoint=block
-/dev/block/by-name/metadata    /metadata    ext4    noatime,nosuid,nodev,discard,sync                                                wait,formattable,first_stage_mount,check
-/dev/block/by-name/misc        /misc        emmc    defaults                                                                         defaults
-/dev/block/by-name/idtechdata  /mnt/vendor/idtechdata  ext4    nosuid,nodev,noatime,barrier=1                       wait,formattable
-/dev/block/zram0 none swap defaults zramsize=629145600
-
-/devices/platform/soc@0/30800000.bus/30b50000.mmc/mmc_host* /storage/sdcard1 vfat nosuid,nodev wait,voldmanaged=sdcard1:auto,encryptable=footer
-/devices/platform/soc@0/32f10100.usb/38100000.dwc3/* auto auto defaults voldmanaged=usb:auto
diff --git a/imx8m/vp6820_8mp/init.imx8mp.rc b/imx8m/vp6820_8mp/init.imx8mp.rc
deleted file mode 100755
index 472b4af3..00000000
--- a/imx8m/vp6820_8mp/init.imx8mp.rc
+++ /dev/null
@@ -1,70 +0,0 @@
-on early-boot
-
-    # Set OpenGLES version
-    setprop ro.opengles.version 196609
-
-    # Set GPU 3D minimum clock to 3/64
-    write /sys/bus/platform/drivers/galcore/gpu3DMinClock 3
-
-    # change for FSL specific service
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
-    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
-    chmod 0440 /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
-    chown root system /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
-    chown root system /sys/devices/system/cpu/cpu2/online
-    chmod 0664 /sys/devices/system/cpu/cpu2/online
-    chown root system /sys/devices/system/cpu/cpu3/online
-    chmod 0664 /sys/devices/system/cpu/cpu3/online
-
-on property:sys.boot_completed=1
-    # Set default CPU frequency governor
-    # configure governor settings for little cluster
-    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "schedutil"
-    # The rate-limit tunable in the schedutil governor applies to transitions to both lower and higher frequencies
-    # Set up and down limit to 200us/200us
-    write /sys/devices/system/cpu/cpufreq/schedutil/up_rate_limit_us 200
-    write /sys/devices/system/cpu/cpufreq/schedutil/down_rate_limit_us 200
-    write /proc/sys/kernel/sched_util_clamp_min 512
-    write /sys/devices/platform/soc@0/30c00000.bus/30e20000.audio-blk-ctrl/power/control auto
-    write /sys/devices/platform/soc@0/32c00000.bus/32ec0000.media-blk-ctrl/power/control auto
-    write /sys/devices/platform/soc@0/30c00000.bus/32fc0000.hdmi-blk-ctrl/power/control auto
-    write /sys/clk_ctrl/enable_clk_disable_unused 1
-
-on property:sys.boot_completed=1
-    # update cpuset now that processors are up
-    write /dev/cpuset/foreground/cpus 0-3
-
-    # top-app gets all cpus
-    write /dev/cpuset/top-app/cpus 0-3
-
-    #background contains a small subset (generally one little core)
-    write /dev/cpuset/background/cpus 0
-
-    # add system-background cpuset, a new cpuset for system services
-    # that should not run on larger cores
-    # system-background is for system tasks that should only run on
-    # little cores, not on bigs to be used only by init
-    write /dev/cpuset/system-background/cpus 0-2
-
-on post-fs-data
-    mkdir /data/vendor/isp 0771 system camera
-
-on early-boot
-    export ISP_LOG_LEVEL 4
-    start isp_media_server
-
-service isp_media_server /vendor/bin/isp_media_server
-    group camera
-    oneshot
-
-on init
-    #IDtech added for AB ota update bootloader
-    symlink   /dev/block/mmcblk2boot0p1   /dev/block/by-name/spl_a
-    symlink   /dev/block/mmcblk2boot1p1   /dev/block/by-name/spl_b
-    symlink   /dev/block/mmcblk2boot0p2   /dev/block/by-name/spl_bak_a
-    symlink   /dev/block/mmcblk2boot1p2   /dev/block/by-name/spl_bak_b
diff --git a/imx8m/vp6820_8mp/init.rc b/imx8m/vp6820_8mp/init.rc
deleted file mode 100644
index a29e7e04..00000000
--- a/imx8m/vp6820_8mp/init.rc
+++ /dev/null
@@ -1,259 +0,0 @@
-import /vendor/etc/init/hw/init.${ro.hardware}.usb.rc
-import /vendor/etc/init/hw/init.${ro.hardware}.${ro.boot.soc_type}.rc
-import /product/etc/init/hw/init.idt.common.rc
-
-service vendor.charger /system/bin/charger
-    class charger
-    user system
-    group system wakelock input
-    capabilities SYS_BOOT
-    file /dev/kmsg w
-    file /sys/fs/pstore/console-ramoops-0 r
-    file /sys/fs/pstore/console-ramoops r
-    file /proc/last_kmsg r
-
-on charger
-    start vendor.charger
-
-on early-init
-    # mount the debugfs
-    mount debugfs none /sys/kernel/debug/ mode=0755
-
-on early-init
-    start early_init_sh
-    # Set the host name which used in console
-    export HOSTNAME vp6820_8mp
-
-    # Due keymaster start very early so set prop here
-    # Also gatekeeper share same role for keymaster
-    setprop ro.hardware.keystore ${ro.boot.keystore}
-    setprop ro.hardware.gatekeeper ${ro.boot.keystore}
-    setprop vendor.storageproxyd ${ro.boot.keystore}
-
-    # Use ro.boot.lcd_density to override ro.sf.lcd_density
-    setprop ro.sf.lcd_density ${ro.boot.lcd_density}
-
-# Skip charger_not_need trigger for charger mode
-on early-init && property:ro.boot.mode=charger
-    setprop vendor.skip.charger_not_need 1
-
-on init && property:vendor.skip.charger_not_need=0
-    start watchdogd
-
-    # disable cursor blink for fbcon, if no splash screen support
-    write /sys/class/graphics/fbcon/cursor_blink 0
-
-    # deattch the fbcon as hdmi hotplug conflict with fbcon
-    write /sys/class/vtconsole/vtcon1/bind 0
-
-    chown system system /dev/stune/top-app/schedtune.boost
-    chmod 664 /dev/stune/top-app/schedtune.boost
-    chown system system /dev/stune/top-app/schedtune.prefer_idle
-    chmod 664 /dev/stune/top-app/schedtune.prefer_idle
-    chown system system /dev/stune/foreground/schedtune.boost
-    chmod 664 /dev/stune/foreground/schedtune.boost
-    chown system system /dev/stune/foreground/schedtune.prefer_idle
-    chmod 664 /dev/stune/foreground/schedtune.prefer_idle
-    chown system system /dev/stune/schedtune.boost
-    chmod 664 /dev/stune/schedtune.boost
-
-    # set default schedTune value for foreground/top-app (only affects EAS)
-    write /dev/stune/foreground/schedtune.boost 10
-    write /dev/stune/foreground/schedtune.prefer_idle 1
-    write /dev/stune/top-app/schedtune.boost 40
-    write /dev/stune/top-app/schedtune.prefer_idle 1
-    write /dev/stune/rt/schedtune.boost 50
-    write /dev/stune/rt/schedtune.prefer_idle 1
-
-on late-fs && property:vendor.skip.charger_not_need=0
-    # Start keymaster/gatekeeper service
-    start vendor.gatekeeper-1-0-${ro.boot.keystore}
-    start vendor.keymaster-4-0-${ro.boot.keystore}
-    setprop vendor.powerhal.init 1
-
-    # Wait for keymaster
-    exec_start wait_for_keymaster
-
-    mount_all /vendor/etc/fstab.nxp --late
-
-on late-fs && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
-    start vendor.oemlock-1-0
-    start confirmationui-1-0
-    start securedisplayd-imx
-
-on early-boot && property:vendor.skip.charger_not_need=0
-    # For vp6820_8mp, when swap used about 400M, upgrade the level.
-    setprop ro.lmk.upgrade_pressure 93
-    setprop ro.lmk.downgrade_pressure 99
-    setprop ro.lmk.critical_upgrade true
-
-    setprop vendor.hwc.stretch.filter  1
-
-    # Default g2d [dpu|pxp|viv] lib to be used
-    setprop vendor.imx.default-g2d viv
-
-    # fsl omx graphic manager media framework property
-    setprop vendor.rw.VIDEO_RENDER_NAME video_render.surface
-    setprop vendor.media.fsl_codec.flag 7
-
-    setprop camera.disable_zsl_mode 1
-
-    #Enable GPU 2D do CSC on imx8mp platform
-    setprop vendor.camera.2d.enable true
-
-   # Tweak the mmc device read ahead buffer size
-    write /sys/block/mmcblk1/queue/read_ahead_kb 2048
-    write /sys/block/mmcblk2/queue/read_ahead_kb 2048
-
-    # Prepare for wifi
-    setprop wifi.interface wlan0
-    setprop wifi.direct.interface p2p0
-    setprop wifi.concurrent.interface wlan1
-
-    # Set tracefs permission to 755
-    chmod 0755 /sys/kernel/debug/tracing
-
-    # Set sw_sync group to graphics and set permission to 664
-    chown root graphics /sys/kernel/debug/sync/sw_sync
-    chmod 0664 /sys/kernel/debug/sync/sw_sync
-
-    # Default backlight device
-    setprop vendor.hw.backlight.dev "32e60000.mipi_dsi.0"
-    # Chmod/chown FSL specific sys entry
-    chown system system /sys/class/backlight/32e60000.mipi_dsi.0/brightness
-    chmod 0660 /sys/class/backlight/32e60000.mipi_dsi.0/brightness
-
-    # Backup backlight device
-    setprop vendor.hw.backlight_backup.dev "lvds_backlight"
-    # Chmod/chown FSL specific sys entry
-    chown system system /sys/class/backlight/lvds_backlight/brightness
-    chmod 0660 /sys/class/backlight/lvds_backlight/brightness
-
-    # Set light sensor sysfs path and light sensor threshold lux value
-    setprop ro.hardware.lightsensor "/sys/class/i2c-dev/i2c-0/device/0-0044/"
-    setprop vendor.ro.lightsensor.threshold  20
-
-    # Allow DSD file(duration larger than 10s) can play
-    setprop audio.offload.min.duration.secs 10
-
-    # Enlarge limition of audio buffer allocation
-    setprop ro.af.client_heap_size_kbyte 32768
-
-    start vendor.wifi_hal_legacy
-
-service wpa_supplicant /vendor/bin/hw/wpa_supplicant \
-    -O/data/vendor/wifi/wpa/sockets -puse_p2p_group_interface=1 \
-    -g@android:wpa_wlan0
-    interface android.hardware.wifi.supplicant@1.0::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.1::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.2::ISupplicant default
-    interface android.hardware.wifi.supplicant@1.3::ISupplicant default
-    class main
-    socket wpa_wlan0 dgram 660 wifi wifi
-    disabled
-    oneshot
-
-service sensor_fusion /vendor/bin/fsl_sensor_fusion
-    class late_start
-    seclabel u:r:sensors:s0
-    user system
-    group system uhid
-    oneshot
-
-service vendor.sensors-hal-1-0 /vendor/bin/hw/android.hardware.sensors@1.0-service
-    class hal
-    user system
-    group system wakelock input root
-    capabilities BLOCK_SUSPEND SYS_NICE
-
-# Set watchdog timer to 30 seconds and pet it every 10 seconds to get a 20 second margin
-service watchdogd /system/bin/watchdogd 10 20
-    class core
-    seclabel u:r:watchdogd:s0
-
-# bugreport is triggered by holding down volume down, volume up and power
-service bugreport /system/bin/dumpstate -d -p -z
-    class main
-    disabled
-    oneshot
-    keycodes 114 115 116
-
-on boot && property:vendor.skip.charger_not_need=0
-    start audioserver
-    start mediadrm
-    start media
-    start drm
-
-on fs && property:vendor.skip.charger_not_need=0
-# mount ext4 partitions
-    mount_all /vendor/etc/fstab.nxp --early
-
-    # Adjust parameters for dm-verity device
-    write /sys/block/dm-0/queue/read_ahead_kb 4096
-
-    # Update dm-verity state and set partition.*.verified properties
-    verity_update_state
-
-on post-fs && property:vendor.skip.charger_not_need=0
-    # Set netd memlock rlimit to 8MB
-    setrlimit 8 8388608 8388608
-
-    # Turn on swap
-    swapon_all /vendor/etc/fstab.nxp
-
-    # Swap in only 1 page at a time
-    write /proc/sys/vm/page-cluster 0
-
-    # Grant permission for fetching available_pages info of statsd
-    chown system system /proc/pagetypeinfo
-    chmod 0440 /proc/pagetypeinfo
-
-on post-fs-data && property:vendor.skip.charger_not_need=0
-    setprop vold.post_fs_data_done 1
-    # create temp node for secure storage proxy
-    mkdir /data/vendor/ss 0700 system system
-
-    # tmp dir for opencl Compiler
-    setprop vendor.TMPDIR /data/vendor/.opencl-cache
-    mkdir /data/vendor/.opencl-cache 0771 system camera
-
-on zygote-start && property:vendor.skip.charger_not_need=0
-    # Create the directories used by the Wireless subsystem
-    mkdir /data/vendor/wifi 0771 wifi wifi
-    mkdir /data/vendor/wifi/wpa 0770 wifi wifi
-    mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
-
-service early_init_sh /vendor/bin/init.insmod.sh /vendor/etc/early.init.cfg vendor.all.early_init.ready
-    class main
-    user root
-    group root system
-    disabled
-    oneshot
-
-on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
-    start storageproxyd
-
-service storageproxyd /vendor/bin/storageproxyd -p /data/vendor/ss -r /dev/mmcblk2rpmb -d /dev/trusty-ipc-dev0
-   group system
-
-on property:ro.boot.vendor.sysrq=1 && property:vendor.skip.charger_not_need=0
-    write /proc/sys/kernel/sysrq 1
-
-# setenv append_bootargs androidboot.usb.debugging=1
-on property:ro.boot.usb.debugging=1
-    setprop persist.sys.usb.config adb
-
-# setenv append_bootargs androidboot.powersave.usb=true
-on property:ro.boot.powersave.usb=true
-    # enable platform/32f10100.usb runtime_pm
-    write /sys/devices/platform/soc@0/32f10100.usb/38100000.dwc3/power/control auto
-
-    #enable platform/32f10108.usb runtime_pm
-    write /sys/devices/platform/soc@0/32f10108.usb/38200000.dwc3/power/control auto
-    write /sys/devices/platform/soc@0/32f10108.usb/38200000.dwc3/xhci-hcd.0.auto/power/control auto
-
-# setenv append_bootargs androidboot.lpa.enable=1
-on property:ro.boot.lpa.enable=1
-    setprop vendor.audio.lpa.hold_second 20
-    setprop vendor.audio.lpa.period_ms 500
-    setprop vendor.audio.lpa.enable 1
diff --git a/imx8m/vp6820_8mp/init.recovery.nxp.rc b/imx8m/vp6820_8mp/init.recovery.nxp.rc
deleted file mode 100644
index cf83eaaa..00000000
--- a/imx8m/vp6820_8mp/init.recovery.nxp.rc
+++ /dev/null
@@ -1,8 +0,0 @@
-on init
-    # disable cursor blink for fbcon, if no splash screen support
-    write /sys/class/graphics/fbcon/cursor_blink 0
-
-    setprop sys.usb.configfs 1
-
-on post-fs-data
-    setprop sys.usb.controller "38100000.dwc3"
diff --git a/imx8m/vp6820_8mp/init.usb.rc b/imx8m/vp6820_8mp/init.usb.rc
deleted file mode 100644
index 9df424a3..00000000
--- a/imx8m/vp6820_8mp/init.usb.rc
+++ /dev/null
@@ -1,52 +0,0 @@
-#
-# Copyright (C) 2016 The Android Open-Source Project
-# Copyright 2018 NXP
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-#      http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.
-#
-
-on early-boot
-    mount configfs none /config
-    mkdir /config/usb_gadget/g1 0770
-    mkdir /config/usb_gadget/g1/strings/0x409 0770
-    write /config/usb_gadget/g1/bcdUSB 0x0200
-    write /config/usb_gadget/g1/idVendor 0x18d1
-    write /config/usb_gadget/g1/bcdDevice 0x0440
-    write /config/usb_gadget/g1/strings/0x409/serialnumber ${ro.serialno}
-    write /config/usb_gadget/g1/strings/0x409/manufacturer ${ro.product.manufacturer}
-    write /config/usb_gadget/g1/strings/0x409/product ${ro.product.model}
-    mkdir /config/usb_gadget/g1/functions/mass_storage.0
-    mkdir /config/usb_gadget/g1/functions/accessory.gs2
-    mkdir /config/usb_gadget/g1/functions/audio_source.gs3
-    mkdir /config/usb_gadget/g1/functions/rndis.gs4
-    mkdir /config/usb_gadget/g1/functions/midi.gs5
-    mkdir /config/usb_gadget/g1/functions/ffs.adb
-    mkdir /config/usb_gadget/g1/functions/ffs.mtp
-    mkdir /config/usb_gadget/g1/functions/ffs.ptp
-    mkdir /config/usb_gadget/g1/configs/b.1 0770
-    mkdir /config/usb_gadget/g1/configs/b.1/strings/0x409 0770
-    write /config/usb_gadget/g1/os_desc/b_vendor_code 0x1
-    write /config/usb_gadget/g1/os_desc/qw_sign "MSFT100"
-    mkdir /dev/usb-ffs 0775 shell shell
-    mkdir /dev/usb-ffs/adb 0770 shell shell
-    mount functionfs adb /dev/usb-ffs/adb rmode=0770,fmode=0660,uid=2000,gid=2000
-    mkdir /dev/usb-ffs/mtp 0770 mtp mtp
-    mkdir /dev/usb-ffs/ptp 0770 mtp mtp
-    mount functionfs mtp /dev/usb-ffs/mtp rmode=0770,fmode=0660,uid=1024,gid=1024,no_disconnect=1
-    mount functionfs ptp /dev/usb-ffs/ptp rmode=0770,fmode=0660,uid=1024,gid=1024,no_disconnect=1
-    setprop sys.usb.mtp.device_type 3
-    setprop vendor.usb.config 38100000.dwc3
-    write /sys/module/libcomposite/parameters/disable_l1_for_hs "y"
-    symlink /config/usb_gadget/g1/configs/b.1 /config/usb_gadget/g1/os_desc/b.1
-
-on boot
-    setprop sys.usb.configfs 2
diff --git a/imx8m/vp6820_8mp/input-port-associations.xml b/imx8m/vp6820_8mp/input-port-associations.xml
deleted file mode 100644
index b6809c0d..00000000
--- a/imx8m/vp6820_8mp/input-port-associations.xml
+++ /dev/null
@@ -1,25 +0,0 @@
-<!-- Use below commands to get display port number:
-# dumpsys SurfaceFlinger - -display-id
-Display 4692921138614785 (HWC display 1): port=1 pnpId=DEL displayName="DELL S2740L"
-Display 4693505326422272 (HWC display 0): port=0 pnpId=DEL displayName="DELL P2314T"
-
-Use below commands to get touch input location:
-# getevent -i | grep location
-location: "usb-xhci-hcd.0.auto-1.1.4/input0"
-location: "usb-xhci-hcd.0.auto-1.2.4/input0"
-
-Then bind the display port and input location with below table. This table need
-to modify according to actual connection.
-One display can link with multi-input.
--->
-<ports>
-	<port display="0" input="usb-xhci-hcd.1.auto-1.1.4/input0" />
-	<port display="1" input="usb-xhci-hcd.1.auto-1.2.4/input0" />
-	<port display="2" input="usb-xhci-hcd.1.auto-1.3.4/input0" />
-	<port display="0" input="usb-xhci-hcd.2.auto-1.1.4/input0" />
-	<port display="1" input="usb-xhci-hcd.2.auto-1.2.4/input0" />
-	<port display="2" input="usb-xhci-hcd.2.auto-1.3.4/input0" />
-	<port display="0" input="usb-xhci-hcd.1.auto-1.4/input0" />
-	<port display="0" input="usb-xhci-hcd.2.auto-1.4/input0" />
-	<port display="1" input="usb-xhci-hcd.2.auto-1.4/input0" />
-</ports>
diff --git a/imx8m/vp6820_8mp/manifest.xml b/imx8m/vp6820_8mp/manifest.xml
deleted file mode 100644
index 1210dbbb..00000000
--- a/imx8m/vp6820_8mp/manifest.xml
+++ /dev/null
@@ -1,153 +0,0 @@
-<manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
-    <hal format="hidl">
-	<name>android.hardware.graphics.allocator</name>
-        <transport>hwbinder</transport>
-	<impl level="generic"></impl>
-	<version>4.0</version>
-	<interface>
-	    <name>IAllocator</name>
-	    <instance>default</instance>
-	</interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.composer</name>
-        <transport>hwbinder</transport>
-        <version>2.4</version>
-        <interface>
-            <name>IComposer</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>4.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.3</version>
-        <interface>
-            <name>ICryptoFactory</name>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-        </interface>
-        <fqname>@1.3::ICryptoFactory/clearkey</fqname>
-        <fqname>@1.3::IDrmFactory/clearkey</fqname>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.gatekeeper</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IGatekeeper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.mapper</name>
-        <transport arch="32+64">passthrough</transport>
-        <impl level="generic"></impl>
-        <version>4.0</version>
-        <interface>
-            <name>IMapper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.renderscript</name>
-        <transport arch="32+64">passthrough</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.sensors</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>ISensors</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.c2</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IComponentStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.omx</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IOmx</name>
-            <instance>default</instance>
-        </interface>
-        <interface>
-            <name>IOmxStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio</name>
-        <transport>hwbinder</transport>
-        <version>6.0</version>
-        <interface>
-            <name>IDevicesFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio.effect</name>
-        <transport>hwbinder</transport>
-        <version>6.0</version>
-        <interface>
-            <name>IEffectsFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.bluetooth</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IBluetoothHci</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.dumpstate</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>IDumpstateDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>nxp.hardware.display</name>
-            <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDisplay</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-       <name>android.hardware.camera.provider</name>
-       <transport>hwbinder</transport>
-       <fqname>@2.4::ICameraProvider/external/0</fqname>
-    </hal>
-</manifest>
diff --git a/imx8m/vp6820_8mp/manifest_powersave.xml b/imx8m/vp6820_8mp/manifest_powersave.xml
deleted file mode 100644
index ebd80361..00000000
--- a/imx8m/vp6820_8mp/manifest_powersave.xml
+++ /dev/null
@@ -1,148 +0,0 @@
-<manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
-    <hal format="hidl">
-	<name>android.hardware.graphics.allocator</name>
-        <transport>hwbinder</transport>
-	<impl level="generic"></impl>
-	<version>4.0</version>
-	<interface>
-	    <name>IAllocator</name>
-	    <instance>default</instance>
-	</interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.composer</name>
-        <transport>hwbinder</transport>
-        <version>2.4</version>
-        <interface>
-            <name>IComposer</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>4.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.3</version>
-        <interface>
-            <name>ICryptoFactory</name>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-        </interface>
-        <fqname>@1.3::ICryptoFactory/clearkey</fqname>
-        <fqname>@1.3::IDrmFactory/clearkey</fqname>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.gatekeeper</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IGatekeeper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.graphics.mapper</name>
-        <transport arch="32+64">passthrough</transport>
-        <impl level="generic"></impl>
-        <version>4.0</version>
-        <interface>
-            <name>IMapper</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.renderscript</name>
-        <transport arch="32+64">passthrough</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.c2</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IComponentStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.media.omx</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IOmx</name>
-            <instance>default</instance>
-        </interface>
-        <interface>
-            <name>IOmxStore</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.memtrack</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IMemtrack</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio</name>
-        <transport>hwbinder</transport>
-        <version>6.0</version>
-        <interface>
-            <name>IDevicesFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.audio.effect</name>
-        <transport>hwbinder</transport>
-		<version>6.0</version>
-        <interface>
-            <name>IEffectsFactory</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.bluetooth</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IBluetoothHci</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.dumpstate</name>
-        <transport>hwbinder</transport>
-        <version>1.1</version>
-        <interface>
-            <name>IDumpstateDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>nxp.hardware.display</name>
-            <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IDisplay</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-</manifest>
diff --git a/imx8m/vp6820_8mp/manifest_userdebug.xml b/imx8m/vp6820_8mp/manifest_userdebug.xml
deleted file mode 100644
index da69eb68..00000000
--- a/imx8m/vp6820_8mp/manifest_userdebug.xml
+++ /dev/null
@@ -1,12 +0,0 @@
-<manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
-    <hal format="hidl">
-        <name>android.hardware.memtrack</name>
-        <transport>hwbinder</transport>
-        <version>1.0</version>
-        <interface>
-            <name>IMemtrack</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-</manifest>
diff --git a/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png b/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png b/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/drawable-sw600dp-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png b/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png
deleted file mode 100644
index 9c41bcba..00000000
Binary files a/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/drawable-sw720dp-nodpi/default_wallpaper.png and /dev/null differ
diff --git a/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/values/config.xml b/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/values/config.xml
deleted file mode 100644
index cd5b7b69..00000000
--- a/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/values/config.xml
+++ /dev/null
@@ -1,197 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-/*
-** Copyright 2011, The Android Open Source Project
-**
-** Licensed under the Apache License, Version 2.0 (the "License");
-** you may not use this file except in compliance with the License.
-** You may obtain a copy of the License at
-**
-**     http://www.apache.org/licenses/LICENSE-2.0
-**
-** Unless required by applicable law or agreed to in writing, software
-** distributed under the License is distributed on an "AS IS" BASIS,
-** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-** See the License for the specific language governing permissions and
-** limitations under the License.
-*/
--->
-
-<!-- These resources are around just to allow their values to be customized
-     for different hardware and product builds. -->
-<resources>
-
-    <!--For Android we support eth0 now -->
-    <string translatable="false" name="config_ethernet_iface_regex">eth0</string>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         USB interfaces.  If the device doesn't want to support tething over USB this should
-         be empty.  An example would be "usb.*" -->
-     <string-array translatable="false" name="config_tether_usb_regexs">
-       <item>usb0</item>
-     </string-array>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         Wifi interfaces.  If the device doesn't want to support tethering over Wifi this
-         should be empty.  An example would be "softap.*" -->
-    <string-array translatable="false" name="config_tether_wifi_regexs">
-      <item>"wlan0"</item>
-    </string-array>
-
-    <!-- List of regexpressions describing the interface (if any) that represent tetherable
-         bluetooth interfaces.  If the device doesn't want to support tethering over bluetooth this
-         should be empty. -->
-    <string-array translatable="false" name="config_tether_bluetooth_regexs">
-        <item>"bt-pan"</item>
-        </string-array>
-
-    <!-- Array of ConnectivityManager.TYPE_xxxx values allowable for tethering -->
-    <!-- Common options are [1, 4] for TYPE_WIFI and TYPE_MOBILE_DUN or
-    <!== [0,1,5,7,9] for TYPE_MOBILE, TYPE_WIFI, TYPE_MOBILE_HIPRI, TYPE_BLUETOOTH and TYPE_ETHERNET -->
-    <integer-array translatable="false" name="config_tether_upstream_types">
-        <item>0</item>
-        <item>1</item>
-        <item>5</item>
-        <item>9</item>
-    </integer-array>
-
-    <!-- Flag indicating whether we should enable the automatic brightness in Settings.
-         config_hardware_automatic_brightness_available is not set, so we will use software implementation -->
-    <bool name="config_automatic_brightness_available">true</bool>
-
-    <!-- An Array of "[ConnectivityManager connectionType],
-                      [# simultaneous connection types]"  -->
-    <string-array translatable="false" name="radioAttributes">
-        <item>"1,1"</item>
-        <item>"9,1"</item>
-    </string-array>
-
-    <!-- An Array of "[Connection name],[ConnectivityManager.TYPE_xxxx],
-         [associated radio-type],[priority],[restoral-timer(ms)],[dependencyMet]  -->
-    <!-- the 5th element "resore-time" indicates the number of milliseconds to delay
-         before automatically restore the default connection.  Set -1 if the connection
-         does not require auto-restore. -->
-    <!-- the 6th element indicates boot-time dependency-met value. -->
-    <string-array translatable="false" name="networkAttributes">
-        <item>"wifi,1,1,1,-1,true"</item>
-        <item>"bluetooth,7,7,2,-1,true"</item>
-        <item>"ethernet,9,9,2,-1,true"</item>
-    </string-array>
-
-    <!-- Array of light sensor LUX values to define our levels for auto backlight brightness support.
-         The N entries of this array define N + 1 zones as follows:
-
-         Zone 0:        0 <= LUX < array[0]
-         Zone 1:        array[0] <= LUX < array[1]
-         ...
-         Zone N:        array[N - 1] <= LUX < array[N]
-         Zone N + 1:    array[N] <= LUX < infinity
-
-         Must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessLevels">
-        <item>5</item>
-        <item>15</item>
-        <item>50</item>
-        <item>100</item>
-        <item>200</item>
-        <item>400</item>
-        <item>1000</item>
-        <item>2000</item>
-        <item>3000</item>
-        <item>5000</item>
-        <item>10000</item>
-        <item>30000</item>
-    </integer-array>
-
-    <!-- Array of output values for LCD backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessLcdBacklightValues">
-        <item>5</item>    <!-- 0-5 -->
-        <item>20</item>   <!-- 5-15 -->
-        <item>30</item>   <!-- 15-50 -->
-        <item>40</item>   <!-- 50-100 -->
-        <item>50</item>   <!-- 100-200 -->
-        <item>60</item>   <!-- 200-400 -->
-        <item>70</item>   <!-- 400-1000 -->
-        <item>80</item>   <!-- 1000-2000 -->
-        <item>130</item>  <!-- 2000-3000 -->
-        <item>180</item>  <!-- 3000-5000 -->
-        <item>255</item>  <!-- 5000-10000 -->
-        <item>255</item>  <!-- 10000-30000 -->
-        <item>255</item>  <!-- 30000+ -->
-    </integer-array>
-
-    <!-- Array of output values for button backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessButtonBacklightValues">
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-    </integer-array>
-
-    <!-- Array of output values for keyboard backlight corresponding to the LUX values
-         in the config_autoBrightnessLevels array.  This array should have size one greater
-         than the size of the config_autoBrightnessLevels array.
-         This must be overridden in platform specific overlays -->
-    <integer-array name="config_autoBrightnessKeyboardBacklightValues">
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-        <item>0</item>
-    </integer-array>
-
-    <integer name="config_screenBrightnessDim">5</integer>
-
-    <!--  Maximum number of supported users -->
-    <integer name="config_multiuserMaximumUsers">8</integer>
-    <!--  Whether Multiuser UI should be shown -->
-    <bool name="config_enableMultiUserUI">true</bool>
-
-    <!-- Whether a software navigation bar should be shown. NOTE: in the future this may be
-         autodetected from the Configuration. -->
-    <bool name="config_showNavigationBar">true</bool>
-
-    <!-- This device is not "voice capable"; it's data-only. -->
-    <bool name="config_voice_capable">false</bool>
-
-    <!-- Boolean indicating whether system support sustained performance mode. -->
-    <bool name="config_sustainedPerformanceModeSupported">true</bool>
-
-    <!-- If the system has the input method for each display - enable per-display focus. -->
-    <bool name="config_perDisplayFocusEnabled">true</bool>
-
-    <!-- The default gravity for the picture-in-picture window.
-         Currently, this maps to Gravity.TOP | Gravity.RIGHT -->
-    <integer name="config_defaultPictureInPictureGravity">0x35</integer>
-</resources>
diff --git a/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/xml/power_profile.xml b/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/xml/power_profile.xml
deleted file mode 100644
index 2104fe62..00000000
--- a/imx8m/vp6820_8mp/overlay/frameworks/base/core/res/res/xml/power_profile.xml
+++ /dev/null
@@ -1,27 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-**
-** Copyright 2009, The Android Open Source Project
-*  Copyright (C) 2016 Freescale Semiconductor, Inc.
-**
-** Licensed under the Apache License, Version 2.0 (the "License")
-** you may not use this file except in compliance with the License.
-** You may obtain a copy of the License at
-**
-**     http://www.apache.org/licenses/LICENSE-2.0
-**
-** Unless required by applicable law or agreed to in writing, software
-** distributed under the License is distributed on an "AS IS" BASIS,
-** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-** See the License for the specific language governing permissions and
-** limitations under the License.
-*/
--->
-
-<device name="Android">
-  <array name="cpu.active">
-      <value>0.1</value>
-  </array>
-  <!-- This is the battery capacity in mAh -->
-  <item name="battery.capacity">4800</item>
-</device>
diff --git a/imx8m/vp6820_8mp/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml b/imx8m/vp6820_8mp/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml
deleted file mode 100644
index 0bf9ee21..00000000
--- a/imx8m/vp6820_8mp/overlay/frameworks/base/packages/SettingsProvider/res/values/defaults.xml
+++ /dev/null
@@ -1,25 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-/**
- * Copyright (c) 2009, The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *     http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
--->
-<resources>
-    <!-- Default for Settings.Secure.USER_SETUP_COMPLETE -->
-    <bool name="def_user_setup_complete">true</bool>
-    <bool name="def_bluetooth_on">false</bool>
-    <bool name="def_stay_on_while_plugged_in">true</bool>
-    <string name="def_immersive_mode_confirmations" translatable="false">confirmed</string>
-</resources>
diff --git a/imx8m/vp6820_8mp/overlay/packages/apps/Settings/res/values/bools.xml b/imx8m/vp6820_8mp/overlay/packages/apps/Settings/res/values/bools.xml
deleted file mode 100644
index e9f565d3..00000000
--- a/imx8m/vp6820_8mp/overlay/packages/apps/Settings/res/values/bools.xml
+++ /dev/null
@@ -1,19 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2009 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-  
-          http://www.apache.org/licenses/LICENSE-2.0
-  
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<resources>
-    <bool name="config_additional_system_update_setting_enable">true</bool>
-</resources>
diff --git a/imx8m/vp6820_8mp/overlay/packages/apps/Settings/res/values/config.xml b/imx8m/vp6820_8mp/overlay/packages/apps/Settings/res/values/config.xml
deleted file mode 100644
index dbf188dc..00000000
--- a/imx8m/vp6820_8mp/overlay/packages/apps/Settings/res/values/config.xml
+++ /dev/null
@@ -1,22 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2007 The Android Open Source Project
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
-    <string name="additional_system_update" translatable="false">com.example.android.systemupdatersample</string>
-    <string name="additional_system_update_menu" translatable="false">com.example.android.systemupdatersample.ui.MainActivity</string>
-    <string name="config_work_policy_info_intent_action" translatable="false">com.google.android.settings.privacy.ACTION_SHOW_WORK_POLICY_INFO</string>
-
-</resources>
diff --git a/imx8m/vp6820_8mp/powerhint_imx8mp.json b/imx8m/vp6820_8mp/powerhint_imx8mp.json
deleted file mode 100644
index 572c8140..00000000
--- a/imx8m/vp6820_8mp/powerhint_imx8mp.json
+++ /dev/null
@@ -1,200 +0,0 @@
-{
-  "Nodes": [
-    {
-      "Name": "CPULittleClusterMaxFreq",
-      "Path": "/sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq",
-      "Values": [
-        "1800000",
-        "1600000",
-        "1200000"
-      ],
-      "DefaultIndex": 0,
-      "ResetOnInit": true
-    },
-    {
-      "Name": "CPULittleClusterMinFreq",
-      "Path": "/sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq",
-      "Values": [
-        "1800000",
-        "1600000",
-        "1200000"
-      ],
-      "ResetOnInit": true
-    },
-    {
-      "Name": "TASchedtuneBoost",
-      "Path": "/dev/stune/top-app/schedtune.boost",
-      "Values": [
-        "60",
-        "10"
-      ],
-      "DefaultIndex": 1,
-      "ResetOnInit": true
-    },
-    {
-      "Name": "PMQoSCpuDmaLatency",
-      "Path": "/dev/cpu_dma_latency",
-      "Values": [
-        "0",
-        "3000"
-      ],
-      "DefaultIndex": 1,
-      "HoldFd": true
-    },
-    {
-      "Name": "PowerHALMainState",
-      "Path": "vendor.powerhal.camera",
-      "Values": [
-        "CAMERA_STREAMING_MID",
-        ""
-      ],
-      "Type": "Property"
-    },
-    {
-      "Name": "PowerHALAudioState",
-      "Path": "vendor.powerhal.audio",
-      "Values": [
-        "AUDIO_STREAMING_LOW_LATENCY",
-        ""
-      ],
-      "Type": "Property"
-    },
-    {
-      "Name": "PowerHALRenderingState",
-      "Path": "vendor.powerhal.rendering",
-      "Values": [
-        "EXPENSIVE_RENDERING",
-        ""
-      ],
-      "Type": "Property"
-    }
-  ],
-  "Actions": [
-    {
-      "PowerHint": "SUSTAINED_PERFORMANCE",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "TASchedtuneBoost",
-      "Duration": 0,
-      "Value": "60"
-    },
-    {
-      "PowerHint": "INTERACTION",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 500,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 5000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 5000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "LAUNCH",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 5000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 5000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 5000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "CAMERA_LAUNCH",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 1000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "CAMERA_STREAMING_MID",
-      "Node": "PowerHALMainState",
-      "Duration": 0,
-      "Value": "CAMERA_STREAMING_MID"
-    },
-    {
-      "PowerHint": "CAMERA_STREAMING_MID",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 5000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 5000,
-      "Value": "1800000"
-    },
-    {
-      "PowerHint": "CAMERA_SHOT",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 1000,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "LOW_POWER",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "1200000"
-    },
-    {
-      "PowerHint": "LOW_POWER",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "AUDIO_STREAMING_LOW_LATENCY",
-      "Node": "PowerHALAudioState",
-      "Duration": 0,
-      "Value": "AUDIO_STREAMING_LOW_LATENCY"
-    },
-    {
-      "PowerHint": "AUDIO_STREAMING_LOW_LATENCY",
-      "Node": "PMQoSCpuDmaLatency",
-      "Duration": 0,
-      "Value": "0"
-    },
-    {
-      "PowerHint": "FIXED_PERFORMANCE",
-      "Node": "CPULittleClusterMaxFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    },
-    {
-      "PowerHint": "FIXED_PERFORMANCE",
-      "Node": "CPULittleClusterMinFreq",
-      "Duration": 0,
-      "Value": "1600000"
-    }
-  ]
-}
diff --git a/imx8m/vp6820_8mp/required_hardware.xml b/imx8m/vp6820_8mp/required_hardware.xml
deleted file mode 100644
index f751b4ae..00000000
--- a/imx8m/vp6820_8mp/required_hardware.xml
+++ /dev/null
@@ -1,34 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2009 The Android Open Source Project
-     Copyright 2018 NXP
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<!-- These are the hardware components that are included in i.MX reference board
--->
-<permissions>
-    <!-- This is Android and fully CTS compatible.  Basically this is for CTS tests to use. -->
-    <feature name="android.software.cts" />
-    <feature name="android.hardware.microphone" />
-    <feature name="android.hardware.camera.any" />
-    <feature name="android.software.cant_save_state" />
-    <feature name="android.software.home_screen" />
-    <feature name="android.software.input_methods" />
-    <feature name="android.hardware.location" />
-    <feature name="android.hardware.location.network" />
-    <feature name="android.hardware.bluetooth" />
-    <feature name="android.software.companion_device_setup" />
-    <feature name="android.software.autofill" />
-    <feature name="android.software.secure_lock_screen" />
-</permissions>
diff --git a/imx8m/vp6820_8mp/required_hardware_powersave.xml b/imx8m/vp6820_8mp/required_hardware_powersave.xml
deleted file mode 100644
index ff7f19a2..00000000
--- a/imx8m/vp6820_8mp/required_hardware_powersave.xml
+++ /dev/null
@@ -1,33 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!-- Copyright (C) 2009 The Android Open Source Project
-     Copyright 2018 NXP
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-
-<!-- These are the hardware components that are included in i.MX reference board
--->
-<permissions>
-    <!-- This is Android and fully CTS compatible.  Basically this is for CTS tests to use. -->
-    <feature name="android.software.cts" />
-    <feature name="android.hardware.microphone" />
-    <feature name="android.software.cant_save_state" />
-    <feature name="android.software.home_screen" />
-    <feature name="android.software.input_methods" />
-    <feature name="android.hardware.location" />
-    <feature name="android.hardware.location.network" />
-    <feature name="android.hardware.bluetooth" />
-    <feature name="android.software.companion_device_setup" />
-    <feature name="android.software.autofill" />
-    <feature name="android.software.secure_lock_screen" />
-</permissions>
diff --git a/imx8m/vp6820_8mp/seccomp/mediacodec-seccomp.policy b/imx8m/vp6820_8mp/seccomp/mediacodec-seccomp.policy
deleted file mode 100644
index 9bac41bf..00000000
--- a/imx8m/vp6820_8mp/seccomp/mediacodec-seccomp.policy
+++ /dev/null
@@ -1 +0,0 @@
-select: 1
diff --git a/imx8m/vp6820_8mp/seccomp/mediaextractor-seccomp.policy b/imx8m/vp6820_8mp/seccomp/mediaextractor-seccomp.policy
deleted file mode 100644
index abbef2c2..00000000
--- a/imx8m/vp6820_8mp/seccomp/mediaextractor-seccomp.policy
+++ /dev/null
@@ -1,5 +0,0 @@
-uname: 1
-fchmodat: 1
-ftruncate64: 1
-readlinkat: 1
-pread64: 1
diff --git a/imx8m/vp6820_8mp/sepolicy/file_contexts b/imx8m/vp6820_8mp/sepolicy/file_contexts
deleted file mode 100644
index 8ef5733e..00000000
--- a/imx8m/vp6820_8mp/sepolicy/file_contexts
+++ /dev/null
@@ -1,35 +0,0 @@
-/dev/block/mmcblk2boot0                      u:object_r:emmc_boot0:s0
-/dev/block/mmcblk1                           u:object_r:sdcard:s0
-
-#peripheral
-/vendor/bin/fsl_sensor_fusion   u:object_r:sensors_exec:s0
-/dev/ttymxc[0-9]*               u:object_r:tty_device:s0
-/dev/sda[0-8]*                  u:object_r:fuse:s0
-
-#Thermal HAL service
-/vendor/bin/hw/android\.hardware\.thermal@2\.0-service.imx         u:object_r:hal_thermal_default_exec:s0
-#Neural Network HAL service
-/vendor/bin/hw/android\.hardware\.neuralnetworks@1\.3-service-vsi-npu-server      u:object_r:hal_neuralnetworks_imx_exec:s0
-
-# Media Codec2 service
-/vendor/bin/hw/android\.hardware\.media\.c2@1\.0-service    u:object_r:mediacodec_exec:s0
-
-/dev/block/pmem0  u:object_r:rebootescrow_device:s0
-
-# isp related
-/vendor/bin/vvext                           u:object_r:isp_exec:s0
-/vendor/bin/video_test                      u:object_r:isp_exec:s0
-/vendor/bin/isp_media_server                u:object_r:isp_exec:s0
-/dev/v4l-subdev[0-9]*                       u:object_r:video_device:s0
-/data/vendor/isp(/.*)?                      u:object_r:isp_file:s0
-
-# android.system.suspend@1.0-service
-/sys/devices/virtual/wakeup/wakeup[0-9]*(/.*)?                                                                                                        u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-powerkey/wakeup/wakeup[0-9]*(/.*)?                                          u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/30800000.bus/30a30000.i2c/i2c-1/1-0050/power_supply/tcpm-source-psy-1-0050/wakeup[0-9]*(/.*)?                             u:object_r:sysfs_wakeup:s0
-/sys/devices/virtual/power_supply/battery/wakeup[0-9]*(/.*)?                                                                                          u:object_r:sysfs_wakeup:s0
-/sys/devices/virtual/power_supply/usb/wakeup[0-9]*(/.*)?                                                                                              u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-rtc-lp/wakeup/wakeup[0-9]*(/.*)?                                            u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-rtc-lp/rtc/rtc0/alarmtimer.1.auto/wakeup/wakeup[0-9]*(/.*)?                 u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/30800000.bus/30be0000.ethernet/net/eth0/wakeup[0-9]*(/.*)?                                                                u:object_r:sysfs_wakeup:s0
-/sys/devices/platform/soc@0/33800000.pcie/pci0000:00/0000:00:00.0/0000:01:00.0/wakeup/wakeup[0-9]*(/.*)?                                          u:object_r:sysfs_wakeup:s0
diff --git a/imx8m/vp6820_8mp/sepolicy/genfs_contexts b/imx8m/vp6820_8mp/sepolicy/genfs_contexts
deleted file mode 100644
index 0f3c4ec4..00000000
--- a/imx8m/vp6820_8mp/sepolicy/genfs_contexts
+++ /dev/null
@@ -1,19 +0,0 @@
-genfscon sysfs /devices/platform/soc@0/30000000.bus/30370000.snvs/30370000.snvs:snvs-rtc-lp/rtc/rtc0/hctosys     u:object_r:sysfs_rtc:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30b50000.mmc/mmc_host/mmc1/mmc1:aaaa/block/mmcblk1 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30b60000.mmc/mmc_host/mmc2/mmc2:0001/block/mmcblk2 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30bb0000.spi/spi_master/spi0/spi0.0/mtd/mtd0/mtdblock0 u:object_r:sysfs_block_devices:s0
-genfscon sysfs /devices/platform/soc@0/32c00000.bus/32e60000.mipi_dsi/32e60000.mipi_dsi.0/backlight u:object_r:sysfs_leds:s0
-genfscon sysfs /devices/platform/soc@0/30400000.bus/30670000.pwm/consumer:lvds_backlight/consumer/backlight u:object_r:sysfs_leds:s0
-
-#sys/class/net
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30be0000.ethernet/net                u:object_r:sysfs_net:s0
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30bf0000.ethernet/net                u:object_r:sysfs_net:s0
-genfscon sysfs /devices/platform/32f10100.usb/38100000.dwc3/gadget/net                   u:object_r:sysfs_net:s0
-genfscon sysfs /devices/platform/soc@0/33800000.pcie/pci0000:00/0000:00:00.0/0000:01:00.0/net  u:object_r:sysfs_net:s0
-
-genfscon sysfs /devices/platform/soc@0/30800000.bus/30a30000.i2c/i2c-1/1-0050/extcon u:object_r:sysfs_extcon:s0
-
-# for dumpstate to access the stat file
-genfscon sysfs /devices/platform/94400000.pmem/ndbus0/region0/namespace0.0/block/pmem0                                       u:object_r:sysfs_block_devices:s0
-
-genfscon sysfs /devices/platform/backlight/backlight/backlight u:object_r:sysfs_leds:s0
diff --git a/imx8m/vp6820_8mp/sepolicy/isp.te b/imx8m/vp6820_8mp/sepolicy/isp.te
deleted file mode 100644
index 477bf4c2..00000000
--- a/imx8m/vp6820_8mp/sepolicy/isp.te
+++ /dev/null
@@ -1,15 +0,0 @@
-type isp, domain;
-type isp_exec, exec_type, vendor_file_type, file_type;
-type isp_file, file_type, data_file_type;
-
-# Started by init
-init_daemon_domain(isp)
-
-dontaudit isp self:capability { dac_override };
-
-allow isp isp_file:dir { add_name write search };
-allow isp isp_file:file { create lock open read write };
-allow isp video_device:chr_file { open read write ioctl map getattr };
-allow isp self:capability { sys_nice };
-allow isp sysfs:dir { open read };
-allow isp sysfs:file { open read };
diff --git a/imx8m/vp6820_8mp/thermal_info_config_imx8mp.json b/imx8m/vp6820_8mp/thermal_info_config_imx8mp.json
deleted file mode 100755
index 36416a7e..00000000
--- a/imx8m/vp6820_8mp/thermal_info_config_imx8mp.json
+++ /dev/null
@@ -1,88 +0,0 @@
-{
-    "HotplugCPUs":[
-            "cpu2",
-            "cpu3"
-    ],
-    "Sensors":[
-        {
-            "Name":"cpu-thermal",
-            "Type":"CPU",
-            "HotThreshold":[
-                "NAN",
-                80.0,
-                82.0,
-                86.0,
-                90.0,
-                "NAN",
-                "NAN"
-            ],
-            "HotHysteresis":[
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        },
-        {
-            "Name":"soc-thermal",
-            "Type":"CPU",
-            "HotThreshold":[
-                "NAN",
-                "NAN",
-                "NAN",
-                85.0,
-                95.0,
-                "NAN",
-                "NAN"
-            ],
-            "HotHysteresis":[
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0,
-                2.0
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        },
-        {
-            "Name":"battery",
-            "Type":"BATTERY",
-            "HotThreshold":[
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN",
-                "NAN"
-            ],
-            "VrThreshold":"NAN",
-            "Multiplier":0.001,
-            "Monitor":true
-        }
-    ],
-    "CoolingDevices":[
-        {
-            "Name":"thermal-devfreq-0",
-            "Type": "CPU"
-        },
-        {
-            "Name":"thermal-devfreq-1",
-            "Type":"CPU"
-        },
-        {
-            "Name":"thermal-cpufreq-0",
-            "Type":"CPU"
-        }
-    ]
-}
diff --git a/imx8m/vp6820_8mp/ueventd.nxp.rc b/imx8m/vp6820_8mp/ueventd.nxp.rc
deleted file mode 100644
index 8776373b..00000000
--- a/imx8m/vp6820_8mp/ueventd.nxp.rc
+++ /dev/null
@@ -1,21 +0,0 @@
-/dev/block/by-name/presistdata 0600   system     system
-/dev/ttymxc0              0660   bluetooth  bluetooth
-/dev/snd/*                0660   system     audio
-/dev/video*               0660   system     camera
-/dev/mxc_hifi4            0660   media      drmrpc
-/dev/mxc_hantro           0666   media      drmrpc
-/dev/mxc_hantro_vc8000e   0666   media      drmrpc
-/dev/vsi_daemon_ctrl      0666   media      drmrpc
-/dev/ion                  0666   media      drmrpc
-/dev/galcore	          0666 	 system     graphics
-/dev/graphics/fb0         0660   system     graphics
-/dev/watchdog             0660   system     root
-/dev/mmcblk2rpmb    0600   system     system
-/dev/trusty-ipc-dev0      0660   system     drmrpc
-/dev/block/pmem0          0660   system     system
-
-/sys/devices/virtual/thermal/thermal_zone* trip_point_0_temp 0660 system system
-/sys/devices/virtual/thermal/thermal_zone* trip_point_1_temp 0660 system system
-
-/sys/devices/virtual/thermal/thermal_zone* trip_point_0_hyst 0660 system system
-/sys/devices/virtual/thermal/thermal_zone* trip_point_1_hyst 0660 system system
diff --git a/imx8m/vp6820_8mp/usb_audio_policy_configuration-direct-output.xml b/imx8m/vp6820_8mp/usb_audio_policy_configuration-direct-output.xml
deleted file mode 100644
index b826785a..00000000
--- a/imx8m/vp6820_8mp/usb_audio_policy_configuration-direct-output.xml
+++ /dev/null
@@ -1,56 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!-- Copyright (C) 2019 The Android Open Source Project
-     Copyright 2019 NXP
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-<!-- USB Audio HAL Audio Policy Configuration file -->
-
-<module name="usb" halVersion="2.0">
-    <mixPorts>
-        <mixPort name="usb_accessory output" role="source">
-            <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                     samplingRates="44100" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-        </mixPort>
-        <mixPort name="direct output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-            <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                     samplingRates="384000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-        </mixPort>
-        <mixPort name="usb_device output" role="source"/>
-        <mixPort name="usb_device input" role="sink"/>
-    </mixPorts>
-    <devicePorts>
-        <devicePort tagName="USB Host Out" type="AUDIO_DEVICE_OUT_USB_ACCESSORY" role="sink">
-            <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                     samplingRates="44100" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
-        </devicePort>
-        <devicePort tagName="USB Device Out" type="AUDIO_DEVICE_OUT_USB_DEVICE" role="sink"/>
-        <devicePort tagName="USB Headset Out" type="AUDIO_DEVICE_OUT_USB_HEADSET" role="sink"/>
-        <devicePort tagName="USB Device In" type="AUDIO_DEVICE_IN_USB_DEVICE" role="source"/>
-        <devicePort tagName="USB Headset In" type="AUDIO_DEVICE_IN_USB_HEADSET" role="source"/>
-    </devicePorts>
-    <routes>
-        <route type="mix" sink="USB Host Out"
-               sources="usb_accessory output"/>
-        <route type="mix" sink="USB Device Out"
-               sources="usb_device output"/>
-        <route type="mix" sink="USB Headset Out"
-               sources="usb_device output"/>
-        <route type="mix" sink="usb_device input"
-               sources="USB Device In,USB Headset In"/>
-        <route type="mix" sink="USB Device Out"
-               sources="direct output"/>
-        <route type="mix" sink="USB Headset Out"
-               sources="direct output"/>
-    </routes>
-</module>
diff --git a/imx8m/vp6820_8mp/vp6820_8mp.mk b/imx8m/vp6820_8mp/vp6820_8mp.mk
deleted file mode 100644
index b3c5304c..00000000
--- a/imx8m/vp6820_8mp/vp6820_8mp.mk
+++ /dev/null
@@ -1,551 +0,0 @@
-# -------@block_infrastructure-------
-CONFIG_REPO_PATH := device/idtech
-CURRENT_FILE_PATH :=  $(lastword $(MAKEFILE_LIST))
-IMX_DEVICE_PATH := $(strip $(patsubst %/, %, $(dir $(CURRENT_FILE_PATH))))
-
-# configs shared between uboot, kernel and Android rootfs
-include $(IMX_DEVICE_PATH)/SharedBoardConfig.mk
-
--include $(CONFIG_REPO_PATH)/common/imx_path/ImxPathConfig.mk
-include $(CONFIG_REPO_PATH)/imx8m/ProductConfigCommon.mk
-
-# -------@block_common_config-------
-# Overrides
-PRODUCT_NAME := vp6820_8mp
-PRODUCT_DEVICE := vp6820_8mp
-PRODUCT_MODEL := VP6820_8MP
-
-TARGET_BOOTLOADER_BOARD_NAME := EVK
-
-PRODUCT_CHARACTERISTICS := tablet
-
-DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
-
-PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
-
-# -------@block_treble-------
-PRODUCT_FULL_TREBLE_OVERRIDE := true
-
-# -------@block_power-------
-PRODUCT_SOONG_NAMESPACES += vendor/nxp-opensource/imx/power
-PRODUCT_SOONG_NAMESPACES += hardware/google/pixel
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/powerhint_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/powerhint_imx8mp.json
-
-# Charger Mode
-PRODUCT_PRODUCT_PROPERTIES += \
-    ro.charger.no_ui=false
-
-# Do not skip charger_not_need trigger by default
-PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
-    vendor.skip.charger_not_need=0
-
-
-PRODUCT_PACKAGES += \
-    android.hardware.power-service.imx
-
-
-# Thermal HAL
-PRODUCT_PACKAGES += \
-    android.hardware.thermal@2.0-service.imx
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/thermal_info_config_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mp.json
-
-
-# -------@block_app-------
-
-#Enable this to choose 32 bit user space build
-IMX8_BUILD_32BIT_ROOTFS := false
-
-# Set permission for GMS packages
-PRODUCT_COPY_FILES += \
-	  $(CONFIG_REPO_PATH)/imx8m/permissions/privapp-permissions-imx.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/privapp.permissions-imx.xml
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/app_whitelist.xml:system/etc/sysconfig/app_whitelist.xml \
-    $(CONFIG_REPO_PATH)/common/permissions/runtime_allowed.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/runtime_allowed.xml \
-    $(CONFIG_REPO_PATH)/common/security/signature_of_signature.public.key:$(TARGET_COPY_OUT_PRODUCT)/etc/security/signature_of_signature.public.key \
-    $(CONFIG_REPO_PATH)/imx8m/device_policy.sh:$(TARGET_COPY_OUT_PRODUCT)/etc/init/hw/device_policy.sh
-
-# -------@block_kernel_bootimg-------
-
-# Enable this to support vendor boot and boot header v3, this would be a MUST for GKI
-TARGET_USE_VENDOR_BOOT ?= true
-
-
-# We load the fstab from device tree so this is not needed, but since no kernel modules are installed to vendor
-# boot ramdisk so far, we need this step to generate the vendor-ramdisk folder or build process would fail. This
-# can be deleted once we figure out what kernel modules should be put into the vendor boot ramdisk.
-ifeq ($(TARGET_USE_VENDOR_BOOT),true)
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/fstab.nxp:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/first_stage_ramdisk/fstab.nxp
-endif
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/early.init.cfg:$(TARGET_COPY_OUT_VENDOR)/etc/early.init.cfg \
-    $(LINUX_FIRMWARE_IMX_PATH)/linux-firmware-imx/firmware/sdma/sdma-imx7d.bin:$(TARGET_COPY_OUT_VENDOR)/firmware/imx/sdma/sdma-imx7d.bin \
-    $(CONFIG_REPO_PATH)/common/init/init.insmod.sh:$(TARGET_COPY_OUT_VENDOR)/bin/init.insmod.sh \
-    $(IMX_DEVICE_PATH)/ueventd.nxp.rc:$(TARGET_COPY_OUT_VENDOR)/ueventd.rc
-
-
-# -------@block_storage-------
-
-#Enable this to use dynamic partitions for the readonly partitions not touched by bootloader
-TARGET_USE_DYNAMIC_PARTITIONS ?= true
-
-ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
-  PRODUCT_USE_DYNAMIC_PARTITIONS := true
-  BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
-  BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
-endif
-
-#Enable this to disable product partition build.
-IMX_NO_PRODUCT_PARTITION := false
-
-$(call inherit-product, $(SRC_TARGET_DIR)/product/emulated_storage.mk)
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/fstab.nxp:$(TARGET_COPY_OUT_VENDOR)/etc/fstab.nxp
-
-TARGET_RECOVERY_FSTAB = $(IMX_DEVICE_PATH)/fstab.nxp
-
-ifneq ($(filter TRUE true 1,$(IMX_OTA_POSTINSTALL)),)
-  PRODUCT_PACKAGES += imx_ota_postinstall
-
-  AB_OTA_POSTINSTALL_CONFIG += \
-    RUN_POSTINSTALL_vendor=true \
-    POSTINSTALL_PATH_vendor=bin/imx_ota_postinstall \
-    FILESYSTEM_TYPE_vendor=ext4 \
-    POSTINSTALL_OPTIONAL_vendor=false
-
-  PRODUCT_COPY_FILES += \
-    $(OUT_DIR)/target/product/$(firstword $(PRODUCT_DEVICE))/obj/UBOOT_COLLECTION/u-boot-imx8mp-trusty.imx:$(TARGET_COPY_OUT_VENDOR)/etc/bootloader0.img
-endif
-
-
-# fastboot_imx_flashall scripts, imx-sdcard-partition script uuu_imx_android_flash scripts
-PRODUCT_COPY_FILES += \
-    $(CONFIG_REPO_PATH)/common/tools/fastboot_imx_flashall.bat:fastboot_imx_flashall.bat \
-    $(CONFIG_REPO_PATH)/common/tools/fastboot_imx_flashall.sh:fastboot_imx_flashall.sh \
-    $(CONFIG_REPO_PATH)/common/tools/imx-sdcard-partition.sh:imx-sdcard-partition.sh \
-    $(CONFIG_REPO_PATH)/common/tools/uuu_imx_android_flash.bat:uuu_imx_android_flash.bat \
-    $(CONFIG_REPO_PATH)/common/tools/uuu_imx_android_flash.sh:uuu_imx_android_flash.sh
-
-PRODUCT_COPY_FILES += \
-    $(CONFIG_REPO_PATH)/common/prebuilts/spl_tab.img:$(PRODUCT_OUT)/spl_tab.img \
-    $(CONFIG_REPO_PATH)/common/prebuilts/mem_info.img:$(PRODUCT_OUT)/mem_info.img \
-    $(CONFIG_REPO_PATH)/common/prebuilts/mem_info.txt:$(PRODUCT_OUT)/mem_info.txt
-
-# -------@block_security-------
-
-# Include keystore attestation keys and certificates.
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
--include $(IMX_SECURITY_PATH)/attestation/imx_attestation.mk
-endif
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_COPY_FILES += \
-    $(CONFIG_REPO_PATH)/common/security/rpmb_key_test.bin:rpmb_key_test.bin \
-    $(CONFIG_REPO_PATH)/common/security/testkey_public_rsa4096.bin:testkey_public_rsa4096.bin
-endif
-
-# Keymaster HAL
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service.trusty
-endif
-
-PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service-imx
-
-# Confirmation UI
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.confirmationui@1.0-service.trusty \
-    securedisplayd-imx
-endif
-
-# new gatekeeper HAL
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-service.software-imx
-
-# Add oem unlocking option in settings.
-PRODUCT_PROPERTY_OVERRIDES += ro.frp.pst=/dev/block/by-name/presistdata
-
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-#Oemlock HAL 1.0 support
-PRODUCT_PACKAGES += \
-    android.hardware.oemlock@1.0-service.imx
-endif
-
-# Add Trusty OS backed gatekeeper and secure storage proxy
-ifeq ($(PRODUCT_IMX_TRUSTY),true)
-PRODUCT_PACKAGES += \
-    android.hardware.gatekeeper@1.0-service.trusty \
-    storageproxyd
-endif
-
-# Specify rollback index for boot and vbmeta partitions
-ifneq ($(AVB_RBINDEX),)
-BOARD_AVB_ROLLBACK_INDEX := $(AVB_RBINDEX)
-else
-BOARD_AVB_ROLLBACK_INDEX := 0
-endif
-
-ifneq ($(AVB_BOOT_RBINDEX),)
-BOARD_AVB_BOOT_ROLLBACK_INDEX := $(AVB_BOOT_RBINDEX)
-else
-BOARD_AVB_BOOT_ROLLBACK_INDEX := 0
-endif
-
-$(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
-
-# Resume on Reboot support
-PRODUCT_PACKAGES += \
-    android.hardware.rebootescrow-service.default
-
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.rebootescrow.device=/dev/block/pmem0
-
-#DRM Widevine 1.3 L1 support
-PRODUCT_PACKAGES += \
-    android.hardware.drm@1.3-service.widevine \
-    android.hardware.drm@1.3-service.clearkey \
-    libwvdrmcryptoplugin \
-    libwvhidl \
-    libwvdrmengine \
-    liboemcrypto \
-
-$(call inherit-product-if-exists, vendor/nxp-private/widevine/nxp_widevine_tee.mk)
-
-# -------@block_audio-------
-
-# Audio card json
-PRODUCT_COPY_FILES += \
-    $(CONFIG_REPO_PATH)/common/audio-json/wm8960_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/wm8960_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/micfil_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/micfil_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/hdmi_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/hdmi_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/btsco_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/btsco_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/rt5640_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/rt5640_config.json \
-    $(CONFIG_REPO_PATH)/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
-
-PRODUCT_PACKAGES += \
-    android.hardware.audio@6.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@6.0-impl:32
-
-
-PRODUCT_COPY_FILES += \
-    $(FSL_PROPRIETARY_PATH)/fsl-proprietary/mcu-sdk/imx8mp/imx8mp_mcu_demo.img:imx8mp_mcu_demo.img \
-    $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
-    $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml \
-    $(IMX_DEVICE_PATH)/usb_audio_policy_configuration-direct-output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/usb_audio_policy_configuration-direct-output.xml
-
-# -------@block_camera-------
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/camera_config_imx8mp.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/camera_config_imx8mp.json \
-    $(IMX_DEVICE_PATH)/camera_config_imx8mp-basler-ov5640.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/camera_config_imx8mp-basler-ov5640.json \
-    $(IMX_DEVICE_PATH)/camera_config_imx8mp-only-ov5640.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/camera_config_imx8mp-only-ov5640.json \
-    $(IMX_DEVICE_PATH)/external_camera_config.xml:$(TARGET_COPY_OUT_VENDOR)/etc/external_camera_config.xml
-
-PRODUCT_SOONG_NAMESPACES += hardware/google/camera
-PRODUCT_SOONG_NAMESPACES += vendor/nxp-opensource/imx/camera
-
-# Copy isp files to board
-ifeq ($(PREBUILT_FSL_IMX_ISP),true)
-ISP_PROPRIETARY := $(FSL_PROPRIETARY_PATH)/fsl-proprietary/isp
-PRODUCT_COPY_FILES += \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/bin,$(TARGET_COPY_OUT_VENDOR)/bin) \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/lib64,$(TARGET_COPY_OUT_VENDOR)/lib64) \
-    $(call find-copy-subdir-files,*,$(ISP_PROPRIETARY)/config,$(TARGET_COPY_OUT_VENDOR)/etc/configs/isp)
-endif
-
-# ISP camera feature demo
-PRODUCT_PACKAGES += \
-    CameraXBasic
-
-# -------@block_display-------
-
-PRODUCT_AAPT_CONFIG += xlarge large tvdpi hdpi xhdpi xxhdpi
-
-# HWC2 HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.composer@2.4-service
-
-# define frame buffer count
-PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
-    ro.surface_flinger.max_frame_buffer_acquired_buffers=3
-
-# Gralloc HAL
-PRODUCT_PACKAGES += \
-    android.hardware.graphics.mapper@4.0-impl.imx \
-    android.hardware.graphics.allocator@4.0-service.imx
-
-# RenderScript HAL
-PRODUCT_PACKAGES += \
-    android.hardware.renderscript@1.0-impl
-
-PRODUCT_PACKAGES += \
-    libg2d-opencl
-
-# Multi-Display launcher
-PRODUCT_PACKAGES += \
-    MultiClientInputMethod
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/input-port-associations.xml:$(TARGET_COPY_OUT_VENDOR)/etc/input-port-associations.xml
-
-# -------@block_gpu-------
-PRODUCT_PACKAGES += \
-    libEGL_VIVANTE \
-    libGLESv1_CM_VIVANTE \
-    libGLESv2_VIVANTE \
-    gralloc_viv.$(TARGET_BOARD_PLATFORM) \
-    libGAL \
-    libGLSLC \
-    libVSC \
-    libgpuhelper \
-    libSPIRV_viv \
-    libvulkan_VIVANTE \
-    vulkan.$(TARGET_BOARD_PLATFORM) \
-    libCLC \
-    libLLVM_viv \
-    libOpenCL \
-    libg2d-viv \
-    libOpenVX \
-    libOpenVXU \
-    libNNVXCBinary-evis \
-    libNNVXCBinary-evis2 \
-    libNNVXCBinary-lite \
-    libOvx12VXCBinary-evis \
-    libOvx12VXCBinary-evis2 \
-    libOvx12VXCBinary-lite \
-    libNNGPUBinary-evis \
-    libNNGPUBinary-evis2 \
-    libNNGPUBinary-lite \
-    libNNGPUBinary-ulite \
-    libNNGPUBinary-nano \
-    libNNArchPerf \
-    libarchmodelSw
-
-# GPU openCL g2d
-PRODUCT_COPY_FILES += \
-    $(IMX_PATH)/imx/opencl-2d/cl_g2d.cl:$(TARGET_COPY_OUT_VENDOR)/etc/cl_g2d.cl
-
-# -------@block_sensor-------
-PRODUCT_PACKAGES += \
-    android.hardware.sensors@1.0-impl \
-    android.hardware.sensors@1.0-convert \
-    android.hardware.sensors@1.0-service
-
-# -------@block_wifi-------
-
-PRODUCT_COPY_FILES += \
-    $(CONFIG_REPO_PATH)/common/wifi/p2p_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/p2p_supplicant_overlay.conf \
-    $(CONFIG_REPO_PATH)/common/wifi/wpa_supplicant_overlay.conf:$(TARGET_COPY_OUT_VENDOR)/etc/wifi/wpa_supplicant_overlay.conf
-
-# WiFi HAL
-PRODUCT_PACKAGES += \
-    android.hardware.wifi@1.0-service \
-    wificond
-
-# WiFi RRO
-PRODUCT_PACKAGES += \
-    WifiOverlay
-
-# nxp 8997 wifi and bluetooth combo Firmware
-PRODUCT_COPY_FILES += \
-    vendor/nxp/imx-firmware/nxp/FwImage_8997/pcieuart8997_combo_v4.bin:vendor/firmware/pcieuart8997_combo_v4.bin \
-    vendor/nxp/imx-firmware/nxp/android_wifi_mod_para.conf:vendor/firmware/wifi_mod_para.conf \
-    vendor/nxp/imx-firmware/nxp/android_wifi_mod_para_powersave.conf:vendor/firmware/wifi_mod_para_powersave.conf
-
-# Wifi regulatory
-PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
-
-# -------@block_bluetooth-------
-
-# Bluetooth HAL
-PRODUCT_PACKAGES += \
-    android.hardware.bluetooth@1.0-impl \
-    android.hardware.bluetooth@1.0-service
-
-#nxp 8997 Bluetooth vendor config
-PRODUCT_PACKAGES += \
-    bt_vendor.conf
-
-# -------@block_usb-------
-
-# Usb HAL
-PRODUCT_PACKAGES += \
-    android.hardware.usb@1.1-service.imx
-
-
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.usb.rc
-
-# -------@block_multimedia_codec-------
-
-# Vendor seccomp policy files for media components:
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/seccomp/mediacodec-seccomp.policy:vendor/etc/seccomp_policy/mediacodec.policy \
-    $(IMX_DEVICE_PATH)/seccomp/mediaextractor-seccomp.policy:vendor/etc/seccomp_policy/mediaextractor.policy \
-    $(CONFIG_REPO_PATH)/common/seccomp_policy/codec2.vendor.base.policy:vendor/etc/seccomp_policy/codec2.vendor.base.policy \
-    $(CONFIG_REPO_PATH)/common/seccomp_policy/codec2.vendor.ext.policy:vendor/etc/seccomp_policy/codec2.vendor.ext.policy
-
-PRODUCT_PACKAGES += \
-    libg1 \
-    libhantro \
-    libcodec \
-    libhantro_vc8000e
-
-# imx c2 codec binary
-PRODUCT_PACKAGES += \
-    lib_vpu_wrapper \
-    lib_imx_c2_videodec_common \
-    lib_imx_c2_videodec \
-    lib_imx_c2_vpuwrapper_dec \
-    lib_imx_c2_videoenc_common \
-    lib_imx_c2_videoenc \
-    lib_imx_c2_vpuwrapper_enc \
-    lib_imx_c2_process \
-    lib_imx_c2_process_dummy_post \
-    lib_imx_c2_process_g2d_pre \
-    c2_component_register \
-    c2_component_register_ms \
-    c2_component_register_ra
-
-# dsp decoder
-PRODUCT_PACKAGES += \
-    media_codecs_c2_dsp.xml \
-    media_codecs_c2_dsp_aacp.xml \
-    media_codecs_c2_dsp_wma.xml \
-    lib_dsp_aac_dec \
-    lib_dsp_bsac_dec \
-    lib_dsp_codec_wrap \
-    lib_dsp_mp3_dec \
-    lib_dsp_wrap_arm12_android \
-    lib_dsp_mp3_dec_ext \
-    lib_dsp_codec_wrap_ext \
-    lib_aacd_wrap_dsp \
-    lib_mp3d_wrap_dsp \
-    lib_wma10d_wrap_dsp \
-    c2_component_register_dsp \
-    c2_component_register_dsp_wma \
-    c2_component_register_dsp_aacp
-
-
-PRODUCT_PACKAGES += \
-    DirectAudioPlayer
-
-ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
-ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
-INSTALL_64BIT_LIBRARY := true
-endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_aacp_dec/imx_dsp_aacp_dec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_codec/imx_dsp_codec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp_wma_dec/imx_dsp_wma_dec.mk
--include $(FSL_RESTRICTED_CODEC_PATH)/fsl-restricted-codec/imx_dsp/imx_dsp_8mp.mk
-endif
-
-# -------@block_memory-------
-
-# Include Android Go config for low memory device.
-ifeq ($(LOW_MEMORY),true)
-$(call inherit-product, build/target/product/go_defaults.mk)
-endif
-
-# -------@block_neural_network-------
-
-# Neural Network HAL and lib
-PRODUCT_PACKAGES += \
-    libovxlib \
-    libnnrt \
-    android.hardware.neuralnetworks@1.3-service-vsi-npu-server
-
-# -------@block_miscellaneous-------
-
-# Copy device related config and binary to board
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/init.imx8mp.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.imx8mp.rc \
-    $(IMX_DEVICE_PATH)/init.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.rc
-
-ifeq ($(TARGET_USE_VENDOR_BOOT),true)
-  PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/init.recovery.nxp.rc:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/init.recovery.nxp.rc
-else
-  PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/init.recovery.nxp.rc:root/init.recovery.nxp.rc
-endif
-
-ifeq ($(POWERSAVE),true)
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/required_hardware_powersave.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/required_hardware.xml
-else
-PRODUCT_COPY_FILES += \
-    $(IMX_DEVICE_PATH)/required_hardware.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/required_hardware.xml
-endif
-
-# ONLY devices that meet the CDD's requirements may declare these features
-
-ifneq ($(POWERSAVE),true)
-PRODUCT_COPY_FILES += \
-    frameworks/native/data/etc/android.hardware.camera.external.xml:vendor/etc/permissions/android.hardware.camera.external.xml \
-    frameworks/native/data/etc/android.hardware.camera.front.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.front.xml \
-    frameworks/native/data/etc/android.hardware.camera.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.camera.xml
-endif
-
-PRODUCT_COPY_FILES += \
-    frameworks/native/data/etc/android.hardware.audio.output.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.audio.output.xml \
-    frameworks/native/data/etc/android.hardware.bluetooth_le.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.bluetooth_le.xml \
-    frameworks/native/data/etc/android.hardware.ethernet.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.ethernet.xml \
-    frameworks/native/data/etc/android.hardware.screen.landscape.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.landscape.xml \
-    frameworks/native/data/etc/android.hardware.screen.portrait.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.screen.portrait.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.distinct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.distinct.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.multitouch.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.multitouch.xml \
-    frameworks/native/data/etc/android.hardware.touchscreen.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.touchscreen.xml \
-    frameworks/native/data/etc/android.hardware.usb.accessory.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.accessory.xml \
-    frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
-    frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.software.vulkan.deqp.level-2020-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level-2020-03-01.xml \
-    frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
-    frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
-    frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
-    frameworks/native/data/etc/android.software.app_widgets.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.app_widgets.xml \
-    frameworks/native/data/etc/android.software.backup.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.backup.xml \
-    frameworks/native/data/etc/android.software.device_admin.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.device_admin.xml \
-    frameworks/native/data/etc/android.software.managed_users.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.managed_users.xml \
-    frameworks/native/data/etc/android.software.midi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.midi.xml \
-    frameworks/native/data/etc/android.software.print.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.print.xml \
-    frameworks/native/data/etc/android.software.sip.voip.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.sip.voip.xml \
-    frameworks/native/data/etc/android.software.verified_boot.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.verified_boot.xml \
-    frameworks/native/data/etc/android.software.voice_recognizers.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.voice_recognizers.xml \
-    frameworks/native/data/etc/android.software.activities_on_secondary_displays.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.activities_on_secondary_displays.xml \
-    frameworks/native/data/etc/android.software.picture_in_picture.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.picture_in_picture.xml
-
-# Included GMS package
-$(call inherit-product-if-exists, vendor/partner_gms/products/gms.mk)
-PRODUCT_SOONG_NAMESPACES += vendor/partner_gms
-
-#AMS
-PRODUCT_PACKAGES += \
-    deviceadmin \
-    appmanager \
-    conciergerdmservice \
-    conciergerdmclouddrive \
-    conciergerdmbootmediasync \
-    welcomeapp \
-    diagnosis \
-    otaupdater \
-    peripheralmanager \
-    watchdog
-
-# Enable kernel log for diagnosis
-PRODUCT_PROPERTY_OVERRIDES += \
-    ro.logd.kernel=true
diff --git a/imx8m/vp6820_8mp/vp6820_8mp_pci.mk b/imx8m/vp6820_8mp/vp6820_8mp_pci.mk
deleted file mode 100644
index 25be1def..00000000
--- a/imx8m/vp6820_8mp/vp6820_8mp_pci.mk
+++ /dev/null
@@ -1,14 +0,0 @@
-# -------@block_infrastructure-------
-
-CONFIG_REPO_PATH := device/idtech
-CURRENT_FILE_PATH :=  $(lastword $(MAKEFILE_LIST))
-IMX_DEVICE_PATH := $(strip $(patsubst %/, %, $(dir $(CURRENT_FILE_PATH))))
-
-$(call inherit-product, $(TOPDIR)$(IMX_DEVICE_PATH)/vp6820_8mp.mk)
-
-# -------@block_common_config-------
-
-# Overrides
-PRODUCT_NAME := vp6820_8mp_pci
-
-SOONG_CONFIG_IDT_PCI_RM_ADBD = true
diff --git a/imx8m/vp6820_8mp/vp6820_8mp_pcidev.mk b/imx8m/vp6820_8mp/vp6820_8mp_pcidev.mk
deleted file mode 100644
index 37a2803b..00000000
--- a/imx8m/vp6820_8mp/vp6820_8mp_pcidev.mk
+++ /dev/null
@@ -1,12 +0,0 @@
-# -------@block_infrastructure-------
-
-CONFIG_REPO_PATH := device/idtech
-CURRENT_FILE_PATH :=  $(lastword $(MAKEFILE_LIST))
-IMX_DEVICE_PATH := $(strip $(patsubst %/, %, $(dir $(CURRENT_FILE_PATH))))
-
-$(call inherit-product, $(TOPDIR)$(IMX_DEVICE_PATH)/vp6820_8mp.mk)
-
-# -------@block_common_config-------
-
-# Overrides
-PRODUCT_NAME := vp6820_8mp_pcidev
diff --git a/imx8m/vp6820_8mq/BoardConfig.mk b/imx8m/vp6820_8mq/BoardConfig.mk
index 285a27be..e6b448d0 100644
--- a/imx8m/vp6820_8mq/BoardConfig.mk
+++ b/imx8m/vp6820_8mq/BoardConfig.mk
@@ -21,14 +21,22 @@ HAVE_FSL_IMX_GPU3D := true
 HAVE_FSL_IMX_PXP := false
 TARGET_USES_HWC2 := true
 TARGET_HAVE_VULKAN := true
+ENABLE_SEC_DMABUF_HEAP := true
+CFG_SECURE_IOCTRL_REGS := true
 
 SOONG_CONFIG_IMXPLUGIN += \
-                          BOARD_VPU_TYPE
+                          BOARD_VPU_TYPE \
+			  ENABLE_SEC_DMABUF_HEAP \
+			  CFG_SECURE_IOCTRL_REGS
 
 SOONG_CONFIG_IMXPLUGIN_BOARD_SOC_TYPE = IMX8MQ
 SOONG_CONFIG_IMXPLUGIN_BOARD_HAVE_VPU = true
 SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_TYPE = hantro
 SOONG_CONFIG_IMXPLUGIN_BOARD_VPU_ONLY = false
+SOONG_CONFIG_IMXPLUGIN_PREBUILT_FSL_IMX_CODEC = true
+SOONG_CONFIG_IMXPLUGIN_POWERSAVE = false
+SOONG_CONFIG_IMXPLUGIN_ENABLE_SEC_DMABUF_HEAP = true
+SOONG_CONFIG_IMXPLUGIN_CFG_SECURE_IOCTRL_REGS = true
 
 # -------@block_memory-------
 USE_ION_ALLOCATOR := true
@@ -117,36 +125,49 @@ CMASIZE=800M
 endif
 
 # NXP default config
-BOARD_KERNEL_CMDLINE := init=/init androidboot.console=ttymxc0 androidboot.hardware=nxp firmware_class.path=/vendor/firmware loop.max_part=7
+BOARD_KERNEL_CMDLINE := init=/init firmware_class.path=/vendor/firmware loop.max_part=7 bootconfig
+BOARD_BOOTCONFIG += androidboot.console=ttymxc0 androidboot.hardware=nxp
 
 # framebuffer config
-BOARD_KERNEL_CMDLINE += androidboot.fbTileSupport=enable
+BOARD_BOOTCONFIG += androidboot.fbTileSupport=enable
 
 # memory config
 BOARD_KERNEL_CMDLINE += transparent_hugepage=never cma=$(CMASIZE)
 
 # display config
-BOARD_KERNEL_CMDLINE += androidboot.lcd_density=294 androidboot.primary_display=mxsfb-drm androidboot.gui_resolution=1080p
+BOARD_BOOTCONFIG += androidboot.lcd_density=294 androidboot.primary_display=mxsfb-drm androidboot.gui_resolution=1080p
 
 # wifi config
-BOARD_KERNEL_CMDLINE += androidboot.wificountrycode=CN moal.mod_para=wifi_mod_para.conf
+BOARD_BOOTCONFIG += androidboot.wificountrycode=CN
+BOARD_KERNEL_CMDLINE += moal.mod_para=wifi_mod_para.conf pci=nomsi
 
 ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
-BOARD_KERNEL_CMDLINE += androidboot.vendor.sysrq=1
+BOARD_BOOTCONFIG += androidboot.vendor.sysrq=1
 endif
 
 ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
   ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
     TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-no-product.dtb
   else
-    # imx8mq with HDMI display
-    TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2.dtb
-    # imx8mq with MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb
-    # imx8mq with HDMI and MIPI-HDMI display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display.dtb
-    # imx8mq with MIPI panel display
-    TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191.dtb
+    ifeq ($(IMX8MQ_USES_GKI),true)
+      # imx8mq gki with HDMI display
+      TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2-gki.dtb
+      # imx8mq with MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535-gki.dtb
+      # imx8mq with HDMI and MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display-gki.dtb
+      # imx8mq with MIPI panel display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191-gki.dtb
+    else
+      # imx8mq with HDMI display
+      TARGET_BOARD_DTS_CONFIG ?= imx8mq:imx8mq-evk-pcie1-m2.dtb
+      # imx8mq with MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi:imx8mq-evk-lcdif-adv7535.dtb
+      # imx8mq with HDMI and MIPI-HDMI display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-dual:imx8mq-evk-dual-display.dtb
+      # imx8mq with MIPI panel display
+      TARGET_BOARD_DTS_CONFIG += imx8mq-mipi-panel:imx8mq-evk-dcss-rm67191.dtb
+    endif
   endif
 else # no dynamic parition feature
   ifeq ($(IMX_NO_PRODUCT_PARTITION),true)
@@ -168,4 +189,8 @@ BOARD_SEPOLICY_DIRS += \
        $(IMX_DEVICE_PATH)/sepolicy_drm
 endif
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+    BOARD_KERNEL_CMDLINE += cpuidle.off=1
+endif
+
 BOARD_PLAT_PRIVATE_SEPOLICY_DIR := $(CONFIG_REPO_PATH)/imx8m/sepolicy_system/private
diff --git a/imx8m/vp6820_8mq/SharedBoardConfig.mk b/imx8m/vp6820_8mq/SharedBoardConfig.mk
index 1312266c..68cf5742 100644
--- a/imx8m/vp6820_8mq/SharedBoardConfig.mk
+++ b/imx8m/vp6820_8mq/SharedBoardConfig.mk
@@ -1,18 +1,191 @@
 # -------@block_kernel_bootimg-------
 
-KERNEL_NAME := Image
+KERNEL_NAME := Image.lz4
 TARGET_KERNEL_ARCH := arm64
+IMX8MQ_USES_GKI := true
 
 # BCM fmac wifi driver module
 BOARD_VENDOR_KERNEL_MODULES += \
     $(KERNEL_OUT)/drivers/net/wireless/broadcom/brcm80211/brcmfmac/brcmfmac.ko \
     $(KERNEL_OUT)/drivers/net/wireless/broadcom/brcm80211/brcmutil/brcmutil.ko
 
-# mipi-panel touch driver module
+# CONFIG_SND_SOC_WM8524: snd-soc-wm8524.ko, wm8524 audio codec
+# CONFIG_IMX_LCDIF_CORE: imx-lcdif-core.ko
+# CONFIG_PHY_FSL_IMX8MQ_USB: phy-fsl-imx8mq-usb.ko
+# CONFIG_USB_DWC3_IMX8MP: dwc3-imx8mp.ko
+# CONFIG_TYPEC_SWITCH_GPIO: gpio-switch.ko
+# CONFIG_VIDEO_MXC_CAPTURE: only enable compile dir drivers/media/platform/mxc/capture/, no need mxc_v4l2_capture.c which used in imx6/7
+# linux bsp team will add new configure for mxc_v4l2_capture.c in lf-5.4 branch.
+# CONFIG_MXC_MIPI_CSI: mxc_mipi_csi.ko, mipi driver which get the sensor data and send data to csi
+# CONFIG_MXC_CAMERA_OV5640_MIPI_V2: ov5640_camera_mipi_v2.ko, sensor ov5640 driver, the input of mipi
+# CONFIG_IMX_SDMA: imx-sdma.ko, sdma used for audio
+# CONFIG_SND_SOC_IMX_PCM_DMA: imx-pcm-dma.ko imx-pcm-dma-v2.ko
+# CONFIG_SND_SOC_FSL_SAI: snd-soc-fsl-sai.ko, imx core audio
+# CONFIG_SND_SOC_IMX_SPDIF: snd-soc-imx-spdif.ko snd-soc-fsl-spdif.ko, sound spdif code
+# CONFIG_SND_SOC_IMX_AK4458: snd-soc-imx-ak4458.o
+# CONFIG_SND_SOC_IMX_AK5558: snd-soc-imx-ak5558.o snd-soc-fsl-utils.ko snd-soc-ak5558.ko
+# CONFIG_SND_SOC_BT_SCO: snd-soc-bt-sco.ko, audio hdmi code
+# CONFIG_SND_SOC_IMX_CDNHDMI: snd-soc-hdmi-codec.ko snd-soc-imx-cdnhdmi.ko snd-soc-fsl-aud2htx.ko, used for hdmi audio
+# CONFIG_SND_SIMPLE_CARD: snd-soc-simple-card.ko snd-soc-simple-card-utils.ko, connect cpu and codec
+# CONFIG_MXC_HANTRO: hantrodec.ko vpu decoder
+# CONFIG_MXC_HANTRO_V4L2: vsiv4l2.ko vpu decodder
+# CONFIG_RTC_DRV_SNVS: rtc-snvs.ko, snvs driver
+# CONFIG_AT803X_PHY: ethernet phy driver at803x.ko
+# CONFIG_FEC: fec.ko which depend on pps_core.ko and ptp.ko
+
+ifeq ($(IMX8MQ_USES_GKI),true)
+BOARD_VENDOR_KERNEL_MODULES += \
+    $(KERNEL_OUT)/drivers/mxc/gpu-viv/galcore.ko \
+    $(KERNEL_OUT)/drivers/media/platform/imx8/mxc-mipi-csi2_yav.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/mx6s_capture.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/mxc_mipi_csi.ko \
+    $(KERNEL_OUT)/drivers/media/platform/mxc/capture/ov5640_camera_mipi_v2.ko \
+    $(KERNEL_OUT)/drivers/dma/imx-sdma.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/imx-pcm-dma-v2.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-aud2htx.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-utils.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-sai.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-hdmi-codec.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-cdnhdmi.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-fsl-spdif.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-spdif.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-wm8524.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-ak5558.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-ak4458.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-ak4458.ko \
+    $(KERNEL_OUT)/sound/soc/fsl/snd-soc-imx-ak5558.ko \
+    $(KERNEL_OUT)/sound/soc/codecs/snd-soc-bt-sco.ko \
+    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card.ko \
+    $(KERNEL_OUT)/sound/soc/generic/snd-soc-simple-card-utils.ko \
+    $(KERNEL_OUT)/drivers/mxc/hantro/hantrodec.ko \
+    $(KERNEL_OUT)/drivers/mxc/hantro_v4l2/vsiv4l2.ko \
+    $(KERNEL_OUT)/drivers/rtc/rtc-snvs.ko \
+    $(KERNEL_OUT)/drivers/pci/controller/dwc/pci-imx6.ko \
+    $(KERNEL_OUT)/drivers/pps/pps_core.ko \
+    $(KERNEL_OUT)/drivers/ptp/ptp.ko \
+    $(KERNEL_OUT)/drivers/net/phy/at803x.ko \
+    $(KERNEL_OUT)/drivers/net/ethernet/freescale/fec.ko
+else
 BOARD_VENDOR_KERNEL_MODULES += \
     $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko
+endif
+
+# CONFIG_ZRAM: zram.ko, lzo.ko, lzo-rle.ko compressed ram using LZ coding.
+# CONFIG_ZSMALLOC: zsmalloc.ko
+# CONFIG_CLK_IMX8MP: clk-imx8mq.ko
+# CONFIG_TIMER_IMX_SYS_CTR: timer-imx-sysctr.ko
+# CONFIG_IMX8M_BUSFREQ: busfreq-imx8mq.ko
+# CONFIG_IMX_IRQSTEER: irq-imx-irqsteer.ko
+# CONFIG_PINCTRL_IMX: pinctrl-imx.ko
+# CONFIG_PINCTRL_IMX8MQ: pinctrl-imx8mq.ko
+# CONFIG_SERIAL_IMX: imx.ko
+# CONFIG_IMX2_WDT: imx2_wdt.ko
+# CONFIG_GPIO_MXC: gpio-generic.ko gpio-mxc.ko
+# CONFIG_CPUFREQ_DT: cpufreq-dt.ko
+# CONFIG_ARM_IMX_CPUFREQ_DT: imx-cpufreq-dt.ko
+# CONFIG_NVMEM_IMX_OCOTP: nvmem-imx-ocotp.ko
+# CONFIG_PWM_IMX27: pwm-imx27.ko
+# CONFIG_MMC_SDHCI_ESDHC_IMX: sdhci-esdhc-imx.ko, cqhci.ko
+# CONFIG_I2C_IMX: i2c-imx.ko
+# CONFIG_IMX_MBOX: imx-mailbox.ko, imx mailbox driver
+# CONFIG_SND_IMX_SOC: SoC Audio for Freescale i.MX CPUs
+# CONFIG_DMABUF_HEAPS_SYSTEM: system_heap.ko
+# CONFIG_DMABUF_HEAPS_CMA: cma_heap.ko
+# CONFIG_DMABUF_IMX: dma-buf-imx.ko
+# CONFIG_RESET_IMX7: reset-imx7.ko
+# CONFIG_PHY_FSL_IMX8MQ_USB: phy-fsl-imx8mq-usb.ko
+# CONFIG_KEYBOARD_SNVS_PWRKEY: snvs_pwrkey.ko, snvs power key driver
+# mipi-panel touch driver module
+# CONFIG_IMX_LCDIF_CORE: imx-lcdif-core.ko
+# CONFIG_DRM_I2C_ADV7511: adv7511.ko
+# CONFIG_DRM_IMX_CDNS_MHDP: cdns_mhdp_drmcore.ko cdns_mhdp_imx.ko
+# CONFIG_DRM_IMX: imxdrm.ko, imx-lcdif-crtc.ko
+# CONFIG_USB_DWC3: dwc3-imx8mp.ko
+# CONFIG_TYPEC_SWITCH_GPIO: gpio-switch.ko
+# CONFIG_VIDEO_IMX_CAPTURE: imx8-media-dev.ko, imx8-isi-cap.ko, imx8-isi-hw.ko, imx8-isi-m2m.ko, imx8-mipi-csi2-sam.ko, imx isi and mipi driver
+# CONFIG_CFG80211: cfg80211.ko, cfg80211 - wireless configuration API
+# CONFIG_MAC80211: mac80211.ko, Generic IEEE 802.11 Networking Stack
+
+ifeq ($(IMX8MQ_USES_GKI),true)
+BOARD_VENDOR_RAMDISK_KERNEL_MODULES += \
+    $(KERNEL_OUT)/mm/zsmalloc.ko \
+    $(KERNEL_OUT)/crypto/lzo.ko \
+    $(KERNEL_OUT)/crypto/lzo-rle.ko \
+    $(KERNEL_OUT)/drivers/block/zram/zram.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/soc-imx8m.ko \
+    $(KERNEL_OUT)/drivers/clk/imx/mxc-clk.ko \
+    $(KERNEL_OUT)/drivers/clk/imx/clk-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/gpcv2.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/gpcv2-imx.ko \
+    $(KERNEL_OUT)/drivers/clocksource/timer-imx-sysctr.ko \
+    $(KERNEL_OUT)/drivers/soc/imx/busfreq-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/irqchip/irq-imx-irqsteer.ko \
+    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx.ko \
+    $(KERNEL_OUT)/drivers/pinctrl/freescale/pinctrl-imx8mq.ko \
+    $(KERNEL_OUT)/drivers/tty/serial/imx.ko \
+    $(KERNEL_OUT)/drivers/watchdog/imx2_wdt.ko \
+    $(KERNEL_OUT)/drivers/regulator/pca9450-regulator.ko \
+    $(KERNEL_OUT)/drivers/regulator/gpio-regulator.ko \
+    $(KERNEL_OUT)/drivers/regulator/pfuze100-regulator.ko \
+    $(KERNEL_OUT)/drivers/gpio/gpio-mxc.ko \
+    $(KERNEL_OUT)/drivers/thermal/device_cooling.ko \
+    $(KERNEL_OUT)/drivers/thermal/qoriq_thermal.ko \
+    $(KERNEL_OUT)/drivers/perf/fsl_imx8_ddr_perf.ko \
+    $(KERNEL_OUT)/drivers/cpufreq/cpufreq-dt.ko \
+    $(KERNEL_OUT)/drivers/cpufreq/imx-cpufreq-dt.ko \
+    $(KERNEL_OUT)/drivers/nvmem/nvmem-imx-ocotp.ko \
+    $(KERNEL_OUT)/drivers/pwm/pwm-imx27.ko \
+    $(KERNEL_OUT)/drivers/mmc/host/sdhci-esdhc-imx.ko \
+    $(KERNEL_OUT)/drivers/mmc/host/cqhci.ko \
+    $(KERNEL_OUT)/drivers/i2c/busses/i2c-imx.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-fsl-qspi.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-bitbang.ko \
+    $(KERNEL_OUT)/drivers/spi/spi-imx.ko \
+    $(KERNEL_OUT)/lib/stmp_device.ko \
+    $(KERNEL_OUT)/drivers/dma/mxs-dma.ko \
+    $(KERNEL_OUT)/drivers/mailbox/imx-mailbox.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/system_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/cma_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/heaps/secure_heap.ko \
+    $(KERNEL_OUT)/drivers/dma-buf/dma-buf-imx.ko \
+    $(KERNEL_OUT)/drivers/reset/gpio-reset.ko \
+    $(KERNEL_OUT)/drivers/reset/reset-imx7.ko \
+    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8-mipi-dphy.ko \
+    $(KERNEL_OUT)/drivers/phy/freescale/phy-fsl-imx8mq-usb.ko \
+    $(KERNEL_OUT)/drivers/input/keyboard/snvs_pwrkey.ko \
+    $(KERNEL_OUT)/drivers/input/touchscreen/synaptics_dsx/synaptics_dsx_i2c.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/panel/panel-raydium-rm67191.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/dcss/imx-dcss.ko \
+    $(KERNEL_OUT)/drivers/gpu/imx/lcdif/imx-lcdif-core.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/adv7511/adv7511.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/cadence/cdns_mhdp_drmcore.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/mhdp/cdns_mhdp_imx.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/imxdrm.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/imx/lcdif/imx-lcdif-crtc.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/mxsfb/mxsfb.ko \
+    $(KERNEL_OUT)/drivers/gpu/drm/bridge/nwl-dsi.ko \
+    $(KERNEL_OUT)/drivers/mux/mux-mmio.ko \
+    $(KERNEL_OUT)/drivers/mux/mux-core.ko \
+    $(KERNEL_OUT)/drivers/usb/dwc3/dwc3-imx8mp.ko \
+    $(KERNEL_OUT)/drivers/usb/typec/mux/gpio-switch.ko \
+    $(KERNEL_OUT)/drivers/power/supply/dummy_battery.ko \
+    $(KERNEL_OUT)/drivers/media/rc/gpio-ir-recv.ko \
+    $(KERNEL_OUT)/drivers/media/v4l2-core/v4l2-fwnode.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-cap.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-hw.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-isi-m2m.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-mipi-csi2-sam.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-ipc.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-core.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-irq.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-log.ko \
+    $(KERNEL_OUT)/drivers/trusty/trusty-virtio.ko \
+    $(KERNEL_OUT)/drivers/staging/media/imx/imx8-media-dev.ko \
+    $(KERNEL_OUT)/net/wireless/cfg80211.ko \
+    $(KERNEL_OUT)/net/mac80211/mac80211.ko
+endif
 
 # -------@block_security-------
 #Enable this to include trusty support
 PRODUCT_IMX_TRUSTY := true
-
diff --git a/imx8m/vp6820_8mq/UbootKernelBoardConfig.mk b/imx8m/vp6820_8mq/UbootKernelBoardConfig.mk
index e3f87b59..b1b89e67 100644
--- a/imx8m/vp6820_8mq/UbootKernelBoardConfig.mk
+++ b/imx8m/vp6820_8mq/UbootKernelBoardConfig.mk
@@ -15,7 +15,12 @@ TARGET_BOOTLOADER_CONFIG += imx8mq-lpddr4-evk-uuu-mic3g:vp6820_8mq_evk_android_u
 TARGET_BOOTLOADER_CONFIG += imx8mq-lpddr4-evk-uuu-ktc2g:vp6820_8mq_evk_android_uuu_ktc2g_defconfig:signed
 TARGET_BOOTLOADER_CONFIG += imx8mq-lpddr4-evk-uuu-ktc4g:vp6820_8mq_evk_android_uuu_ktc4g_defconfig:signed
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+TARGET_KERNEL_DEFCONFIG := gki_defconfig
+TARGET_KERNEL_GKI_DEFCONF:= imx8mq_gki.fragment
+else
 TARGET_KERNEL_DEFCONFIG := imx_v8_android_defconfig
+endif
 TARGET_KERNEL_ADDITION_DEFCONF ?= android_addition_defconfig
 TARGET_KERNEL_SECURE_DEFCONF ?= android_secure_defconfig
 
diff --git a/imx8m/vp6820_8mq/audio_policy_configuration.xml b/imx8m/vp6820_8mq/audio_policy_configuration.xml
index 568a3525..c592f9e6 100644
--- a/imx8m/vp6820_8mq/audio_policy_configuration.xml
+++ b/imx8m/vp6820_8mq/audio_policy_configuration.xml
@@ -14,7 +14,7 @@
      limitations under the License.
 -->
 
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
+<audioPolicyConfiguration version="7.0" xmlns:xi="http://www.w3.org/2001/XInclude">
     <globalConfiguration speaker_drc_enabled="true"/>
 
     <modules>
@@ -31,17 +31,15 @@
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="hdmi output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
                 </mixPort>
                 <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000,96000,192000,384000,768000"
-                             channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_QUAD,AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
+                             samplingRates="48000 96000 192000 384000 768000"
+                             channelMasks="AUDIO_CHANNEL_OUT_STEREO AUDIO_CHANNEL_OUT_QUAD AUDIO_CHANNEL_OUT_5POINT1 AUDIO_CHANNEL_OUT_7POINT1"/>
                 </mixPort>
-                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
+                <mixPort name="dsd output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD">
                     <profile name="" format="AUDIO_FORMAT_DSD"
-                             samplingRates="2822400,5644800,11289600,22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
+                             samplingRates="2822400 5644800 11289600 22579200" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="bt sco output" role="source">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
@@ -50,8 +48,8 @@
 
                 <mixPort name="primary input" role="sink">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
+                             samplingRates="8000 11025 16000 22050 24000 32000 44100 48000"
+                             channelMasks="AUDIO_CHANNEL_IN_MONO AUDIO_CHANNEL_IN_STEREO"/>
                 </mixPort>
             </mixPorts>
             <devicePorts>
@@ -97,7 +95,7 @@
         </module>
 
         <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
+        <xi:include href="a2dp_audio_policy_configuration_7_0.xml"/>
 
         <!-- Usb Audio HAL -->
         <xi:include href="usb_audio_policy_configuration.xml"/>
diff --git a/imx8m/vp6820_8mq/audio_policy_configuration_drm.xml b/imx8m/vp6820_8mq/audio_policy_configuration_drm.xml
index cf60b8e3..dafc6bad 100644
--- a/imx8m/vp6820_8mq/audio_policy_configuration_drm.xml
+++ b/imx8m/vp6820_8mq/audio_policy_configuration_drm.xml
@@ -14,7 +14,7 @@
      limitations under the License.
 -->
 
-<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
+<audioPolicyConfiguration version="7.0" xmlns:xi="http://www.w3.org/2001/XInclude">
     <globalConfiguration speaker_drc_enabled="true"/>
 
     <modules>
@@ -30,17 +30,15 @@
                              samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
                 </mixPort>
                 <mixPort name="hdmi output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
-                    <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="32000,44100,48000,88200,96000,176400,192000" channelMasks="AUDIO_CHANNEL_NONE"/>
                 </mixPort>
                 <mixPort name="esai output" role="source" flags="AUDIO_OUTPUT_FLAG_DIRECT">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
+                             samplingRates="48000" channelMasks="AUDIO_CHANNEL_OUT_5POINT1 AUDIO_CHANNEL_OUT_7POINT1"/>
                 </mixPort>
                 <mixPort name="primary input" role="sink">
                     <profile name="" format="AUDIO_FORMAT_PCM_16_BIT"
-                             samplingRates="8000,11025,16000,22050,24000,32000,44100,48000"
-                             channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
+                             samplingRates="8000 11025 16000 22050 24000 32000 44100 48000"
+                             channelMasks="AUDIO_CHANNEL_IN_MONO AUDIO_CHANNEL_IN_STEREO"/>
                 </mixPort>
             </mixPorts>
             <devicePorts>
@@ -76,7 +74,7 @@
         </module>
 
         <!-- A2dp Audio HAL -->
-        <xi:include href="a2dp_audio_policy_configuration.xml"/>
+        <xi:include href="a2dp_audio_policy_configuration_7_0.xml"/>
 
         <!-- Usb Audio HAL -->
         <xi:include href="usb_audio_policy_configuration.xml"/>
diff --git a/imx8m/vp6820_8mq/camera_config_imx8mq.json b/imx8m/vp6820_8mq/camera_config_imx8mq.json
index a9ec51ad..0bb1b064 100644
--- a/imx8m/vp6820_8mq/camera_config_imx8mq.json
+++ b/imx8m/vp6820_8mq/camera_config_imx8mq.json
@@ -6,6 +6,7 @@
   "hal_version": "3",
   "cam_blit_copy": "GPU_3D",
   "cam_blit_csc": "GPU_3D",
+  "use_cpu_encoder": "1",
 
   "camera_metadata": [
     {
@@ -21,8 +22,9 @@
       "PhysicalHeight": "2.7216",
       "FocalLength": "3.37",
       "MaxJpegSize": "8388608",
-      "MinFrameDuration": "33331760",
+      "MinFrameDuration": "33333333",
       "MaxFrameDuration": "300000000",
+      "MinFrameDurationBlob5M": "600000000",
       "OmitFrame": [
           {
               "width": "2592",
diff --git a/imx8m/vp6820_8mq/init.imx8mq.rc b/imx8m/vp6820_8mq/init.imx8mq.rc
index 44613aae..86286707 100755
--- a/imx8m/vp6820_8mq/init.imx8mq.rc
+++ b/imx8m/vp6820_8mq/init.imx8mq.rc
@@ -32,7 +32,7 @@ on property:sys.boot_completed=1
     # Set up and down limit to 200us/200us
     write /sys/devices/system/cpu/cpufreq/schedutil/up_rate_limit_us 200
     write /sys/devices/system/cpu/cpufreq/schedutil/down_rate_limit_us 200
-    write /proc/sys/kernel/sched_util_clamp_min 512
+    write /proc/sys/kernel/sched_util_clamp_min_rt_default 512
 
 on property:sys.boot_completed=1
     # update cpuset now that processors are up
diff --git a/imx8m/vp6820_8mq/init.rc b/imx8m/vp6820_8mq/init.rc
index 52616dd6..1afc0282 100644
--- a/imx8m/vp6820_8mq/init.rc
+++ b/imx8m/vp6820_8mq/init.rc
@@ -46,29 +46,34 @@ on init && property:vendor.skip.charger_not_need=0
     # deattch the fbcon as hdmi hotplug conflict with fbcon
     write /sys/class/vtconsole/vtcon1/bind 0
 
-    chown system system /dev/stune/top-app/schedtune.boost
-    chmod 664 /dev/stune/top-app/schedtune.boost
-    chown system system /dev/stune/top-app/schedtune.prefer_idle
-    chmod 664 /dev/stune/top-app/schedtune.prefer_idle
-    chown system system /dev/stune/foreground/schedtune.boost
-    chmod 664 /dev/stune/foreground/schedtune.boost
-    chown system system /dev/stune/foreground/schedtune.prefer_idle
-    chmod 664 /dev/stune/foreground/schedtune.prefer_idle
-    chown system system /dev/stune/schedtune.boost
-    chmod 664 /dev/stune/schedtune.boost
-
-    # set default schedTune value for foreground/top-app (only affects EAS)
-    write /dev/stune/foreground/schedtune.boost 10
-    write /dev/stune/foreground/schedtune.prefer_idle 1
-    write /dev/stune/top-app/schedtune.boost 40
-    write /dev/stune/top-app/schedtune.prefer_idle 1
-    write /dev/stune/rt/schedtune.boost 50
-    write /dev/stune/rt/schedtune.prefer_idle 1
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.min
+    chown system system /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.min
+    chown system system /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/rt/cpu.uclamp.min
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.min
+    chown system system /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chmod 664 /dev/cpuctl/rt/cpu.uclamp.latency_sensitive
+    chown system system /dev/cpuctl/background/cpu.uclamp.max
+    chmod 664 /dev/cpuctl/background/cpu.uclamp.max
+
+    # set default uclamp value for foreground/top-app/rt/background (only affects EAS)
+    write /dev/cpuctl/foreground/cpu.uclamp.min 20
+    write /dev/cpuctl/foreground/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/top-app/cpu.uclamp.min 50
+    write /dev/cpuctl/top-app/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/rt/cpu.uclamp.min 60
+    write /dev/cpuctl/rt/cpu.uclamp.latency_sensitive 1
+    write /dev/cpuctl/background/cpu.uclamp.max 50
 
 on late-fs && property:vendor.skip.charger_not_need=0
     # Start keymaster/gatekeeper service
     start vendor.gatekeeper-1-0-${ro.boot.keystore}
-    start vendor.keymaster-4-0-${ro.boot.keystore}
+    start vendor.keymint-${ro.boot.keystore}
     setprop vendor.powerhal.init 1
 
     # Wait for keymaster
@@ -157,6 +162,10 @@ on early-boot && property:vendor.skip.charger_not_need=0
     setprop wifi.direct.interface p2p-dev-wlan0
     start vendor.wifi_hal_legacy
 
+service vsidaemon /vendor/bin/vsidaemon
+    class main
+    user root
+
 on boot && property:vendor.skip.charger_not_need=0
     start audioserver
     start mediadrm
@@ -226,8 +235,6 @@ on post-fs && property:vendor.skip.charger_not_need=0
 
 on post-fs-data && property:vendor.skip.charger_not_need=0
     setprop vold.post_fs_data_done 1
-    # create temp node for secure storage proxy
-    mkdir /data/vendor/ss 0700 system system
 
     # tmp dir for opencl Compiler
     setprop vendor.TMPDIR /data/vendor/.opencl-cache
@@ -236,6 +243,7 @@ on post-fs-data && property:vendor.skip.charger_not_need=0
 on zygote-start && property:vendor.skip.charger_not_need=0
     # Create the directories used by the Wireless subsystem
     mkdir /data/vendor/wifi 0771 wifi wifi
+    mkdir /data/vendor/wifi/wifi_dumps 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa 0770 wifi wifi
     mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
 
@@ -246,7 +254,9 @@ service early_init_sh /vendor/bin/init.insmod.sh /vendor/etc/early.init.cfg vend
     disabled
     oneshot
 
-on property:sys.boot_completed=1 && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+on post-fs-data && property:vendor.storageproxyd=trusty && property:vendor.skip.charger_not_need=0
+    # create temp node for secure storage proxy
+    mkdir /data/vendor/ss 0700 system system
     start storageproxyd
 
 service storageproxyd /vendor/bin/storageproxyd -p /data/vendor/ss -r /dev/mmcblk0rpmb -d /dev/trusty-ipc-dev0
diff --git a/imx8m/vp6820_8mq/init.usb.rc b/imx8m/vp6820_8mq/init.usb.rc
index 12fe7841..65db2c16 100644
--- a/imx8m/vp6820_8mq/init.usb.rc
+++ b/imx8m/vp6820_8mq/init.usb.rc
@@ -48,5 +48,7 @@ on early-boot
     write /sys/module/libcomposite/parameters/disable_l1_for_hs "y"
     symlink /config/usb_gadget/g1/configs/b.1 /config/usb_gadget/g1/os_desc/b.1
 
+    setprop vendor.usb.sysfs_path /sys/devices/platform/soc@0/38100000.usb/
+
 on boot
     setprop sys.usb.configfs 2
diff --git a/imx8m/vp6820_8mq/manifest.xml b/imx8m/vp6820_8mq/manifest.xml
index 4fa3ce03..eff3af22 100644
--- a/imx8m/vp6820_8mq/manifest.xml
+++ b/imx8m/vp6820_8mq/manifest.xml
@@ -1,5 +1,5 @@
 <manifest version="1.0" type="device" target-level="5">
-    <kernel  target-level="5" />
+    <kernel  target-level="6" />
     <hal format="hidl">
 	<name>android.hardware.graphics.allocator</name>
         <transport>hwbinder</transport>
@@ -24,28 +24,6 @@
        <transport>hwbinder</transport>
        <fqname>@2.4::ICameraProvider/external/0</fqname>
     </hal>
-    <hal format="hidl">
-        <name>android.hardware.keymaster</name>
-        <transport>hwbinder</transport>
-        <version>4.0</version>
-        <interface>
-            <name>IKeymasterDevice</name>
-            <instance>default</instance>
-        </interface>
-    </hal>
-    <hal format="hidl">
-        <name>android.hardware.drm</name>
-        <transport>hwbinder</transport>
-        <version>1.3</version>
-        <interface>
-            <name>ICryptoFactory</name>
-        </interface>
-        <interface>
-            <name>IDrmFactory</name>
-        </interface>
-        <fqname>@1.3::ICryptoFactory/clearkey</fqname>
-        <fqname>@1.3::IDrmFactory/clearkey</fqname>
-    </hal>
     <hal format="hidl">
         <name>android.hardware.gatekeeper</name>
         <transport>hwbinder</transport>
@@ -108,7 +86,7 @@
     <hal format="hidl">
         <name>android.hardware.audio</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+        <version>7.0</version>
         <interface>
             <name>IDevicesFactory</name>
             <instance>default</instance>
@@ -117,7 +95,7 @@
     <hal format="hidl">
         <name>android.hardware.audio.effect</name>
         <transport>hwbinder</transport>
-        <version>6.0</version>
+        <version>7.0</version>
         <interface>
             <name>IEffectsFactory</name>
             <instance>default</instance>
@@ -150,6 +128,22 @@
             <instance>default</instance>
         </interface>
     </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IKeyMintDevice/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.keymint</name>
+       <fqname>IRemotelyProvisionedComponent/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.secureclock</name>
+       <fqname>ISecureClock/default</fqname>
+    </hal>
+    <hal format="aidl">
+       <name>android.hardware.security.sharedsecret</name>
+       <fqname>ISharedSecret/default</fqname>
+    </hal>
     <hal format="hidl">
         <name>android.hardware.radio</name>
         <transport>hwbinder</transport>
diff --git a/imx8m/vp6820_8mq/overlay/frameworks/base/core/res/res/values/config.xml b/imx8m/vp6820_8mq/overlay/frameworks/base/core/res/res/values/config.xml
index 5eb23980..6fd5eaae 100644
--- a/imx8m/vp6820_8mq/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/imx8m/vp6820_8mq/overlay/frameworks/base/core/res/res/values/config.xml
@@ -201,6 +201,12 @@
     <!-- This device is not "voice capable"; it's data-only. -->
     <bool name="config_voice_capable">false</bool>
 
+    <!-- Flag indicating whether the current device allows data.
+        If true, this means that the device supports data connectivity through
+        the telephony network.
+        This can be overridden to false for devices that support voice and/or sms . -->
+    <bool name="config_mobile_data_capable">false</bool>
+
     <!-- Boolean indicating whether system support sustained performance mode. -->
     <bool name="config_sustainedPerformanceModeSupported">true</bool>
 
diff --git a/imx8m/vp6820_8mq/powerhint_imx8mq.json b/imx8m/vp6820_8mq/powerhint_imx8mq.json
index 3d7db6ab..e540d9a7 100644
--- a/imx8m/vp6820_8mq/powerhint_imx8mq.json
+++ b/imx8m/vp6820_8mq/powerhint_imx8mq.json
@@ -25,7 +25,7 @@
     },
     {
       "Name": "TASchedtuneBoost",
-      "Path": "/dev/stune/top-app/schedtune.boost",
+      "Path": "/dev/cpuctl/top-app/cpu.uclamp.min",
       "Values": [
         "60",
         "10"
diff --git a/imx8m/vp6820_8mq/required_hardware.xml b/imx8m/vp6820_8mq/required_hardware.xml
index aef0450a..3981b852 100644
--- a/imx8m/vp6820_8mq/required_hardware.xml
+++ b/imx8m/vp6820_8mq/required_hardware.xml
@@ -30,4 +30,5 @@
     <feature name="android.software.companion_device_setup" />
     <feature name="android.software.autofill" />
     <feature name="android.software.secure_lock_screen" />
+    <feature name="android.hardware.keystore.app_attest_key" />
 </permissions>
diff --git a/imx8m/vp6820_8mq/sepolicy/genfs_contexts b/imx8m/vp6820_8mq/sepolicy/genfs_contexts
index 92b42d57..99d0b6e0 100644
--- a/imx8m/vp6820_8mq/sepolicy/genfs_contexts
+++ b/imx8m/vp6820_8mq/sepolicy/genfs_contexts
@@ -12,6 +12,9 @@ genfscon sysfs /devices/platform/soc@0/30800000.bus/30a00000.mipi-dsi/30a00000.m
 genfscon sysfs /devices/platform/soc@0/30800000.bus/30be0000.ethernet/net               u:object_r:sysfs_net:s0
 genfscon sysfs /devices/platform/soc@0/33c00000.pcie/pci0001:00/0001:00:00.0/0001:01:00.0/net u:object_r:sysfs_net:s0
 
+# for usb gadget HAL to add watch on the sysfs path of usb controller
+genfscon sysfs /devices/platform/soc@0/38100000.usb                                     u:object_r:sysfs_usb_device:s0
+
 # vp6820 chip as external connection
 genfscon sysfs /devices/platform/soc@0/30800000.bus/30a40000.i2c/i2c-2/2-0067/extcon   u:object_r:sysfs_extcon:s0
 
diff --git a/imx8m/vp6820_8mq/task_profiles.json b/imx8m/vp6820_8mq/task_profiles.json
new file mode 100644
index 00000000..449a5054
--- /dev/null
+++ b/imx8m/vp6820_8mq/task_profiles.json
@@ -0,0 +1,644 @@
+{
+  "Attributes": [
+    {
+      "Name": "LowCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "background/cpus"
+    },
+    {
+      "Name": "HighCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "foreground/cpus"
+    },
+    {
+      "Name": "MaxCapacityCPUs",
+      "Controller": "cpuset",
+      "File": "top-app/cpus"
+    },
+    {
+      "Name": "MemLimit",
+      "Controller": "memory",
+      "File": "memory.limit_in_bytes"
+    },
+    {
+      "Name": "MemSoftLimit",
+      "Controller": "memory",
+      "File": "memory.soft_limit_in_bytes"
+    },
+    {
+      "Name": "MemSwappiness",
+      "Controller": "memory",
+      "File": "memory.swappiness"
+    },
+    {
+      "Name": "UClampMin",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.min"
+    },
+    {
+      "Name": "UClampMax",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.max"
+    },
+    {
+      "Name": "UClampLatencySensitive",
+      "Controller": "cpu",
+      "File": "cpu.uclamp.latency_sensitive"
+    },
+    {
+      "Name": "FreezerState",
+      "Controller": "freezer",
+      "File": "cgroup.freeze"
+    }
+  ],
+
+  "Profiles": [
+    {
+      "Name": "HighEnergySaving",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Frozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "Unfrozen",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "FreezerState",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "RealtimePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "rt"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CameraServicePerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NNApiHALPerformance",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpu",
+            "Path": "nnapi-hal"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CpuPolicySpread",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "1"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "CpuPolicyPack",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "UClampLatencySensitive",
+            "Value": "0"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "VrKernelCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrServiceCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system/performance"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "VrProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "application/performance"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ProcessCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityNormal",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityHigh",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "foreground"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ProcessCapacityMax",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "top-app"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "ServiceCapacityLow",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "ServiceCapacityRestricted",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "restricted"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "CameraServiceCapacity",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "camera-daemon"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": "background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "NormalIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+    {
+      "Name": "MaxIoPriority",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "blkio",
+            "Path": ""
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "TimerSlackHigh",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "40000000"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "TimerSlackNormal",
+      "Actions": [
+        {
+          "Name": "SetTimerSlack",
+          "Params":
+          {
+            "Slack": "50000"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "SFMainPolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SFRenderEnginePolicy",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "cpuset",
+            "Path": "system-background"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "PerfBoost",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "50%",
+            "Clamp": "0"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "PerfClamp",
+      "Actions": [
+        {
+          "Name": "SetClamps",
+          "Params":
+          {
+            "Boost": "0",
+            "Clamp": "30%"
+          }
+        }
+      ]
+    },
+
+    {
+      "Name": "LowMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "16MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "150"
+
+          }
+        }
+      ]
+    },
+    {
+      "Name": "HighMemoryUsage",
+      "Actions": [
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSoftLimit",
+            "Value": "512MB"
+          }
+        },
+        {
+          "Name": "SetAttribute",
+          "Params":
+          {
+            "Name": "MemSwappiness",
+            "Value": "100"
+          }
+        }
+      ]
+    },
+    {
+      "Name": "SystemMemoryProcess",
+      "Actions": [
+        {
+          "Name": "JoinCgroup",
+          "Params":
+          {
+            "Controller": "memory",
+            "Path": "system"
+          }
+        }
+      ]
+    }
+  ],
+
+  "AggregateProfiles": [
+    {
+      "Name": "SCHED_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "SCHED_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_SYSTEM",
+      "Profiles": [ "ServicePerformance", "LowIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "SCHED_SP_RT_APP",
+      "Profiles": [ "RealtimePerformance", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_DEFAULT",
+      "Profiles": [ "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_BACKGROUND",
+      "Profiles": [ "HighEnergySaving", "ProcessCapacityLow", "LowIoPriority", "TimerSlackHigh" ]
+    },
+    {
+      "Name": "CPUSET_SP_FOREGROUND",
+      "Profiles": [ "HighPerformance", "ProcessCapacityHigh", "HighIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_TOP_APP",
+      "Profiles": [ "MaxPerformance", "ProcessCapacityMax", "MaxIoPriority", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_SYSTEM",
+      "Profiles": [ "ServiceCapacityLow", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "CPUSET_SP_RESTRICTED",
+      "Profiles": [ "ServiceCapacityRestricted", "TimerSlackNormal" ]
+    },
+    {
+      "Name": "Dex2OatBootComplete",
+      "Profiles": [ "SCHED_SP_BACKGROUND" ]
+    }
+  ]
+}
diff --git a/imx8m/vp6820_8mq/thermal_info_config_imx8mq.json b/imx8m/vp6820_8mq/thermal_info_config_imx8mq.json
index 758490bf..32aec548 100755
--- a/imx8m/vp6820_8mq/thermal_info_config_imx8mq.json
+++ b/imx8m/vp6820_8mq/thermal_info_config_imx8mq.json
@@ -12,9 +12,9 @@
                 80.0,
                 82.0,
                 86.0,
-                90.0,
+                88.0,
                 "NAN",
-                "NAN"
+                90.0
             ],
             "HotHysteresis":[
                 2.0,
@@ -39,7 +39,7 @@
                 "NAN",
                 "NAN",
                 "NAN",
-                "NAN"
+                100.0
             ],
             "VrThreshold":"NAN",
             "Multiplier":0.001,
diff --git a/imx8m/vp6820_8mq/ueventd.nxp.rc b/imx8m/vp6820_8mq/ueventd.nxp.rc
index f545c758..d1721c1c 100644
--- a/imx8m/vp6820_8mq/ueventd.nxp.rc
+++ b/imx8m/vp6820_8mq/ueventd.nxp.rc
@@ -11,6 +11,9 @@
 /dev/watchdog             0660   system     root
 /dev/mmcblk0rpmb          0600   system     system
 /dev/trusty-ipc-dev0      0660   system     drmrpc
+/dev/dma_heap/reserved    0666   system     system
+/dev/dma_heap/reserved-uncached    0666   system     system
+/dev/dma_heap/secure      0666   system     system
 
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_temp 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_temp 0660 system system
@@ -18,6 +21,8 @@
 /sys/devices/virtual/thermal/thermal_zone* trip_point_0_hyst 0660 system system
 /sys/devices/virtual/thermal/thermal_zone* trip_point_1_hyst 0660 system system
 
+/dev/dmabuf_imx           0664   system     system
+
 #quectel port
 /dev/ttyUSB*              0660   radio        radio
 /dev/ttyACM*              0660   radio        radio
diff --git a/imx8m/vp6820_8mq/vp6820_8mq_common.mk b/imx8m/vp6820_8mq/vp6820_8mq_common.mk
index 922c456f..fe76b4f5 100644
--- a/imx8m/vp6820_8mq/vp6820_8mq_common.mk
+++ b/imx8m/vp6820_8mq/vp6820_8mq_common.mk
@@ -25,6 +25,8 @@ DEVICE_PACKAGE_OVERLAYS := $(IMX_DEVICE_PATH)/overlay
 
 PRODUCT_COMPATIBLE_PROPERTY_OVERRIDE := true
 
+PRODUCT_VENDOR_PROPERTIES += ro.soc.manufacturer=nxp
+PRODUCT_VENDOR_PROPERTIES += ro.soc.model=IMX8MQ
 # -------@block_treble-------
 PRODUCT_FULL_TREBLE_OVERRIDE := true
 
@@ -52,6 +54,10 @@ PRODUCT_PACKAGES += \
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/thermal_info_config_imx8mq.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/thermal_info_config_imx8mq.json
 
+# Task Profiles
+PRODUCT_COPY_FILES += \
+    $(IMX_DEVICE_PATH)/task_profiles.json:$(TARGET_COPY_OUT_VENDOR)/etc/task_profiles.json
+
 # -------@block_app-------
 #Enable this to choose 32 bit user space build
 IMX8_BUILD_32BIT_ROOTFS := false
@@ -66,6 +72,10 @@ PRODUCT_COPY_FILES += \
 # Enable this to support vendor boot and boot header v3, this would be a MUST for GKI
 TARGET_USE_VENDOR_BOOT ?= true
 
+ifeq ($(IMX8MQ_USES_GKI),true)
+  BOARD_RAMDISK_USE_LZ4 := true
+endif
+
 # We load the fstab from device tree so this is not needed, but since no kernel modules are installed to vendor
 # boot ramdisk so far, we need this step to generate the vendor-ramdisk folder or build process would fail. This
 # can be deleted once we figure out what kernel modules should be put into the vendor boot ramdisk.
@@ -85,7 +95,11 @@ PRODUCT_COPY_FILES += \
 TARGET_USE_DYNAMIC_PARTITIONS ?= true
 
 ifeq ($(TARGET_USE_DYNAMIC_PARTITIONS),true)
-  $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  ifeq ($(TARGET_USE_VENDOR_BOOT),true)
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota/compression.mk)
+  else
+    $(call inherit-product, $(SRC_TARGET_DIR)/product/virtual_ab_ota.mk)
+  endif
   PRODUCT_USE_DYNAMIC_PARTITIONS := true
   BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT := true
   BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE := true
@@ -143,12 +157,12 @@ endif
 # hardware backed keymaster service
 ifeq ($(PRODUCT_IMX_TRUSTY),true)
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service.trusty
+    android.hardware.security.keymint-service.trusty
 endif
 
 # Keymaster HAL
 PRODUCT_PACKAGES += \
-    android.hardware.keymaster@4.0-service-imx
+    android.hardware.security.keymint-service-imx
 
 # new gatekeeper HAL
 PRODUCT_PACKAGES += \
@@ -186,13 +200,16 @@ endif
 
 $(call  inherit-product-if-exists, vendor/nxp-private/security/nxp_security.mk)
 
-#DRM Widevine 1.2 L3 support
+#DRM Widevine L1 1.4 support
 PRODUCT_PACKAGES += \
-    android.hardware.drm@1.3-service.widevine \
-    android.hardware.drm@1.3-service.clearkey \
+    android.hardware.drm@1.4-service.widevine \
+    android.hardware.drm@1.4-service.clearkey \
     libwvdrmcryptoplugin \
     libwvhidl \
     libwvdrmengine \
+    liboemcrypto \
+
+$(call inherit-product-if-exists, vendor/nxp-private/widevine/nxp_widevine_tee_8mq.mk)
 
 # -------@block_audio-------
 # Audio card json
@@ -207,11 +224,6 @@ PRODUCT_COPY_FILES += \
     $(CONFIG_REPO_PATH)/common/audio-json/tlv320aic3110_config.json:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/tlv320aic3110_config.json \
     $(CONFIG_REPO_PATH)/common/audio-json/readme.txt:$(TARGET_COPY_OUT_VENDOR)/etc/configs/audio/readme.txt
 
-PRODUCT_PACKAGES += \
-    android.hardware.audio@6.0-impl:32 \
-    android.hardware.audio@2.0-service \
-    android.hardware.audio.effect@6.0-impl:32
-
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/audio_effects.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_effects.xml \
     $(IMX_DEVICE_PATH)/audio_policy_configuration.xml:$(TARGET_COPY_OUT_VENDOR)/etc/audio_policy_configuration.xml
@@ -233,7 +245,7 @@ PRODUCT_PACKAGES += \
 
 # define frame buffer count
 PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
-    ro.surface_flinger.max_frame_buffer_acquired_buffers=3
+    ro.surface_flinger.max_frame_buffer_acquired_buffers=4
 
 # Gralloc HAL
 PRODUCT_PACKAGES += \
@@ -328,8 +340,8 @@ PRODUCT_COPY_FILES += \
 
 # Wifi regulatory
 PRODUCT_COPY_FILES += \
-    external/wireless-regdb/regulatory.db:vendor/firmware/regulatory.db \
-    external/wireless-regdb/regulatory.db.p7s:vendor/firmware/regulatory.db.p7s
+    external/wireless-regdb/regulatory.db:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/lib/firmware/regulatory.db \
+    external/wireless-regdb/regulatory.db.p7s:$(TARGET_COPY_OUT_VENDOR_RAMDISK)/lib/firmware/regulatory.db.p7s
 
 # -------@block_bluetooth-------
 # Bluetooth HAL
@@ -353,6 +365,9 @@ PRODUCT_PACKAGES += \
 PRODUCT_COPY_FILES += \
     $(IMX_DEVICE_PATH)/init.usb.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/hw/init.nxp.usb.rc
 
+PRODUCT_DEFAULT_PROPERTY_OVERRIDES += \
+    sys.usb.mtp.batchcancel=1
+
 # -------@block_multimedia_codec-------
 # Vendor seccomp policy files for media components:
 PRODUCT_COPY_FILES += \
@@ -384,7 +399,6 @@ ifeq ($(PREBUILT_FSL_IMX_CODEC),true)
 ifneq ($(IMX8_BUILD_32BIT_ROOTFS),true)
 INSTALL_64BIT_LIBRARY := true
 endif
--include $(FSL_CODEC_PATH)/fsl-codec/fsl-codec.mk
 endif
 
 # -------@block_neural_network-------
@@ -427,7 +441,8 @@ PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.hardware.usb.host.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.usb.host.xml \
     frameworks/native/data/etc/android.hardware.vulkan.level-0.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.level-0.xml \
     frameworks/native/data/etc/android.hardware.vulkan.version-1_1.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.vulkan.version-1_1.xml \
-    frameworks/native/data/etc/android.software.vulkan.deqp.level-2020-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level-2020-03-01.xml \
+    frameworks/native/data/etc/android.software.vulkan.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.vulkan.deqp.level.xml \
+    frameworks/native/data/etc/android.software.opengles.deqp.level-2021-03-01.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.software.opengles.deqp.level.xml \
     frameworks/native/data/etc/android.hardware.wifi.direct.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.direct.xml \
     frameworks/native/data/etc/android.hardware.wifi.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.xml \
     frameworks/native/data/etc/android.hardware.wifi.passpoint.xml:$(TARGET_COPY_OUT_VENDOR)/etc/permissions/android.hardware.wifi.passpoint.xml \
