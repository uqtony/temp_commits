c7e4ad9c0a3b jenkins 2020-12-21

Merge branch 'merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev' into idt-imx-android-11-dev

Change-Id: I2a6f32d6e3db2e19ab977fd2356e0dade94d8d2a

diff --cc arch/arm64/boot/dts/freescale/imx8mm-ddr4-evk-no-dynamic_partition.dts
index 3b2101c74137,24348b19f3f7..9559793ae9e7
--- a/arch/arm64/boot/dts/freescale/imx8mm-ddr4-evk-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mm-ddr4-evk-no-dynamic_partition.dts
@@@ -13,24 -13,21 +13,24 @@@
  			fstab {
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8mm-ddr4-evk-no-product-no-dynamic_partition.dts
index 09f5f86562e4,6d48c8ae2c3b..6f841a1eed31
--- a/arch/arm64/boot/dts/freescale/imx8mm-ddr4-evk-no-product-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mm-ddr4-evk-no-product-no-dynamic_partition.dts
@@@ -14,24 -14,21 +14,24 @@@
  				/delete-node/ product;
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8mm-evk-no-dynamic_partition.dts
index 0f54cadc9727,05f4597abb67..8e5befd91487
--- a/arch/arm64/boot/dts/freescale/imx8mm-evk-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mm-evk-no-dynamic_partition.dts
@@@ -22,24 -22,21 +22,24 @@@
  			fstab {
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8mm-evk-no-product-no-dynamic_partition.dts
index cb3b98177679,1ecfa732d6aa..2f7f66d2c54c
--- a/arch/arm64/boot/dts/freescale/imx8mm-evk-no-product-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mm-evk-no-product-no-dynamic_partition.dts
@@@ -23,24 -23,21 +23,24 @@@
  				/delete-node/ product;
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b60000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8mm-evk.dts
index a7e4f519b7b9,919897bb149a..0f78ee6e0dd3
--- a/arch/arm64/boot/dts/freescale/imx8mm-evk.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mm-evk.dts
@@@ -25,8 -25,15 +25,8 @@@
  					dev = "system";
  					type = "ext4";
  					mnt_flags = "noatime,errors=panic,ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey,logical,first_stage_mount";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb,logical,first_stage_mount";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb,logical,first_stage_mount";
 -				};
  				vendor {
  					compatible = "android,vendor";
  					dev = "vendor";
diff --cc arch/arm64/boot/dts/freescale/imx8mn-ddr4-evk-no-dynamic_partition.dts
index 2a1783be97a9,c236ccaf2c37..dfbaa3d8cca0
--- a/arch/arm64/boot/dts/freescale/imx8mn-ddr4-evk-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mn-ddr4-evk-no-dynamic_partition.dts
@@@ -21,24 -21,21 +21,24 @@@
  			fstab {
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/30800000.bus/30b50000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/30800000.bus/30b50000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8mn-ddr4-evk-no-product-no-dynamic_partition.dts
index 5f3a15700ba6,e9b459928002..63bb56ad42a0
--- a/arch/arm64/boot/dts/freescale/imx8mn-ddr4-evk-no-product-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mn-ddr4-evk-no-product-no-dynamic_partition.dts
@@@ -22,24 -22,21 +22,24 @@@
  				/delete-node/ product;
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/30800000.bus/30b50000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/30800000.bus/30b50000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8mn-evk.dts
index 69f1bf256b2e,c47d2147a314..5b662464e715
--- a/arch/arm64/boot/dts/freescale/imx8mn-evk.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mn-evk.dts
@@@ -63,14 -63,6 +63,17 @@@
  		};
  	};
  
++<<<<<<< HEAD
 +	bt_rfkill {
 +		compatible = "fsl,mxc_bt_rfkill";
 +		bt-power-gpios = <&gpio2 6 GPIO_ACTIVE_LOW>;
 +		reset-delay-us = <2000>;
 +		reset-post-delay-ms = <40>;
 +		status ="okay";
 +	};
 +
++=======
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
  	ir_recv: ir-receiver {
  		compatible = "gpio-ir-receiver";
  		gpios = <&gpio1 13 GPIO_ACTIVE_LOW>;
diff --cc arch/arm64/boot/dts/freescale/imx8mn.dtsi
index cd6fb89b6edc,c5ac30bde7a3..b3a399a92157
--- a/arch/arm64/boot/dts/freescale/imx8mn.dtsi
+++ b/arch/arm64/boot/dts/freescale/imx8mn.dtsi
@@@ -29,8 -29,15 +29,8 @@@
  					dev = "system";
  					type = "ext4";
  					mnt_flags = "noatime,errors=panic,ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey,logical,first_stage_mount";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb,logical,first_stage_mount";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb,logical,first_stage_mount";
 -				};
  				vendor {
  					compatible = "android,vendor";
  					dev = "vendor";
diff --cc arch/arm64/boot/dts/freescale/imx8mp-evk-no-dynamic_partition.dts
index e04c0fd7aa02,8e9d0ece159c..765e4f0426d6
--- a/arch/arm64/boot/dts/freescale/imx8mp-evk-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mp-evk-no-dynamic_partition.dts
@@@ -10,26 -10,23 +10,26 @@@
  	firmware {
  		android {
  			fstab {
 -				system {
 +                                system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/30800000.bus/30b50000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/30800000.bus/30b50000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8mp-evk-no-product-no-dynamic_partition.dts
index cfab29213344,1f5bc8e5ad83..15f884330d8e
--- a/arch/arm64/boot/dts/freescale/imx8mp-evk-no-product-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mp-evk-no-product-no-dynamic_partition.dts
@@@ -10,27 -10,24 +10,27 @@@
  	firmware {
  		android {
  			fstab {
 -			/delete-node/ product;
 -			system {
 +				/delete-node/ product;
 +                                system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/30800000.bus/30b50000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -			system_ext {
 -				compatible = "android,system_ext";
 -				dev = "/dev/block/by-name/system_ext";
 -				type = "ext4";
 -				mnt_flags = "noatime,ro,errors=panic";
 -				fsmgr_flags = "wait,slotselect,avb";
 -			};
 -			vendor {
 +				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/30800000.bus/30b50000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk2 */
 +					dev_mmcblk2 = "/dev/block/platform/soc@0/30800000.bus/30b60000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8mp-evk.dts
index 5d1a24d57ddc,acd0a27b9656..c4d8d65f4763
--- a/arch/arm64/boot/dts/freescale/imx8mp-evk.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mp-evk.dts
@@@ -24,8 -24,15 +24,8 @@@
  					dev = "system";
  					type = "ext4";
  					mnt_flags = "noatime,errors=panic,ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey,logical,first_stage_mount";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb,logical,first_stage_mount";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb,logical,first_stage_mount";
 -				};
  				vendor {
  					compatible = "android,vendor";
  					dev = "vendor";
diff --cc arch/arm64/boot/dts/freescale/imx8mq-evk-no-dynamic_partition.dts
index f9299ba56b0f,11aa4116eeed..59598bb1cce8
--- a/arch/arm64/boot/dts/freescale/imx8mq-evk-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mq-evk-no-dynamic_partition.dts
@@@ -22,24 -22,21 +22,24 @@@
  			fstab {
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b40000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b40000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b40000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b40000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8mq-evk-no-product-no-dynamic_partition.dts
index 666424608774,ce05b3ff3790..7ee54a18d4d3
--- a/arch/arm64/boot/dts/freescale/imx8mq-evk-no-product-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mq-evk-no-product-no-dynamic_partition.dts
@@@ -23,24 -23,21 +23,24 @@@
  				/delete-node/ product;
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b40000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b40000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b40000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b50000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/soc@0/soc@0:bus@30800000/30b40000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8mq-evk.dts
index b766b29d7a60,b0d1c27c4bad..b7f789204a66
--- a/arch/arm64/boot/dts/freescale/imx8mq-evk.dts
+++ b/arch/arm64/boot/dts/freescale/imx8mq-evk.dts
@@@ -26,8 -26,15 +26,8 @@@
  					dev = "system";
  					type = "ext4";
  					mnt_flags = "noatime,errors=panic,ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey,logical,first_stage_mount";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb,logical,first_stage_mount";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb,logical,first_stage_mount";
 -				};
  				vendor {
  					compatible = "android,vendor";
  					dev = "vendor";
@@@ -111,14 -118,6 +111,17 @@@
  		};
  	};
  
++<<<<<<< HEAD
 +	bt_rfkill {
 +		compatible = "fsl,mxc_bt_rfkill";
 +		bt-power-gpios = <&gpio3 5 GPIO_ACTIVE_LOW>;
 +		reset-delay-us = <2000>;
 +		reset-post-delay-ms = <40>;
 +		status ="okay";
 +	};
 +
++=======
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
  	ir_recv: ir-receiver {
  		compatible = "gpio-ir-receiver";
  		gpios = <&gpio1 12 GPIO_ACTIVE_LOW>;
@@@ -807,7 -806,6 +810,10 @@@
  };
  
  &usb3_phy0 {
++<<<<<<< HEAD
 +	#phy-cells = <1>;
++=======
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
  	vbus-power-source = <&ptn5110>;
  	status = "okay";
  };
diff --cc arch/arm64/boot/dts/freescale/imx8qm-mek-car2.dts
index 8e1485bc5e36,65b55ca3499a..67156f9b5806
--- a/arch/arm64/boot/dts/freescale/imx8qm-mek-car2.dts
+++ b/arch/arm64/boot/dts/freescale/imx8qm-mek-car2.dts
@@@ -171,36 -171,3 +171,39 @@@
  	status = "disabled";
  };
  
++<<<<<<< HEAD
 +/ {
 +	firmware {
 +		android {
 +			fstab {
 +				/delete-node/ system;
 +				vendor {
 +					compatible = "android,vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
 +					type = "ext4";
 +					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
 +					fsmgr_flags = "wait,slotselect,avb";
 +				};
 +				product {
 +					compatible = "android,product";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/product";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/product";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/product";
 +					type = "ext4";
 +					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
 +					fsmgr_flags = "wait,slotselect,avb";
 +				};
 +			};
 +		};
 +	};
 +};
++=======
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
diff --cc arch/arm64/boot/dts/freescale/imx8qm-mek-ov5640-no-dynamic_partition.dts
index 247f5622ea93,99091d75d020..e4b19ca30bbd
--- a/arch/arm64/boot/dts/freescale/imx8qm-mek-ov5640-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8qm-mek-ov5640-no-dynamic_partition.dts
@@@ -20,24 -20,21 +20,24 @@@
  			fstab {
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
 -				vendor {
 +				product {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8qm-mek-ov5640-no-product-no-dynamic_partition.dts
index 0060e9b624ba,b6542c7dce54..95b175cff177
--- a/arch/arm64/boot/dts/freescale/imx8qm-mek-ov5640-no-product-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8qm-mek-ov5640-no-product-no-dynamic_partition.dts
@@@ -21,24 -21,21 +21,24 @@@
  				/delete-node/ product;
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8qm-mek.dts
index 447310cd2e4c,8a382cdf41ff..e5c5e9fc5c93
--- a/arch/arm64/boot/dts/freescale/imx8qm-mek.dts
+++ b/arch/arm64/boot/dts/freescale/imx8qm-mek.dts
@@@ -26,8 -26,15 +26,8 @@@
  					dev = "system";
  					type = "ext4";
  					mnt_flags = "noatime,errors=panic,ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey,logical,first_stage_mount";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb,logical,first_stage_mount";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb,logical,first_stage_mount";
 -				};
  				vendor {
  					compatible = "android,vendor";
  					dev = "vendor";
diff --cc arch/arm64/boot/dts/freescale/imx8qxp-mek-car2.dts
index e28da2ccb1ea,f151745bd809..36f12eaa1300
--- a/arch/arm64/boot/dts/freescale/imx8qxp-mek-car2.dts
+++ b/arch/arm64/boot/dts/freescale/imx8qxp-mek-car2.dts
@@@ -160,36 -160,7 +160,42 @@@
  	status = "disabled";
  };
  
++<<<<<<< HEAD
 +/ {
 +	firmware {
 +		android {
 +			fstab {
 +				/delete-node/ system;
 +				vendor {
 +					compatible = "android,vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
 +					type = "ext4";
 +					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
 +					fsmgr_flags = "wait,slotselect,avb";
 +				};
 +				product {
 +					compatible = "android,product";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/product";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/product";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/product";
 +					type = "ext4";
 +					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
 +					fsmgr_flags = "wait,slotselect,avb";
 +				};
 +			};
 +		};
 +	};
++=======
+ &isi_4 {
+ 	status = "disabled";
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
  };
+ 
diff --cc arch/arm64/boot/dts/freescale/imx8qxp-mek-ov5640-rpmsg-no-dynamic_partition.dts
index 9f330a69dd09,03f79fa7b9e6..43fee161df35
--- a/arch/arm64/boot/dts/freescale/imx8qxp-mek-ov5640-rpmsg-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8qxp-mek-ov5640-rpmsg-no-dynamic_partition.dts
@@@ -20,24 -20,21 +20,24 @@@
  			fstab {
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8qxp-mek-ov5640-rpmsg-no-product-no-dynamic_partition.dts
index 8115661cc412,3dad0d260fda..82617b3bc9c5
--- a/arch/arm64/boot/dts/freescale/imx8qxp-mek-ov5640-rpmsg-no-product-no-dynamic_partition.dts
+++ b/arch/arm64/boot/dts/freescale/imx8qxp-mek-ov5640-rpmsg-no-product-no-dynamic_partition.dts
@@@ -21,24 -21,21 +21,24 @@@
  				/delete-node/ product;
  				system {
  					compatible = "android,system";
 -					dev = "/dev/block/by-name/system";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/system";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/system";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/system";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "/dev/block/by-name/system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb";
 -				};
  				vendor {
  					compatible = "android,vendor";
 -					dev = "/dev/block/by-name/vendor";
 +					/* default emmc node used for GSI */
 +					dev = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
 +					/* sd card node which used if androidboot.boot_device_root=mmcblk1 */
 +					dev_mmcblk1 = "/dev/block/platform/bus@5b000000/5b020000.mmc/by-name/vendor";
 +					/* emmc node which used if androidboot.boot_device_root=mmcblk0 */
 +					dev_mmcblk0 = "/dev/block/platform/bus@5b000000/5b010000.mmc/by-name/vendor";
  					type = "ext4";
  					mnt_flags = "ro,barrier=1,inode_readahead_blks=8";
  					fsmgr_flags = "wait,slotselect,avb";
diff --cc arch/arm64/boot/dts/freescale/imx8qxp-mek.dts
index acc30b5b56d9,dbde75f3f2e8..3d6b77f9d23c
--- a/arch/arm64/boot/dts/freescale/imx8qxp-mek.dts
+++ b/arch/arm64/boot/dts/freescale/imx8qxp-mek.dts
@@@ -25,8 -25,15 +25,8 @@@
  					dev = "system";
  					type = "ext4";
  					mnt_flags = "noatime,errors=panic,ro,barrier=1,inode_readahead_blks=8";
- 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey,logical,first_stage_mount";
+ 					fsmgr_flags = "wait,slotselect,avb,avb_keys=/avb,logical,first_stage_mount";
  				};
 -				system_ext {
 -					compatible = "android,system_ext";
 -					dev = "system_ext";
 -					type = "ext4";
 -					mnt_flags = "noatime,ro,errors=panic";
 -					fsmgr_flags = "wait,slotselect,avb,logical,first_stage_mount";
 -				};
  				vendor {
  					compatible = "android,vendor";
  					dev = "vendor";
diff --cc arch/arm64/configs/imx_v8_android_car2_defconfig
index fa34cca22e0c,577436e9fd38..b099700025ea
--- a/arch/arm64/configs/imx_v8_android_car2_defconfig
+++ b/arch/arm64/configs/imx_v8_android_car2_defconfig
@@@ -9,7 -9,7 +9,11 @@@ CONFIG_TASK_IO_ACCOUNTING=
  CONFIG_PSI=y
  CONFIG_IKCONFIG=y
  CONFIG_IKCONFIG_PROC=y
++<<<<<<< HEAD
 +CONFIG_IKHEADERS=m
++=======
+ CONFIG_IKHEADERS=y
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
  CONFIG_UCLAMP_TASK=y
  CONFIG_MEMCG=y
  CONFIG_MEMCG_SWAP=y
diff --cc arch/arm64/configs/imx_v8_android_car_defconfig
index 100345fea07d,03ce15216bb6..80b91cf8bd00
--- a/arch/arm64/configs/imx_v8_android_car_defconfig
+++ b/arch/arm64/configs/imx_v8_android_car_defconfig
@@@ -9,7 -9,7 +9,11 @@@ CONFIG_TASK_IO_ACCOUNTING=
  CONFIG_PSI=y
  CONFIG_IKCONFIG=y
  CONFIG_IKCONFIG_PROC=y
++<<<<<<< HEAD
 +CONFIG_IKHEADERS=m
++=======
+ CONFIG_IKHEADERS=y
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
  CONFIG_UCLAMP_TASK=y
  CONFIG_MEMCG=y
  CONFIG_MEMCG_SWAP=y
diff --cc arch/arm64/configs/imx_v8_android_defconfig
index 8987fc2b418d,86592e673c7a..de8ee210740a
--- a/arch/arm64/configs/imx_v8_android_defconfig
+++ b/arch/arm64/configs/imx_v8_android_defconfig
@@@ -13,7 -13,7 +13,11 @@@ CONFIG_TASK_IO_ACCOUNTING=
  CONFIG_PSI=y
  CONFIG_IKCONFIG=y
  CONFIG_IKCONFIG_PROC=y
++<<<<<<< HEAD
 +CONFIG_IKHEADERS=m
++=======
+ CONFIG_IKHEADERS=y
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
  CONFIG_UCLAMP_TASK=y
  CONFIG_NUMA_BALANCING=y
  CONFIG_MEMCG=y
diff --cc kernel/sched/cpufreq_schedutil.c
index 1e0cc34a678a,8f20c65eb01f..7844ffd09f51
--- a/kernel/sched/cpufreq_schedutil.c
+++ b/kernel/sched/cpufreq_schedutil.c
@@@ -17,6 -17,8 +17,11 @@@
  
  struct sugov_tunables {
  	struct gov_attr_set	attr_set;
++<<<<<<< HEAD
++=======
+ 
+ 	unsigned int		freq_coefficient;
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
  	unsigned int		up_rate_limit_us;
  	unsigned int		down_rate_limit_us;
  };
@@@ -625,39 -628,39 +631,89 @@@ static void update_min_rate_limit_ns(st
  }
  
  static ssize_t up_rate_limit_us_show(struct gov_attr_set *attr_set, char *buf)
++<<<<<<< HEAD
+ {
+ 	struct sugov_tunables *tunables = to_sugov_tunables(attr_set);
+ 
+ 	return sprintf(buf, "%u
", tunables->up_rate_limit_us);
+ }
+ 
+ static ssize_t down_rate_limit_us_show(struct gov_attr_set *attr_set, char *buf)
++=======
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
  {
  	struct sugov_tunables *tunables = to_sugov_tunables(attr_set);
+ 	return sprintf(buf, "%u
", tunables->down_rate_limit_us);
+ }
+ 
+ static ssize_t up_rate_limit_us_store(struct gov_attr_set *attr_set,
+ 					const char *buf, size_t count)
+ {
+ 	struct sugov_tunables *tunables = to_sugov_tunables(attr_set);
+ 	struct sugov_policy *sg_policy;
+ 	unsigned int rate_limit_us;
+ 
++<<<<<<< HEAD
+ 	if (kstrtouint(buf, 10, &rate_limit_us))
+ 		return -EINVAL;
+ 
+ 	tunables->up_rate_limit_us = rate_limit_us;
+ 
+ 	list_for_each_entry(sg_policy, &attr_set->policy_list, tunables_hook) {
+ 		sg_policy->up_rate_delay_ns = rate_limit_us * NSEC_PER_USEC;
+ 		update_min_rate_limit_ns(sg_policy);
+ 	}
  
+ 	return count;
+ }
+ 
+ 
++static ssize_t down_rate_limit_us_store(struct gov_attr_set *attr_set,
++=======
 +	return sprintf(buf, "%u
", tunables->up_rate_limit_us);
 +}
 +
 +static ssize_t down_rate_limit_us_show(struct gov_attr_set *attr_set, char *buf)
 +{
 +	struct sugov_tunables *tunables = to_sugov_tunables(attr_set);
 +	return sprintf(buf, "%u
", tunables->down_rate_limit_us);
 +}
 +
 +static ssize_t up_rate_limit_us_store(struct gov_attr_set *attr_set,
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
 +					const char *buf, size_t count)
 +{
 +	struct sugov_tunables *tunables = to_sugov_tunables(attr_set);
 +	struct sugov_policy *sg_policy;
 +	unsigned int rate_limit_us;
 +
 +	if (kstrtouint(buf, 10, &rate_limit_us))
 +		return -EINVAL;
 +
++<<<<<<< HEAD
++	tunables->down_rate_limit_us = rate_limit_us;
++
++	list_for_each_entry(sg_policy, &attr_set->policy_list, tunables_hook) {
++		sg_policy->down_rate_delay_ns = rate_limit_us * NSEC_PER_USEC;
++=======
 +	tunables->up_rate_limit_us = rate_limit_us;
 +
 +	list_for_each_entry(sg_policy, &attr_set->policy_list, tunables_hook) {
 +		sg_policy->up_rate_delay_ns = rate_limit_us * NSEC_PER_USEC;
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
 +		update_min_rate_limit_ns(sg_policy);
 +	}
 +
 +	return count;
 +}
 +
++<<<<<<< HEAD
++static struct governor_attr up_rate_limit_us = __ATTR_RW(up_rate_limit_us);
++static struct governor_attr down_rate_limit_us = __ATTR_RW(down_rate_limit_us);
++
++static struct attribute *sugov_attrs[] = {
++=======
 +
  static ssize_t down_rate_limit_us_store(struct gov_attr_set *attr_set,
  					const char *buf, size_t count)
  {
@@@ -681,7 -684,30 +737,31 @@@
  static struct governor_attr up_rate_limit_us = __ATTR_RW(up_rate_limit_us);
  static struct governor_attr down_rate_limit_us = __ATTR_RW(down_rate_limit_us);
  
+ static ssize_t freq_coefficient_show(struct gov_attr_set *attr_set, char *buf)
+ {
+ 	struct sugov_tunables *tunables = to_sugov_tunables(attr_set);
+ 
+ 	return sprintf(buf, "%u
", tunables->freq_coefficient);
+ }
+ 
+ static ssize_t
+ freq_coefficient_store(struct gov_attr_set *attr_set, const char *buf, size_t count)
+ {
+ 	struct sugov_tunables *tunables = to_sugov_tunables(attr_set);
+ 	unsigned int freq_coefficient;
+ 
+ 	if (kstrtouint(buf, 10, &freq_coefficient))
+ 		return -EINVAL;
+ 
+ 	tunables->freq_coefficient = freq_coefficient;
+ 
+ 	return count;
+ }
+ static struct governor_attr freq_coefficient = __ATTR_RW(freq_coefficient);
+ 
  static struct attribute *sugov_attrs[] = {
+ 	&freq_coefficient.attr,
++>>>>>>> merge_imx-android-11.0.0_1.0.0_to_idt-imx-android-11-dev
  	&up_rate_limit_us.attr,
   	&down_rate_limit_us.attr,
  	NULL
